System.register(["./3890c6c9.js"],(function(e){"use strict";var t,n,i,o,a,s,l,r,c,d,h,u,p,g,m,v,b,f,y,C,_,S,E,T;return{setters:[function(k){t=k._,n=k.a,i=k.v,o=k.N,a=k.f,s=k.g,l=k.o,r=k.t,c=k.aM,d=k.J,h=k.c,u=k.d,p=k.ap,g=k.q,m=k.e,v=k.i,b=k.b,f=k.r,y=k.a8,C=k.ay,_=k.aO,S=k.a2,E=k.aP,T=k.s,e({autorun:k.o,css:k.i,html:k.x,store:k.N,toJS:k.t,unsafeCSS:k.r})}],execute:function(){var k,w,I=function(){return n((function e(t){var n=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];h(this,e),globalThis.SimpleColorsSharedStyles.requestAvailability(),i&&null==p("HAXCMSSystemData",null)&&g("HAXCMSSystemData",{}),this.__disposer=this.__disposer?this.__disposer:[],l((function(e){o.jwt&&o.themeElement&&o.cmsSiteEditorBackend.tag&&o.themeElement.contentContainer&&o.isLoggedIn&&n.connect(o.themeElement,o.themeElement.contentContainer),n.__disposer.push(e)}))}),[{key:"connect",value:function(e,t){this.windowControllers&&this.windowControllers.abort(),this.windowControllers=new AbortController,globalThis.addEventListener("haxcms-active-item-changed",this._activeItemUpdate.bind(e),{signal:this.windowControllers.signal}),globalThis.addEventListener("haxcms-edit-mode-changed",this._globalEditChanged.bind(e),{signal:this.windowControllers.signal}),globalThis.addEventListener("haxcms-trigger-update",this._triggerUpdate.bind(e),{signal:this.windowControllers.signal}),this.cmsSiteEditorInstance&&globalThis.document.body.appendChild(this.cmsSiteEditorInstance),o.jwt&&o.cmsSiteEditorBackend.tag&&o.isLoggedIn&&(this.cmsSiteEditorInstance=o.cmsSiteEditorAvailability(),o.cmsSiteEditor.instance.appElement=e,o.cmsSiteEditor.instance.appendTarget=t,o.cmsSiteEditor.instance.appendTarget.appendChild(o.cmsSiteEditor.instance))}},{key:"disconnect",value:function(e){this.windowControllers.abort(),this.cmsSiteEditorInstance&&globalThis.document.body.appendChild(this.cmsSiteEditorInstance)}},{key:"_globalEditChanged",value:function(e){this.editMode=e.detail}},{key:"_activeItemUpdate",value:function(e){var t=e.detail;if(t&&"undefined"!==i(t.id)){o.activeId=t.id;var n=new CustomEvent("json-outline-schema-active-item-changed",{bubbles:!0,composed:!0,cancelable:!0,detail:t});this.dispatchEvent(n),"undefined"!==i(t.title)?globalThis.document.title=o.routerManifest.title+" - "+t.title:globalThis.document.title=o.routerManifest.title}else globalThis.document.title=o.routerManifest.title}},{key:"_triggerUpdate",value:function(e){this.dispatchEvent(new CustomEvent("haxcms-active-item-changed",{bubbles:!0,composed:!0,cancelable:!0,detail:{}}))}}])}();e("HAXCMSLitElementTheme",function(e){function i(){var e;return h(this,i),(e=u(this,i)).editMode=!1,e.isLoggedIn=!1,e.__disposer=e.__disposer?e.__disposer:[],l((function(t){e.editMode=r(o.editMode),e.__disposer.push(t)})),l((function(t){(r(o.activeItemContent),e.HAXCMSThemeSettings.autoScroll&&e.shadowRoot&&e.HAXCMSThemeSettings.scrollTarget&&e.HAXCMSThemeSettings.scrollTarget.scrollIntoView)&&(void 0!==globalThis.safari?e.HAXCMSThemeSettings.scrollTarget.scrollIntoView():e.HAXCMSThemeSettings.scrollTarget.scrollIntoView({behavior:"instant",block:"start",inline:"nearest"}));setTimeout((function(){var t=e.querySelectorAll("h1,h2,h3,h4,h5,h6");t.length>0&&t.forEach((function(t){t.addEventListener("click",e.copyLink.bind(e)),t.addEventListener("pointerenter",e.hoverIntentEnter.bind(e)),t.addEventListener("pointerleave",e.hoverIntentLeave.bind(e))}))}),100),e.__disposer.push(t)})),e}return t(i,e),n(i,[{key:"hoverIntentEnter",value:function(e){e.target.classList.add("haxcms-copyable")}},{key:"hoverIntentLeave",value:function(e){e.target.classList.remove("haxcms-copyable")}},{key:"HAXCMSGlobalStyleSheetContent",value:function(){return[v(k||(k=b(['\n        .haxcms-copyable {\n          background-image: url("','");\n          background-position: right;\n          background-repeat: no-repeat;\n          background-size: 36px;\n        }\n      '])),f(y.getIcon("icons:link"))),C]}},{key:"copyLink",value:function(e){var t=e.target;t||(t=e.path[0]),!t.id&&t.parentNode&&t.parentNode.id&&(t=t.parentNode),void 0!==globalThis.safari?t.scrollIntoView():t.scrollIntoView({behavior:"instant",block:"start",inline:"nearest"});var n=globalThis.location.origin+globalThis.location.pathname+"#"+t.getAttribute("id");globalThis.history.pushState({},null,n),globalThis.dispatchEvent(new PopStateEvent("popstate")),_(n,"Anchor link copied!")}},{key:"firstUpdated",value:function(e){var t=this;a(s(i.prototype),"firstUpdated",this)&&a(s(i.prototype),"firstUpdated",this).call(this,e),null==this.contentContainer&&(this.contentContainer=this.shadowRoot.querySelector("#contentcontainer")),S(this.HAXCMSGlobalStyleSheetContent(),o.themeStyleElement),setTimeout((function(){setTimeout((function(){if(t._location&&t._location.hash){var e=t.querySelector(t._location.hash);if(e)void 0!==globalThis.safari?e.scrollIntoView():e.scrollIntoView({behavior:"instant",block:"start",inline:"nearest"})}}),0);var e=t.querySelectorAll("h1,h2,h3,h4,h5,h6");e.length>0&&e.forEach((function(e){e.addEventListener("click",t.copyLink.bind(t)),e.addEventListener("pointerenter",t.hoverIntentEnter.bind(t)),e.addEventListener("pointerleave",t.hoverIntentLeave.bind(t))}))}),1500)}},{key:"updated",value:function(e){var t=this;a(s(i.prototype),"updated",this)&&a(s(i.prototype),"updated",this).call(this,e),e.forEach((function(e,n){"_location"==n&&(t._locationChanged(t[n],e),setTimeout((function(){if(t._location&&t._location.hash){var e=t.querySelector(t._location.hash);if(e)void 0!==globalThis.safari?e.scrollIntoView():e.scrollIntoView({behavior:"instant",block:"start",inline:"nearest"})}}),0)),"color"==n&&t._colorChanged(t[n],e),"contentContainer"==n&&(t.dispatchEvent(new CustomEvent("content-container-changed",{bubbles:!0,cancelable:!0,composed:!0,detail:t[n]})),t._contentContainerChanged(t[n],e)),"isLoggedIn"==n&&t.dispatchEvent(new CustomEvent("is-logged-in-changed",{bubbles:!0,cancelable:!0,composed:!0,detail:t[n]})),"editMode"==n&&(t.dispatchEvent(new CustomEvent("edit-mode-changed",{bubbles:!0,cancelable:!0,composed:!0,detail:t[n]})),t._editModeChanged(t[n],e))}))}}],[{key:"properties",get:function(){var e={};return a(s(i),"properties",this)&&(e=a(s(i),"properties",this)),m(m({},e),{},{hexColor:{type:String,attribute:"hex-color"},color:{type:String,reflect:!0},editMode:{type:Boolean,reflect:!0,attribute:"edit-mode"},isLoggedIn:{type:Boolean,reflect:!0,attribute:"is-logged-in"},contentContainer:{type:Object},_location:{type:Object}})}},{key:"styles",get:function(){var e=[];return a(s(i),"styles",this)&&(e=a(s(i),"styles",this)),[e,v(w||(w=b(["\n        :host([edit-mode]) {\n          opacity: 1;\n        }\n        :host([hidden]) {\n          display: none;\n        }\n        [hidden] {\n          display: none !important;\n        }\n\n        @media (prefers-reduced-motion: reduce) {\n          * {\n            transition: none !important;\n          }\n        }\n        /**\n        * Hide the slotted content during edit mode. This must be here to work.\n        */\n        :host([edit-mode]) #slot {\n          display: none;\n        }\n        #slot {\n          min-height: 50vh;\n        }\n      "])))]}}])}(function(e){function p(){var e;return h(this,p),(e=u(this,p)).windowControllers=new AbortController,e.HAXCMSThemeSettings={autoScroll:!1,scrollTarget:globalThis},e.__disposer=e.__disposer?e.__disposer:[],e.HAXCMSThemeWiring=new I(e),e}return t(p,e),n(p,[{key:"_colorChanged",value:function(e){e&&(this.hexColor=this._getHexColor(e))}},{key:"_getHexColor",value:function(e){var t=e.replace("-text",""),n=globalThis.SimpleColorsSharedStyles.colors;return n[t]?n[t][6]:"#000000"}},{key:"_editModeChanged",value:function(e,t){"undefined"!==i(t)&&(o.editMode=e,this.__styleReapply())}},{key:"_contentContainerChanged",value:function(e,t){!e||"undefined"!==i(t)&&null!=t?e&&t?(this.HAXCMSThemeWiring.disconnect(this),this.HAXCMSThemeWiring.connect(this,e)):t&&null==e&&this.HAXCMSThemeWiring.disconnect(this):this.HAXCMSThemeWiring.connect(this,e)}},{key:"_locationChanged",value:function(e,t){if(e&&void 0!==e.route&&"home"==e.route.name){var n=o.routerManifest.items.find((function(e){return void 0!==e.id}));n&&(o.activeId=n.id)}}},{key:"connectedCallback",value:function(){var e=this;a(s(p.prototype),"connectedCallback",this).call(this),setTimeout((function(){if(0===e.childNodes.length){var t=document.createRange().createContextualFragment(o.activeItemContent);e.appendChild(t)}e.__styleReapply()}),50),l((function(t){e.activeItemContent=r(o.activeItemContent),e.__disposer.push(t)})),l((function(t){e.editMode=r(o.editMode),e.__disposer.push(t)})),l((function(t){e.isLoggedIn=r(o.isLoggedIn),e.__disposer.push(t)})),l((function(t){var n=r(o.manifest);if(n&&c(n,"title")&&(globalThis.document.title=n.title),n&&c(n,"metadata.theme.variables.cssVariable")){var i=n.metadata.theme.variables.cssVariable.replace("--simple-colors-default-theme-","").split("-");i.pop(),e.accentColor=i.join("-");var a=d(n,"metadata.theme.variables.cssVariable",null);a=null==a?d(n,"metadata.theme.variables.hexCode","#ff0074"):"var(".concat(a,")"),globalThis.document.body.style.setProperty("--haxcms-color",a)}e.__disposer.push(t)})),l((function(t){e._location=r(o.location),e.__disposer.push(t)}))}},{key:"__styleReapply",value:function(){globalThis.dispatchEvent(new Event("resize"))}},{key:"disconnectedCallback",value:function(){for(var e in delete this.contentContainer,this.__disposer)this.__disposer[e].dispose();a(s(p.prototype),"disconnectedCallback",this).call(this)}},{key:"resetActive",value:function(){globalThis.history.pushState(null,null,o.location.baseUrl),globalThis.dispatchEvent(new PopStateEvent("popstate")),this.dispatchEvent(new CustomEvent("haxcms-active-item-changed",{bubbles:!0,composed:!0,cancelable:!0,detail:{}}))}}])}(E(T))))}}}));
