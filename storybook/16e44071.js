System.register(["./5a6fff1c.js"],(function(t,e){"use strict";var a,o,i,l,n,s,r,c;return{setters:[function(t){a=t._,o=t.a,i=t.k,l=t.c,n=t.d,s=t.g,r=t.h,c=t.e}],execute:function(){var u={url:new URL("./elements/dynamic-import-registry/dynamic-import-registry.js",document.baseURI).href};globalThis.DynamicImportRegistry=globalThis.DynamicImportRegistry||{},globalThis.DynamicImportRegistry.requestAvailability=function(){return!globalThis.DynamicImportRegistry.instance&&globalThis.document&&globalThis.document.body&&(globalThis.DynamicImportRegistry.instance=globalThis.document.createElement("dynamic-import-registry"),globalThis.document.body.appendChild(globalThis.DynamicImportRegistry.instance)),globalThis.DynamicImportRegistry.instance};var g=function(t){function i(){var t;return l(this,i),(t=n(this,i)).windowControllers=new AbortController,t.list={},t.__loaded={},t.basePath=new URL("./dynamic-import-registry.js",u.url).href+"/../../../",globalThis.WCAutoloadBasePath?t.basePath=globalThis.WCAutoloadBasePath:globalThis.WCGlobalBasePath&&(t.basePath=globalThis.WCGlobalBasePath),t}return a(i,t),o(i,[{key:"connectedCallback",value:function(){globalThis.addEventListener("dynamic-import-registry--register",this.registerDefinitionEvent.bind(this),{signal:this.windowControllers.signal})}},{key:"disconnectedCallback",value:function(){this.windowControllers.abort()}},{key:"register",value:function(t){t.tag&&t.path?this.list[t.tag]||(this.list[t.tag]=t.path):console.warn("DynamicImportRegistry: registration requires tag and path be set")}},{key:"registerDefinitionEvent",value:function(t){t.detail.tag&&t.detail.path&&this.register(t.detail)}},{key:"getPathToTag",value:function(t){return!!(this.list&&t&&this.list[t])&&"".concat(this.basePath).concat(this.list[t])}},{key:"loadDefinition",value:(c=s(r().mark((function t(a){var o=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=a.toLowerCase(),globalThis.customElements.get(a)||!this.list[a]||this.__loaded[a]){t.next=15;break}return this.__loaded[a]=!0,t.prev=3,t.next=6,e.import("".concat(this.basePath).concat(this.list[a])).then((function(t){o.dispatchEvent(new CustomEvent("dynamic-import-registry-loaded",{detail:{tag:a,path:o.list[a],module:t}}))}));case 6:return t.abrupt("return",t.sent);case 9:return t.prev=9,t.t0=t.catch(3),console.warn("".concat(this.basePath).concat(this.list[a])),console.warn(t.t0),this.dispatchEvent(new CustomEvent("dynamic-import-registry-failure",{detail:{tag:a,path:this.list[a],module:null}})),t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t,this,[[3,9]])}))),function(t){return c.apply(this,arguments)})}],[{key:"tag",get:function(){return"dynamic-import-registry"}}]);var c}(i(HTMLElement));customElements.define(g.tag,g),globalThis.WCAutoload=globalThis.WCAutoload||{},globalThis.WCAutoloadRegistry=globalThis.WCAutoloadRegistry||{},globalThis.WCAutoload.requestAvailability=function(){return globalThis.WCAutoload.instance||(globalThis.WCAutoload.instance=globalThis.document.createElement("wc-autoload"),globalThis.document.body.appendChild(globalThis.WCAutoload.instance)),globalThis.WCAutoload.instance};var h=function(){var t=s(r().mark((function t(e,a,o){var i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<o)){t.next=16;break}return t.prev=2,t.next=5,fetch(e,a);case 5:return t.abrupt("return",t.sent);case 8:if(t.prev=8,t.t0=t.catch(2),!(i+1===o)){t.next=13;break}throw t.t0;case 13:i++,t.next=1;break;case 16:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e,a,o){return t.apply(this,arguments)}}();globalThis.WCAutoload.process=function(t){return new Promise((function(t,e){var a=globalThis.WCAutoload.requestAvailability();a.loaded=!0;var o={};if(globalThis.WCAutoloadRegistryFileProcessed){var i=document;a.target&&(i=a.target,a.processNewElement(i)),i.querySelectorAll("*").forEach((function(t){t.tagName&&!o[t.tagName]&&(a.processNewElement(t),o[t.tagName]=t.tagName)})),t("autoloader already processed")}else setTimeout(s(r().mark((function e(){var i,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(globalThis.WCAutoloadBasePath?a.registry.basePath=globalThis.WCAutoloadBasePath:globalThis.WCGlobalBasePath&&(a.registry.basePath=globalThis.WCGlobalBasePath),!globalThis.WCAutoloadRegistryFile||globalThis.WCAutoloadRegistryFileProcessed){e.next=10;break}"string"==typeof globalThis.WCAutoloadRegistryFile&&(globalThis.WCAutoloadRegistryFile=[globalThis.WCAutoloadRegistryFile]),i=0;case 4:if(!(i<globalThis.WCAutoloadRegistryFile.length)){e.next=10;break}return e.next=7,h(globalThis.WCAutoloadRegistryFile[i],{priority:"high"},3).then((function(t){return t.json()})).then((function(t){globalThis.WCAutoloadRegistryFileProcessed=!0,globalThis.WCAutoloadRegistry=c(c({},globalThis.WCAutoloadRegistry),t)}));case 7:i++,e.next=4;break;case 10:if(globalThis.WCAutoloadRegistry)for(i in globalThis.WCAutoloadRegistry)a.registry.register({tag:i,path:globalThis.WCAutoloadRegistry[i]});l=document,a.target&&(l=a.target,a.processNewElement(l)),l.querySelectorAll("*").forEach((function(t){t.tagName&&!o[t.tagName]&&(a.processNewElement(t),o[t.tagName]=t.tagName)})),t("autoloader processed on the fly");case 15:case"end":return e.stop()}}),e)}))),0)}))},globalThis.addEventListener("load",globalThis.WCAutoload.process),globalThis.WCAutoload.postLoaded=function(t){setTimeout((function(){var e=globalThis.WCAutoload.requestAvailability();e.loaded&&globalThis.document.querySelectorAll(t.detail.tag).length>0&&e.registry.loadDefinition(t.detail.tag)}),0)},globalThis.addEventListener("dynamic-import-registry--new-registration",globalThis.WCAutoload.postLoaded);var d=function(t){function e(){var t;return l(this,e),(t=n(this,e)).loader=globalThis.WCAutoload.requestAvailability(),t}return a(e,t),o(e,[{key:"connectedCallback",value:function(){var t=this;setTimeout((function(){if(t.children.length>0&&"TEMPLATE"==t.children[0].tagName)try{var e=JSON.parse(t.children[0].content.textContent);for(var a in e)t.loader.registry.register({tag:a,path:e[a]})}catch(t){console.warn(t)}}),0)}}],[{key:"tag",get:function(){return"wc-registry"}}])}(i(HTMLElement));customElements.define(d.tag,d);var b=t("WcAutoload",function(t){function e(){var t;return l(this,e),(t=n(this,e)).loaded=!1,t.registry=globalThis.DynamicImportRegistry.requestAvailability(),t.options={childList:!0,subtree:!0},t}return a(e,t),o(e,[{key:"connectedCallback",value:function(){var t=this;this._mutationObserver=new MutationObserver((function(e){e.forEach((function(e){e.addedNodes.forEach((function(e){t.processNewElement(e)}))}))})),globalThis.WCAutoloadOptions&&(this.options=globalThis.WCAutoloadOptions),setTimeout((function(){globalThis.WCAutoloadTarget?t.target=globalThis.WCAutoloadTarget:t.target=globalThis.document.body,t._mutationObserver.observe(t.target,t.options)}),0)}},{key:"disconnectedCallback",value:function(){this._mutationObserver.disconnect()}},{key:"processNewElement",value:function(t){t.tagName&&t.tagName.includes("-")&&"DYNAMIC-IMPORT-REGISTRY"!=t.tagName&&"WC-REGISTRY"!=t.tagName&&"WC-AUTOLOAD"!=t.tagName&&this.registry.loadDefinition(t.tagName)}}],[{key:"tag",get:function(){return"wc-autoload"}}])}(i(HTMLElement)));customElements.define(b.tag,b)}}}));
