System.register(["./5a6fff1c.js"],(function(e){"use strict";var t,n,i,o,a,s,l,r,c,d,h,u,p,m,g,v,b,f,C,y,S,_,E;return{setters:[function(T){t=T._,n=T.a,i=T.u,o=T.N,a=T.f,s=T.m,l=T.t,r=T.aL,c=T.J,d=T.c,h=T.d,u=T.ao,p=T.p,m=T.e,g=T.i,v=T.b,b=T.n,f=T.a7,C=T.ax,y=T.aN,S=T.a1,_=T.aO,E=T.r,e({autorun:T.m,css:T.i,html:T.x,store:T.N,toJS:T.t,unsafeCSS:T.n})}],execute:function(){var T,k,w=function(){return n((function e(t){var n=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];d(this,e),globalThis.SimpleColorsSharedStyles.requestAvailability(),i&&null==u("HAXCMSSystemData",null)&&p("HAXCMSSystemData",{}),this.__disposer=this.__disposer?this.__disposer:[],s((function(e){o.jwt&&o.themeElement&&o.cmsSiteEditorBackend.tag&&o.themeElement.contentContainer&&o.isLoggedIn&&n.connect(o.themeElement,o.themeElement.contentContainer),n.__disposer.push(e)}))}),[{key:"connect",value:function(e,t){this.windowControllers&&this.windowControllers.abort(),this.windowControllers=new AbortController,globalThis.addEventListener("haxcms-active-item-changed",this._activeItemUpdate.bind(e),{signal:this.windowControllers.signal}),globalThis.addEventListener("haxcms-edit-mode-changed",this._globalEditChanged.bind(e),{signal:this.windowControllers.signal}),globalThis.addEventListener("haxcms-trigger-update",this._triggerUpdate.bind(e),{signal:this.windowControllers.signal}),this.cmsSiteEditorInstance&&globalThis.document.body.appendChild(this.cmsSiteEditorInstance),o.jwt&&o.cmsSiteEditorBackend.tag&&o.isLoggedIn&&(this.cmsSiteEditorInstance=o.cmsSiteEditorAvailability(),o.cmsSiteEditor.instance.appElement=e,o.cmsSiteEditor.instance.appendTarget=t,o.cmsSiteEditor.instance.appendTarget.appendChild(o.cmsSiteEditor.instance))}},{key:"disconnect",value:function(e){this.windowControllers.abort(),this.cmsSiteEditorInstance&&globalThis.document.body.appendChild(this.cmsSiteEditorInstance)}},{key:"_globalEditChanged",value:function(e){this.editMode=e.detail}},{key:"_activeItemUpdate",value:function(e){var t=e.detail;if(t&&"undefined"!==i(t.id)){o.activeId=t.id;var n=new CustomEvent("json-outline-schema-active-item-changed",{bubbles:!0,composed:!0,cancelable:!0,detail:t});this.dispatchEvent(n),"undefined"!==i(t.title)?globalThis.document.title=o.routerManifest.title+" - "+t.title:globalThis.document.title=o.routerManifest.title}else globalThis.document.title=o.routerManifest.title}},{key:"_triggerUpdate",value:function(e){this.dispatchEvent(new CustomEvent("haxcms-active-item-changed",{bubbles:!0,composed:!0,cancelable:!0,detail:{}}))}}])}();e("HAXCMSLitElementTheme",function(e){function i(){var e;return d(this,i),(e=h(this,i)).isSafari=void 0!==globalThis.safari,e.editMode=!1,e.isLoggedIn=!1,e.__disposer=e.__disposer?e.__disposer:[],s((function(t){e.editMode=l(o.editMode),e.__disposer.push(t)})),s((function(t){l(o.activeItemContent),e.HAXCMSThemeSettings.autoScroll&&e.shadowRoot&&e.HAXCMSThemeSettings.scrollTarget&&e.HAXCMSThemeSettings.scrollTarget.scrollIntoView&&(e.isSafari?e.HAXCMSThemeSettings.scrollTarget.scrollIntoView():setTimeout((function(){e.HAXCMSThemeSettings.scrollTarget.scrollIntoView({behavior:"instant",block:"start",inline:"nearest"})}),0)),setTimeout((function(){var t=e.querySelectorAll("h1,h2,h3,h4,h5,h6");t.length>0&&t.forEach((function(t){t.addEventListener("click",e.copyLink.bind(e)),t.addEventListener("pointerenter",e.hoverIntentEnter.bind(e)),t.addEventListener("pointerleave",e.hoverIntentLeave.bind(e))}))}),100),e.__disposer.push(t)})),e}return t(i,e),n(i,[{key:"hoverIntentEnter",value:function(e){e.target.classList.add("haxcms-copyable")}},{key:"hoverIntentLeave",value:function(e){e.target.classList.remove("haxcms-copyable")}},{key:"HAXCMSGlobalStyleSheetContent",value:function(){return[g(T||(T=v(['\n        .haxcms-copyable {\n          background-image: url("','");\n          background-position: right;\n          background-repeat: no-repeat;\n          background-size: 36px;\n        }\n      '])),b(f.getIcon("icons:link"))),C]}},{key:"copyLink",value:function(e){var t=e.target;t||(t=e.path[0]),!t.id&&t.parentNode&&t.parentNode.id&&(t=t.parentNode),this.isSafari?t.scrollIntoView():t.scrollIntoView({behavior:"instant",block:"start",inline:"nearest"});var n=globalThis.location.origin+globalThis.location.pathname+"#"+t.getAttribute("id");globalThis.history.pushState({},null,n),globalThis.dispatchEvent(new PopStateEvent("popstate")),y(n,"Anchor link copied!")}},{key:"firstUpdated",value:function(e){var t=this;a(i,"firstUpdated",this,1)&&a(i,"firstUpdated",this,3)([e]),null==this.contentContainer&&(this.contentContainer=this.shadowRoot.querySelector("#contentcontainer")),S(this.HAXCMSGlobalStyleSheetContent(),o.themeStyleElement),setTimeout((function(){setTimeout((function(){if(t._location&&t._location.hash){var e=t.querySelector(t._location.hash);e&&(t.isSafari?e.scrollIntoView():e.scrollIntoView({behavior:"instant",block:"start",inline:"nearest"}))}}),0);var e=t.querySelectorAll("h1,h2,h3,h4,h5,h6");e.length>0&&e.forEach((function(e){e.addEventListener("click",t.copyLink.bind(t)),e.addEventListener("pointerenter",t.hoverIntentEnter.bind(t)),e.addEventListener("pointerleave",t.hoverIntentLeave.bind(t))}))}),1500)}},{key:"updated",value:function(e){var t=this;a(i,"updated",this,1)&&a(i,"updated",this,3)([e]),e.forEach((function(e,n){"_location"==n&&(t._locationChanged(t[n],e),setTimeout((function(){if(t._location&&t._location.hash){var e=t.querySelector(t._location.hash);e&&(t.isSafari?e.scrollIntoView():e.scrollIntoView({behavior:"instant",block:"start",inline:"nearest"}))}}),0)),"color"==n&&t._colorChanged(t[n],e),"contentContainer"==n&&(t.dispatchEvent(new CustomEvent("content-container-changed",{bubbles:!0,cancelable:!0,composed:!0,detail:t[n]})),t._contentContainerChanged(t[n],e)),"isLoggedIn"==n&&t.dispatchEvent(new CustomEvent("is-logged-in-changed",{bubbles:!0,cancelable:!0,composed:!0,detail:t[n]})),"editMode"==n&&(t.dispatchEvent(new CustomEvent("edit-mode-changed",{bubbles:!0,cancelable:!0,composed:!0,detail:t[n]})),t._editModeChanged(t[n],e))}))}}],[{key:"properties",get:function(){var e={};return a(i,"properties",this)&&(e=a(i,"properties",this)),m(m({},e),{},{isSafari:{type:Boolean,reflect:!0,attribute:"is-safari"},hexColor:{type:String,attribute:"hex-color"},color:{type:String,reflect:!0},editMode:{type:Boolean,reflect:!0,attribute:"edit-mode"},isLoggedIn:{type:Boolean,reflect:!0,attribute:"is-logged-in"},contentContainer:{type:Object},_location:{type:Object}})}},{key:"styles",get:function(){var e=[];return a(i,"styles",this)&&(e=a(i,"styles",this)),[e,g(k||(k=v(["\n        :host([edit-mode]) {\n          opacity: 1;\n        }\n        :host([hidden]) {\n          display: none;\n        }\n        [hidden] {\n          display: none !important;\n        }\n\n        @media (prefers-reduced-motion: reduce) {\n          * {\n            transition: none !important;\n          }\n        }\n        /**\n        * Hide the slotted content during edit mode. This must be here to work.\n        */\n        :host([edit-mode]) #slot {\n          display: none;\n        }\n        #slot {\n          min-height: 50vh;\n        }\n      "])))]}}])}(function(e){function u(){var e;return d(this,u),(e=h(this,u)).windowControllers=new AbortController,e.HAXCMSThemeSettings={autoScroll:!1,scrollTarget:globalThis},e.__disposer=e.__disposer?e.__disposer:[],e.HAXCMSThemeWiring=new w(e),e}return t(u,e),n(u,[{key:"_colorChanged",value:function(e){e&&(this.hexColor=this._getHexColor(e))}},{key:"_getHexColor",value:function(e){var t=e.replace("-text",""),n=globalThis.SimpleColorsSharedStyles.colors;return n[t]?n[t][6]:"#000000"}},{key:"_editModeChanged",value:function(e,t){"undefined"!==i(t)&&(o.editMode=e,this.__styleReapply())}},{key:"_contentContainerChanged",value:function(e,t){!e||"undefined"!==i(t)&&null!=t?e&&t?(this.HAXCMSThemeWiring.disconnect(this),this.HAXCMSThemeWiring.connect(this,e)):t&&null==e&&this.HAXCMSThemeWiring.disconnect(this):this.HAXCMSThemeWiring.connect(this,e)}},{key:"_locationChanged",value:function(e,t){if(e&&void 0!==e.route&&"home"==e.route.name){var n=o.routerManifest.items.find((function(e){return void 0!==e.id}));n&&(o.activeId=n.id)}}},{key:"connectedCallback",value:function(){var e=this;a(u,"connectedCallback",this,3)([]),setTimeout((function(){if(0===e.childNodes.length){var t=document.createRange().createContextualFragment(o.activeItemContent);e.appendChild(t)}e.__styleReapply()}),50),s((function(t){e.activeItemContent=l(o.activeItemContent),e.__disposer.push(t)})),s((function(t){e.editMode=l(o.editMode),e.__disposer.push(t)})),s((function(t){e.isLoggedIn=l(o.isLoggedIn),e.__disposer.push(t)})),s((function(t){var n=l(o.manifest);if(n&&r(n,"title")&&(globalThis.document.title=n.title),n&&r(n,"metadata.theme.variables.cssVariable")){var i=n.metadata.theme.variables.cssVariable.replace("--simple-colors-default-theme-","").split("-");i.pop(),e.accentColor=i.join("-");var a=c(n,"metadata.theme.variables.cssVariable",null);a=null==a?c(n,"metadata.theme.variables.hexCode","#ff0074"):"var(".concat(a,")"),globalThis.document.body.style.setProperty("--haxcms-color",a)}e.__disposer.push(t)})),s((function(t){e._location=l(o.location),e.__disposer.push(t)}))}},{key:"__styleReapply",value:function(){globalThis.dispatchEvent(new Event("resize"))}},{key:"disconnectedCallback",value:function(){for(var e in delete this.contentContainer,this.__disposer)this.__disposer[e].dispose();a(u,"disconnectedCallback",this,3)([])}},{key:"resetActive",value:function(){globalThis.history.pushState(null,null,o.location.baseUrl),globalThis.dispatchEvent(new PopStateEvent("popstate")),this.dispatchEvent(new CustomEvent("haxcms-active-item-changed",{bubbles:!0,composed:!0,cancelable:!0,detail:{}}))}}])}(_(E))))}}}));
