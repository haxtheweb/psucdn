System.register(["./b67b5c68.js"],(function(t,e){"use strict";var i,n,s,o,a,c,r,l,d,u;return{setters:[function(t){i=t._,n=t.a,s=t.f,o=t.g,a=t.N,c=t.m,r=t.c,l=t.d,d=t.j,u=t.k}],execute:function(){var h={url:new URL("./elements/haxcms-elements/lib/core/haxcms-editor-builder.js",document.baseURI).href},m=t("HAXCMSEditorBuilder",function(t){function c(){var t;return r(this,c),(t=l(this,c)).windowControllers=new AbortController,globalThis.HAXCMS.requestAvailability().storePieces.editorBuilder=t,t.applyContext(),globalThis.addEventListener("haxcms-site-editor-loaded",t.editorLoaded.bind(t),{signal:t.windowControllers.signal}),t}return i(c,t),n(c,[{key:"connectedCallback",value:function(){s(o(c.prototype),"connectedCallback",this)&&s(o(c.prototype),"connectedCallback",this).call(this),this.dispatchEvent(new CustomEvent("haxcms-editor-builder-ready",{bubbles:!0,composed:!0,cancelable:!1,detail:this}))}},{key:"disconnectedCallback",value:function(){this.windowControllers.abort(),s(o(c.prototype),"disconnectedCallback",this)&&s(o(c.prototype),"disconnectedCallback",this).call(this)}},{key:"editorLoaded",value:function(t){var i=this;a.cmsSiteEditor.haxCmsSiteEditorUIElement||e.import("./9256d9f7.js").then((function(){for(var t in a.cmsSiteEditor.haxCmsSiteEditorUIElement=globalThis.document.createElement("haxcms-site-editor-ui"),a.setupSlots)switch(t){case"haxcms-site-editor-ui-prefix-avatar":case"haxcms-site-editor-ui-prefix-buttons":case"haxcms-site-editor-ui-suffix-buttons":case"haxcms-site-editor-ui-main-menu":case"haxcms-site-editor-ui-topbar-character-button":for(var e in a.setupSlots[t])a.cmsSiteEditor.haxCmsSiteEditorUIElement.appendChild(a.setupSlots[t][e])}i.parentNode?i.parentNode.insertBefore(a.cmsSiteEditor.haxCmsSiteEditorUIElement,i):globalThis.document.body.appendChild(a.cmsSiteEditor.haxCmsSiteEditorUIElement),setTimeout((function(){a.cmsSiteEditor.haxCmsSiteEditorUIElement.painting=!1}),600)}))}},{key:"applyContext",value:(m=d(u().mark((function t(){var i,n,s,o=this,c=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=c.length>0&&void 0!==c[0]?c[0]:null,this.__appliedContext){t.next=11;break}if(this.__appliedContext=!0,null==i&&(i=globalThis.HAXCMS.requestAvailability().getApplicationContext()),!["php","nodejs","desktop"].includes(i)){t.next=9;break}return n=globalThis.document.createElement("script"),globalThis.appSettings&&globalThis.appSettings.connectionSettings?n.src=globalThis.appSettings.connectionSettings:n.src="../../system/api/connectionSettings",t.next=9,fetch(n.src).then((function(t){t.ok&&(o.__hasConnectionSettings=!0,globalThis.document.documentElement.appendChild(n))}));case 9:"demo"==i&&(this.__hasConnectionSettings=!0),!["published","11ty"].includes(i)&&this.__hasConnectionSettings&&(s=new URL("./haxcms-editor-builder.js",h.url).href+"/../",a.cmsSiteEditorBackend.tag="haxcms-backend-".concat(i),e.import("".concat(s,"backends/").concat(a.cmsSiteEditorBackend.tag,".js")).then((function(t){a.cmsSiteEditorBackend.instance||(a.cmsSiteEditorBackend.instance=globalThis.document.createElement(a.cmsSiteEditorBackend.tag),globalThis.document.body.appendChild(a.cmsSiteEditorBackend.instance))})));case 11:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})}],[{key:"tag",get:function(){return"haxcms-editor-builder"}}]);var m}(c(HTMLElement)));customElements.define(m.tag,m)}}}));
