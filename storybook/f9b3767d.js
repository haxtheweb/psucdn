System.register(["./3890c6c9.js"],(function(t){"use strict";var e,n,i,a,l,r,s,o,d,p,h,c;return{setters:[function(t){e=t._,n=t.a,i=t.f,a=t.g,l=t.i,r=t.r,s=t.b,o=t.e,d=t.x,p=t.D,h=t.c,c=t.d}],execute:function(){var u,g,m,b,f,x,w,v,k={url:new URL("./elements/app-hax/lib/rpg-character-toast/rpg-character-toast.js",document.baseURI).href},y=new URL("./images/SpeechBubbleL.svg",k.url).href,C=new URL("./images/SpeechBubbleMiddle.svg",k.url).href,S=new URL("./images/SpeechBubbleR.svg",k.url).href,M=t("R",function(t){function p(){var t;return h(this,p),(t=c(this,p)).awaitingMerlinInput=!1,t.windowControllers=new AbortController,t.text="Saved",t.closeText="Close",t.merlin=!1,t.classStyle="",t.future=!1,t.duration=3e3,t.accentColor="grey",t.dark=!1,t.eventCallback=null,t.fire=!1,t.hat="coffee",t.speed=500,t.walking=!1,t}return e(p,t),n(p,[{key:"render",value:function(){return d(u||(u=s([' <div class="progress">\n        <div\n          class="progress__bar"\n          style="animation-duration:','ms;"\n        ></div>\n      </div>\n      <div class="bubble bubble-wrapper" part="bubble-wrapper">\n        <span class="bubble leftedge" part="bubble-left"></span>\n        <span class="bubble mid" part="bubble-mid">\n          <slot name="pre"></slot>\n          ',"\n          ","\n          ",'\n        </span>\n        <span class="bubble rightedge" part="bubble-right"></span>\n        ',"\n      </div>"])),this.duration,this.future?d(g||(g=s([' <future-terminal-text\n                fadein\n                glitch\n                glitch-max="3"\n                glitch-duration="40"\n              ></future-terminal-text>']))):d(m||(m=s(['<div class="message">',"</div>"])),this.text),this.awaitingMerlinInput?d(b||(b=s(['<simple-icon-lite\n                class="awaiting-input"\n                icon="hax:loading"\n              ></simple-icon-lite>']))):"",this.merlin?"":d(f||(f=s(['<div class="buttons">\n                <slot></slot\n                ><button class="dismiss" @click="','">\n                  ',"\n                </button>\n              </div>"])),this.hide,this.closeText),this.merlin?d(x||(x=s([' <simple-icon\n              class="merlin"\n              icon="hax:wizard-hat"\n              accent-color="purple"\n            ></simple-icon>']))):d(w||(w=s(['\n              <rpg-character\n                height="180"\n                width="64"\n                seed="','"\n                ?fire="','"\n                hat="','"\n                speed="','"\n                part="rpg-character"\n                ?walking="','"\n              ></rpg-character>\n            '])),this.userName,this.fire,this.hat,this.speed,this.walking))}},{key:"updated",value:function(t){i(a(p.prototype),"updated",this).call(this,t),t.has("text")&&this.future&&this.shadowRoot.querySelector("future-terminal-text")&&(this.shadowRoot.querySelector("future-terminal-text").innerText=this.text,this.shadowRoot.querySelector("future-terminal-text")._doGlitch())}},{key:"connectedCallback",value:function(){i(a(p.prototype),"connectedCallback",this).call(this),globalThis.addEventListener("rpg-character-toast-hide",this.hideSimpleToast.bind(this),{signal:this.windowControllers.signal}),globalThis.addEventListener("rpg-character-toast-show",this.showSimpleToast.bind(this),{signal:this.windowControllers.signal})}},{key:"hideSimpleToast",value:function(t){this.awaitingMerlinInput=!1,this.hide()}},{key:"disconnectedCallback",value:function(){this.windowControllers.abort(),i(a(p.prototype),"disconnectedCallback",this).call(this)}},{key:"showSimpleToast",value:function(t){for(var e=this;null!==this.firstChild;)this.removeChild(this.firstChild);setTimeout((function(){t.detail.slot&&e.appendChild(t.detail.slot)}),0),this.duration=t.detail.duration?t.detail.duration:4e3,this.fire=!!t.detail.fire&&t.detail.fire,this.hat=t.detail.hat?t.detail.hat:"coffee",this.merlin=!!t.detail.merlin&&t.detail.merlin,this.walking=!!t.detail.walking&&t.detail.walking,this.speed=t.detail.speed?t.detail.speed:500,this.text=t.detail.text?t.detail.text:"Saved",this.future=!!t.detail.future&&t.detail.future,this.classStyle=t.detail.classStyle?t.detail.classStyle:"",this.eventCallback=t.detail.eventCallback?t.detail.eventCallback:null,this.dark=!!t.detail.dark&&t.detail.dark,this.accentColor=t.detail.accentColor?t.detail.accentColor:"grey",this.alwaysvisible=!!t.detail.alwaysvisible&&t.detail.alwaysvisible,t.detail.awaitingMerlinInput&&this.duration?setTimeout((function(){e.style.animation="none",e.awaitingMerlinInput=t.detail.awaitingMerlinInput}),this.duration/2):this.awaitingMerlinInput=!1,this.show()}},{key:"show",value:function(){this.opened||(this.opened=!0)}},{key:"hide",value:function(){if(this.awaitingMerlinInput)this.style.animation="fadein 0.3s";else{if(this.walking=!1,this.speed=500,this.eventCallback){var t=new CustomEvent(this.eventCallback,{bubbles:!0,cancelable:!0,detail:!0,composed:!0});this.dispatchEvent(t)}this.alwaysvisible?this.style.animation="fadein 0.3s":this.opened=!1}}}],[{key:"tag",get:function(){return"rpg-character-toast"}},{key:"styles",get:function(){return[i(a(p),"styles",this),l(v||(v=s(['\n        :host([opened]) {\n          display: block;\n          padding: 0;\n          margin: 0;\n          background-color: #22222222;\n        }\n\n        future-terminal-text {\n          min-width: 300px;\n          overflow-wrap: break-all;\n          text-overflow: ellipsis;\n          line-height: 36px;\n          font-size: 18px;\n          text-align: left;\n          padding: 36px 0px;\n          max-width: 50vw;\n        }\n\n        .merlin {\n          --simple-icon-height: 100px;\n          --simple-icon-width: 100px;\n          background-color: var(--simple-colors-default-theme-accent-1, white);\n          display: block;\n          height: 150px;\n          width: 100px;\n          margin: 6px 0 0 0;\n          padding: 16px;\n        }\n        .awaiting-input {\n          --simple-icon-height: 50px;\n          --simple-icon-width: 50px;\n          width: 100px;\n          margin: 6px 0px 0px;\n          padding: 16px;\n          color: var(--simple-colors-default-theme-purple-6, purple);\n          vertical-align: middle;\n          display: inline-flex;\n          height: 100px;\n        }\n        :host([hidden]) {\n          display: none;\n        }\n        :host {\n          --simple-toast-bottom: 0px;\n          --simple-toast-bottom-offscreen: -284px;\n          height: var(--rpg-character-toast-height, 142px);\n          display: none;\n          width: var(--simple-toast-width, auto);\n          min-width: var(--simple-toast-min-width, 200px);\n          color: var(\n            --simple-toast-color,\n            var(--simple-colors-default-theme-accent-12, black)\n          );\n          background-color: transparent;\n          top: var(--simple-toast-top);\n          bottom: var(--simple-toast-bottom, 36px);\n          right: var(--simple-toast-right, 0px);\n          border: var(--simple-toast-border);\n          z-index: var(--simple-toast-z-index, 10000000);\n          font-size: var(--simple-toast-font-size, 18px);\n          font-family: sans-serif;\n          font-weight: bold;\n          text-align: center;\n          vertical-align: middle;\n        }\n        rpg-character {\n          width: 64px;\n          margin: 0;\n          padding: 0;\n          display: var(--rpg-character-toast-display);\n        }\n        .bubble-wrapper {\n          min-width: var(--simple-toast-min-width, 200px);\n          display: block;\n        }\n        .bubble {\n          height: var(--rpg-character-toast-height, 142px);\n          display: inline-flex;\n        }\n        .mid {\n          min-width: 100px;\n          line-height: var(--rpg-character-toast-height, 142px);\n          background-color: white;\n          background-repeat: repeat-x;\n          background-image: var(\n            --rpg-character-toast-mid-background-image,\n            url("','")\n          );\n          padding: var(--rpg-character-toast-mid-padding, 54px 2px 0 2px);\n          display: block;\n        }\n        .message {\n          line-height: 16px;\n          font-size: 14px;\n          height: 16px;\n          display: block;\n          margin-top: 16px;\n          margin-bottom: 16px;\n        }\n        .buttons {\n          display: block;\n          line-height: 16px;\n          font-size: 16px;\n          height: 16px;\n        }\n        .dismiss {\n          padding: 4px;\n          font-weight: bold;\n          background-color: black;\n          color: white;\n          border: 4px solid black;\n          border-radius: none;\n          margin-left: 4px;\n          cursor: pointer;\n        }\n        .leftedge {\n          background-image: var(\n            --rpg-character-toast-left-background-image,\n            url("','")\n          );\n          width: 20px;\n          background-color: white;\n        }\n        .rightedge {\n          background-image: var(\n            --rpg-character-toast-right-background-image,\n            url("','")\n          );\n          width: 40px;\n          background-color: white;\n        }\n        :host([dark-mode]) .mid,\n        :host([dark-mode]) .leftedge,\n        :host([dark-mode]) .rightedge {\n          filter: invert(1);\n        }\n        .progress {\n          width: calc(100% + 6px);\n          border: 2px solid var(--ddd-theme-default-keystoneYellow);\n          height: 8px;\n          margin: -4px 0px 0px 0px;\n        }\n\n        .progress .progress__bar {\n          height: 100%;\n          width: 0%;\n          background-color: var(--ddd-theme-default-keystoneYellow);\n          animation-delay: 0.3s;\n          animation-name: fill-bar;\n          animation-duration: 3s;\n          animation-iteration-count: 1;\n          animation-fill-mode: forwards;\n        }\n\n        @keyframes fill-bar {\n          from {\n            width: 0%;\n          }\n          to {\n            width: 100%;\n          }\n        }\n      '])),r(C),r(y),r(S))]}},{key:"properties",get:function(){return o(o({},i(a(p),"properties",this)),{},{darkMode:{type:Boolean,reflect:!0,attribute:"dark-mode"},fire:{type:Boolean},hat:{type:String},walking:{type:Boolean},speed:{type:Number},opened:{type:Boolean,reflect:!0},awaitingMerlinInput:{type:Boolean,attribute:"awaiting-merlin-input"},merlin:{type:Boolean},future:{type:Boolean},text:{type:String},classStyle:{type:String,attribute:"class-style"},duration:{type:Number},eventCallback:{type:String,attribute:"event-callback"}})}}])}(p));customElements.define(M.tag,M)}}}));
