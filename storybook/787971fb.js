System.register(["./9b1def34.js","./bb87ce08.js","./85f92b8e.js","./85f8316a.js","./c7750667.js","./b58a7b28.js"],(function(e,t){"use strict";var n,i,a,o,s,r,l,c,d,u,h,p,m,g,v,b,f,y,x,k,w,S,C,T,M,_,E,L,B,A,P,z,O,I,N,R,U,H,D,j,q,F,X,V,W,G,Y,$,J,K,Z,Q,ee,te,ne;return{setters:[function(e){n=e.z,i=e.e,a=e._,o=e.a,s=e.i,r=e.b,l=e.x,c=e.s,d=e.c,u=e.d,h=e.K,p=e.j,m=e.k,g=e.F,v=e.f,b=e.g,f=e.p,y=e.aS,x=e.E,k=e.aT,w=e.aU,S=e.H,C=e.I,T=e.A,M=e.as,_=e.a4,E=e.v,L=e.aO,B=e.a5,A=e.u,P=e.M,z=e.a0,O=e.a9,I=e.aV,N=e.aW,R=e.ar,U=e.N,H=e.T,D=e.aX,j=e.a2,q=e.S,F=e.o,X=e.t,V=e.X,W=e.aY,G=e.m,Y=e.r,$=e.q,J=e.a3,K=e.aD,Z=e.aq,Q=e.aP,ee=e.aZ,te=e.l},function(e){ne=e.H},function(){},function(){},function(){},function(){}],execute:function(){function ie(e){return n(i(i({},e),{},{state:!0,attribute:!1}))}var ae,oe,se,re={url:new URL("./elements/simple-fields/lib/simple-tags.js",document.baseURI).href},le=function(e){function t(){var e;return d(this,t),(e=u(this,t)).tags="",e.autoAccentColor=!1,e.accentColor=null,e}return a(t,e),o(t,[{key:"render",value:function(){var e=this;return l(ae||(ae=r([' <div class="tag-container">\n      ',"\n    </div>"])),this.tags&&""!=this.tags&&this.tags.split?this.tags.split(",").map((function(t){return l(oe||(oe=r(['\n              <simple-tag\n                ?auto-accent-color="','"\n                value="','"\n                accent-color="','"\n              ></simple-tag>\n            '])),e.autoAccentColor,t.trim(),e.accentColor)})):"")}}],[{key:"properties",get:function(){return{tags:{type:String},accentColor:{type:String,attribute:"accent-color"},autoAccentColor:{type:Boolean,attribute:"auto-accent-color"}}}},{key:"tag",get:function(){return"simple-tags"}},{key:"haxProperties",get:function(){return new URL("./".concat(this.tag,".haxProperties.json"),re.url).href}},{key:"styles",get:function(){return[s(se||(se=r(["\n        :host {\n          display: block;\n        }\n        .tag-container {\n          display: flex;\n          flex-wrap: wrap;\n          overflow-x: hidden;\n          justify-content: flex-start;\n        }\n        simple-tag {\n          margin: 4px 8px 4px 0;\n        }\n      "])))]}}])}(c);customElements.define(le.tag,le);var ce,de,ue=function(){return o((function e(t,n){var i=this;d(this,e),this.timerId=0,this.activeInteractions=0,this.paused=!1,this.stopped=!0,this.pause=function(){i.activeInteractions++||(i.paused=!0,i.host.requestUpdate())},this.resume=function(){--i.activeInteractions||(i.paused=!1,i.host.requestUpdate())},t.addController(this),this.host=t,this.tickCallback=n}),[{key:"hostConnected",value:function(){this.host.addEventListener("mouseenter",this.pause),this.host.addEventListener("mouseleave",this.resume),this.host.addEventListener("focusin",this.pause),this.host.addEventListener("focusout",this.resume),this.host.addEventListener("touchstart",this.pause,{passive:!0}),this.host.addEventListener("touchend",this.resume)}},{key:"hostDisconnected",value:function(){this.stop(),this.host.removeEventListener("mouseenter",this.pause),this.host.removeEventListener("mouseleave",this.resume),this.host.removeEventListener("focusin",this.pause),this.host.removeEventListener("focusout",this.resume),this.host.removeEventListener("touchstart",this.pause),this.host.removeEventListener("touchend",this.resume)}},{key:"start",value:function(e){var t=this;this.stop(),this.stopped=!1,this.timerId=window.setInterval((function(){t.paused||t.tickCallback()}),e)}},{key:"stop",value:function(){clearInterval(this.timerId),this.stopped=!0,this.host.requestUpdate()}}])}(),he=s(ce||(ce=r(["\n  :host {\n    box-sizing: border-box;\n  }\n\n  :host *,\n  :host *::before,\n  :host *::after {\n    box-sizing: inherit;\n  }\n\n  [hidden] {\n    display: none !important;\n  }\n"]))),pe=s(de||(de=r(["\n  ","\n\n  :host {\n    --slide-gap: var(--sl-spacing-medium, 1rem);\n    --aspect-ratio: 16 / 9;\n    --scroll-hint: 0px;\n\n    display: flex;\n  }\n\n  .carousel {\n    display: grid;\n    grid-template-columns: min-content 1fr min-content;\n    grid-template-rows: 1fr min-content;\n    grid-template-areas:\n      '. slides .'\n      '. pagination .';\n    gap: var(--sl-spacing-medium);\n    align-items: center;\n    min-height: 100%;\n    min-width: 100%;\n    position: relative;\n  }\n\n  .carousel__pagination {\n    grid-area: pagination;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    gap: var(--sl-spacing-small);\n  }\n\n  .carousel__slides {\n    grid-area: slides;\n\n    display: grid;\n    height: 100%;\n    width: 100%;\n    align-items: center;\n    justify-items: center;\n    overflow: auto;\n    overscroll-behavior-x: contain;\n    scrollbar-width: none;\n    aspect-ratio: calc(var(--aspect-ratio) * var(--slides-per-page));\n    border-radius: var(--sl-border-radius-small);\n\n    --slide-size: calc((100% - (var(--slides-per-page) - 1) * var(--slide-gap)) / var(--slides-per-page));\n  }\n\n  @media (prefers-reduced-motion) {\n    :where(.carousel__slides) {\n      scroll-behavior: auto;\n    }\n  }\n\n  .carousel__slides--horizontal {\n    grid-auto-flow: column;\n    grid-auto-columns: var(--slide-size);\n    grid-auto-rows: 100%;\n    column-gap: var(--slide-gap);\n    scroll-snap-type: x mandatory;\n    scroll-padding-inline: var(--scroll-hint);\n    padding-inline: var(--scroll-hint);\n    overflow-y: hidden;\n  }\n\n  .carousel__slides--vertical {\n    grid-auto-flow: row;\n    grid-auto-columns: 100%;\n    grid-auto-rows: var(--slide-size);\n    row-gap: var(--slide-gap);\n    scroll-snap-type: y mandatory;\n    scroll-padding-block: var(--scroll-hint);\n    padding-block: var(--scroll-hint);\n    overflow-x: hidden;\n  }\n\n  .carousel__slides--dragging,\n  .carousel__slides--dropping {\n    scroll-snap-type: unset;\n  }\n\n  :host([vertical]) ::slotted(sl-carousel-item) {\n    height: 100%;\n  }\n\n  .carousel__slides::-webkit-scrollbar {\n    display: none;\n  }\n\n  .carousel__navigation {\n    grid-area: navigation;\n    display: contents;\n    font-size: var(--sl-font-size-x-large);\n  }\n\n  .carousel__navigation-button {\n    flex: 0 0 auto;\n    display: flex;\n    align-items: center;\n    background: none;\n    border: none;\n    border-radius: var(--sl-border-radius-small);\n    font-size: inherit;\n    color: var(--sl-color-neutral-600);\n    padding: var(--sl-spacing-x-small);\n    cursor: pointer;\n    transition: var(--sl-transition-medium) color;\n    appearance: none;\n  }\n\n  .carousel__navigation-button--disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n\n  .carousel__navigation-button--disabled::part(base) {\n    pointer-events: none;\n  }\n\n  .carousel__navigation-button--previous {\n    grid-column: 1;\n    grid-row: 1;\n  }\n\n  .carousel__navigation-button--next {\n    grid-column: 3;\n    grid-row: 1;\n  }\n\n  .carousel__pagination-item {\n    display: block;\n    cursor: pointer;\n    background: none;\n    border: 0;\n    border-radius: var(--sl-border-radius-circle);\n    width: var(--sl-spacing-small);\n    height: var(--sl-spacing-small);\n    background-color: var(--sl-color-neutral-300);\n    padding: 0;\n    margin: 0;\n  }\n\n  .carousel__pagination-item--active {\n    background-color: var(--sl-color-neutral-700);\n    transform: scale(1.2);\n  }\n\n  /* Focus styles */\n  .carousel__slides:focus-visible,\n  .carousel__navigation-button:focus-visible,\n  .carousel__pagination-item:focus-visible {\n    outline: var(--sl-focus-ring);\n    outline-offset: var(--sl-focus-ring-offset);\n  }\n"])),he);function me(e,t){return new Promise((function(n){e.addEventListener(t,(function i(a){a.target===e&&(e.removeEventListener(t,i),n())}))}))}var ge=Object.defineProperty,ve=Object.getOwnPropertyDescriptor,be=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable,xe=function(e,t,n){return t in e?ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ke=function(e,t){for(var n in t||(t={}))fe.call(t,n)&&xe(e,n,t[n]);if(be){var i,a=h(be(t));try{for(a.s();!(i=a.n()).done;){n=i.value;ye.call(t,n)&&xe(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},we=function(e,t,n,i){for(var a,o=i>1?void 0:i?ve(t,n):t,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i?a(t,n,o):a(o))||o);return i&&o&&ge(t,n,o),o};function Se(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}var Ce,Te,Me=Symbol(),_e=function(){return o((function e(t){var n=this;d(this,e),this.pointers=new Set,this.dragging=!1,this.scrolling=!1,this.mouseDragging=!1,this.handleScroll=function(){n.scrolling||(n.scrolling=!0,n.host.requestUpdate()),n.handleScrollEnd()},this.handlePointerDown=function(e){"touch"!==e.pointerType&&(n.pointers.add(e.pointerId),n.mouseDragging&&!n.dragging&&0===e.button&&(e.preventDefault(),n.host.scrollContainer.addEventListener("pointermove",n.handlePointerMove)))},this.handlePointerMove=function(e){var t=n.host.scrollContainer,i=!!e.movementX||!!e.movementY;!n.dragging&&i?(t.setPointerCapture(e.pointerId),n.handleDragStart()):t.hasPointerCapture(e.pointerId)&&n.handleDrag(e)},this.handlePointerUp=function(e){n.pointers.delete(e.pointerId),n.host.scrollContainer.releasePointerCapture(e.pointerId),0===n.pointers.size&&n.handleDragEnd()},this.handleTouchEnd=function(e){var t,i=h(e.changedTouches);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.pointers.delete(a.identifier)}}catch(e){i.e(e)}finally{i.f()}},this.handleTouchStart=function(e){var t,i=h(e.touches);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.pointers.add(a.identifier)}}catch(e){i.e(e)}finally{i.f()}},this.host=t,t.addController(this)}),[{key:"hostConnected",value:(t=p(m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.host,e.next=3,t.updateComplete;case 3:(n=t.scrollContainer).addEventListener("scroll",this.handleScroll,{passive:!0}),n.addEventListener("pointerdown",this.handlePointerDown),n.addEventListener("pointerup",this.handlePointerUp),n.addEventListener("pointercancel",this.handlePointerUp),n.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),n.addEventListener("touchend",this.handleTouchEnd);case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"hostDisconnected",value:function(){var e=this.host.scrollContainer;e.removeEventListener("scroll",this.handleScroll),e.removeEventListener("pointerdown",this.handlePointerDown),e.removeEventListener("pointerup",this.handlePointerUp),e.removeEventListener("pointercancel",this.handlePointerUp),e.removeEventListener("touchstart",this.handleTouchStart),e.removeEventListener("touchend",this.handleTouchEnd)}},{key:"handleScrollEnd",value:function(){this.pointers.size?this.handleScrollEnd():(this.scrolling=!1,this.host.scrollContainer.dispatchEvent(new CustomEvent("scrollend",{bubbles:!1,cancelable:!1})),this.host.requestUpdate())}},{key:"handleDragStart",value:function(){var e=this.host;this.dragging=!0,e.scrollContainer.style.setProperty("scroll-snap-type","unset"),e.requestUpdate()}},{key:"handleDrag",value:function(e){this.host.scrollContainer.scrollBy({left:-e.movementX,top:-e.movementY})}},{key:"handleDragEnd",value:(e=p(m().mark((function e(){var t,n,i,a,o,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.host,(n=t.scrollContainer).removeEventListener("pointermove",this.handlePointerMove),this.dragging=!1,i=n.scrollLeft,a=n.scrollTop,n.style.removeProperty("scroll-snap-type"),o=n.scrollLeft,s=n.scrollTop,n.style.setProperty("scroll-snap-type","unset"),n.scrollTo({left:i,top:a,behavior:"auto"}),n.scrollTo({left:o,top:s,behavior:Se()?"auto":"smooth"}),!this.scrolling){e.next=15;break}return e.next=15,me(n,"scrollend");case 15:n.style.removeProperty("scroll-snap-type"),t.requestUpdate();case 17:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})}]);var e,t}();we([(Ce=100,function(e,t,n){var i=n.value;n.value=function(){for(var e=this,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];clearTimeout(this[Me]),this[Me]=window.setTimeout((function(){i.apply(e,n)}),Ce)}})],_e.prototype,"handleScrollEnd",1);var Ee,Le=s(Te||(Te=r(["\n  ","\n\n  :host {\n    --aspect-ratio: inherit;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    width: 100%;\n    max-height: 100%;\n    aspect-ratio: var(--aspect-ratio);\n    scroll-snap-align: start;\n    scroll-snap-stop: always;\n  }\n\n  ::slotted(img) {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n"])),he),Be=function(e){function t(){var e;return d(this,t),e=u(this,t),Object.entries(e.constructor.dependencies).forEach((function(t){var n=g(t,2),i=n[0],a=n[1];e.constructor.define(i,a)})),e}return a(t,e),o(t,[{key:"emit",value:function(e,t){var n=new CustomEvent(e,ke({bubbles:!0,cancelable:!1,composed:!0,detail:{}},t));return this.dispatchEvent(n),n}}],[{key:"define",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=customElements.get(e);if(i){var s=" (unknown version)",r=s;"version"in t&&t.version&&(s=" v"+t.version),"version"in i&&i.version&&(r=" v"+i.version),s&&r&&s===r||console.warn("Attempted to register <".concat(e,">").concat(s,", but <").concat(e,">").concat(r," has already been registered."))}else customElements.define(e,function(e){function t(){return d(this,t),u(this,t,arguments)}return a(t,e),o(t)}(t),n)}}])}(c);Be.version="2.8.0",Be.dependencies={},we([n()],Be.prototype,"dir",2),we([n()],Be.prototype,"lang",2);var Ae=function(e){function t(){return d(this,t),u(this,t,arguments)}return a(t,e),o(t,[{key:"connectedCallback",value:function(){v(b(t.prototype),"connectedCallback",this).call(this),this.setAttribute("role","group")}},{key:"render",value:function(){return l(Ee||(Ee=r([" <slot></slot> "])))}}],[{key:"isCarouselItem",value:function(e){return e instanceof Element&&"slide"===e.getAttribute("aria-roledescription")}}])}(Be);Ae.styles=Le;var Pe,ze=new Set,Oe=new MutationObserver(Ue),Ie=new Map,Ne=document.documentElement.dir||"ltr",Re=document.documentElement.lang||navigator.language;function Ue(){Ne=document.documentElement.dir||"ltr",Re=document.documentElement.lang||navigator.language,f(ze.keys()).map((function(e){"function"==typeof e.requestUpdate&&e.requestUpdate()}))}Oe.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]});var He,De=function(){return o((function e(t){d(this,e),this.host=t,this.host.addController(this)}),[{key:"hostConnected",value:function(){ze.add(this.host)}},{key:"hostDisconnected",value:function(){ze.delete(this.host)}},{key:"dir",value:function(){return"".concat(this.host.dir||Ne).toLowerCase()}},{key:"lang",value:function(){return"".concat(this.host.lang||Re).toLowerCase()}},{key:"getTranslationData",value:function(e){var t,n,i=new Intl.Locale(e.replace(/_/g,"-")),a=null==i?void 0:i.language.toLowerCase(),o=null!==(n=null===(t=null==i?void 0:i.region)||void 0===t?void 0:t.toLowerCase())&&void 0!==n?n:"";return{locale:i,language:a,region:o,primary:Ie.get("".concat(a,"-").concat(o)),secondary:Ie.get(a)}}},{key:"exists",value:function(e,t){var n,i=this.getTranslationData(null!==(n=t.lang)&&void 0!==n?n:this.lang()),a=i.primary,o=i.secondary;return t=Object.assign({includeFallback:!1},t),!!(a&&a[e]||o&&o[e]||t.includeFallback&&Pe&&Pe[e])}},{key:"term",value:function(e){var t,n=this.getTranslationData(this.lang()),i=n.primary,a=n.secondary;if(i&&i[e])t=i[e];else if(a&&a[e])t=a[e];else{if(!Pe||!Pe[e])return console.error("No translation found for: ".concat(String(e))),String(e);t=Pe[e]}if("function"==typeof t){for(var o=arguments.length,s=new Array(o>1?o-1:0),r=1;r<o;r++)s[r-1]=arguments[r];return t.apply(void 0,s)}return t}},{key:"date",value:function(e,t){return e=new Date(e),new Intl.DateTimeFormat(this.lang(),t).format(e)}},{key:"number",value:function(e,t){return e=Number(e),isNaN(e)?"":new Intl.NumberFormat(this.lang(),t).format(e)}},{key:"relativeTime",value:function(e,t,n){return new Intl.RelativeTimeFormat(this.lang(),n).format(e,t)}}])}(),je=function(e){function t(){return d(this,t),u(this,t,arguments)}return a(t,e),o(t)}(De),qe=s(He||(He=r(["\n  ","\n\n  :host {\n    display: inline-block;\n    width: 1em;\n    height: 1em;\n    box-sizing: content-box !important;\n  }\n\n  svg {\n    display: block;\n    height: 100%;\n    width: 100%;\n  }\n"])),he),Fe="";function Xe(e){Fe=e}var Ve,We={name:"default",resolver:function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!Fe){var t=f(document.getElementsByTagName("script")),n=t.find((function(e){return e.hasAttribute("data-shoelace")}));if(n)Xe(n.getAttribute("data-shoelace"));else{var i=t.find((function(e){return/shoelace(\.min)?\.js($|\?)/.test(e.src)||/shoelace-autoloader(\.min)?\.js($|\?)/.test(e.src)})),a="";i&&(a=i.getAttribute("src")),Xe(a.split("/").slice(0,-1).join("/"))}}return Fe.replace(/\/$/,"")+(e?"/".concat(e.replace(/^\//,"")):"")}("assets/icons/".concat(e,".svg"))}},Ge={caret:'\n    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n      <polyline points="6 9 12 15 18 9"></polyline>\n    </svg>\n  ',check:'\n    <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g stroke="currentColor">\n          <g transform="translate(3.428571, 3.428571)">\n            <path d="M0,5.71428571 L3.42857143,9.14285714"></path>\n            <path d="M9.14285714,0 L3.42857143,9.14285714"></path>\n          </g>\n        </g>\n      </g>\n    </svg>\n  ',"chevron-down":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">\n      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>\n    </svg>\n  ',"chevron-left":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">\n      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>\n    </svg>\n  ',"chevron-right":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">\n      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>\n    </svg>\n  ',copy:'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-files" viewBox="0 0 16 16" part="svg">\n      <path d="M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z"></path>\n    </svg>\n  ',eye:'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">\n      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>\n      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>\n    </svg>\n  ',"eye-slash":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">\n      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>\n      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>\n      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>\n    </svg>\n  ',eyedropper:'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">\n      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>\n    </svg>\n  ',"grip-vertical":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">\n      <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>\n    </svg>\n  ',indeterminate:'\n    <svg part="indeterminate-icon" class="checkbox__icon" viewBox="0 0 16 16">\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g stroke="currentColor" stroke-width="2">\n          <g transform="translate(2.285714, 6.857143)">\n            <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>\n          </g>\n        </g>\n      </g>\n    </svg>\n  ',"person-fill":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">\n      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>\n    </svg>\n  ',"play-fill":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">\n      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>\n    </svg>\n  ',"pause-fill":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">\n      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>\n    </svg>\n  ',radio:'\n    <svg part="checked-icon" class="radio__icon" viewBox="0 0 16 16">\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="currentColor">\n          <circle cx="8" cy="8" r="3.42857143"></circle>\n        </g>\n      </g>\n    </svg>\n  ',"star-fill":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">\n      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>\n    </svg>\n  ',"x-lg":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">\n      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>\n    </svg>\n  ',"x-circle-fill":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">\n      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>\n    </svg>\n  '},Ye=[We,{name:"system",resolver:function(e){return e in Ge?"data:image/svg+xml,".concat(encodeURIComponent(Ge[e])):""}}],$e=[];function Je(e){return Ye.find((function(t){return t.name===e}))}function Ke(e,t){var n=ke({waitUntilFirstUpdate:!1},t);return function(t,i){var a=t.update,o=Array.isArray(e)?e:[e];t.update=function(e){var t=this;o.forEach((function(a){var o=a;if(e.has(o)){var s=e.get(o),r=t[o];s!==r&&(n.waitUntilFirstUpdate&&!t.hasUpdated||t[i](s,r))}})),a.call(this,e)}}}var Ze,Qe=Symbol(),et=Symbol(),tt=new Map,nt=function(e){function t(){var e;return d(this,t),(e=u(this,t,arguments)).initialRender=!1,e.svg=null,e.label="",e.library="default",e}return a(t,e),o(t,[{key:"resolveIcon",value:(i=p(m().mark((function e(t,n){var i,a,o,s,c,d;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null==n?void 0:n.spriteSheet)){e.next=2;break}return e.abrupt("return",l(Ve||(Ve=r(['<svg part="svg">\n        <use part="use" href="','"></use>\n      </svg>'])),t));case 2:return e.prev=2,e.next=5,fetch(t,{mode:"cors"});case 5:if((a=e.sent).ok){e.next=8;break}return e.abrupt("return",410===a.status?Qe:et);case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",et);case 13:return e.prev=13,o=document.createElement("div"),e.next=17,a.text();case 17:if(o.innerHTML=e.sent,s=o.firstElementChild,"svg"===(null==(i=null==s?void 0:s.tagName)?void 0:i.toLowerCase())){e.next=21;break}return e.abrupt("return",Qe);case 21:if(Ze||(Ze=new DOMParser),c=Ze.parseFromString(s.outerHTML,"text/html"),d=c.body.querySelector("svg")){e.next=26;break}return e.abrupt("return",Qe);case 26:return d.part.add("svg"),e.abrupt("return",document.adoptNode(d));case 30:return e.prev=30,e.t1=e.catch(13),e.abrupt("return",Qe);case 33:case"end":return e.stop()}}),e,null,[[2,10],[13,30]])}))),function(e,t){return i.apply(this,arguments)})},{key:"connectedCallback",value:function(){var e;v(b(t.prototype),"connectedCallback",this).call(this),e=this,$e.push(e)}},{key:"firstUpdated",value:function(){this.initialRender=!0,this.setIcon()}},{key:"disconnectedCallback",value:function(){var e;v(b(t.prototype),"disconnectedCallback",this).call(this),e=this,$e=$e.filter((function(t){return t!==e}))}},{key:"getUrl",value:function(){var e=Je(this.library);return this.name&&e?e.resolver(this.name):this.src}},{key:"handleLabelChange",value:function(){"string"==typeof this.label&&this.label.length>0?(this.setAttribute("role","img"),this.setAttribute("aria-label",this.label),this.removeAttribute("aria-hidden")):(this.removeAttribute("role"),this.removeAttribute("aria-label"),this.setAttribute("aria-hidden","true"))}},{key:"setIcon",value:(n=p(m().mark((function e(){var t,n,i,a,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Je(this.library),i=this.getUrl()){e.next=5;break}return this.svg=null,e.abrupt("return");case 5:if((a=tt.get(i))||(a=this.resolveIcon(i,n),tt.set(i,a)),this.initialRender){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,a;case 11:if((o=e.sent)===et&&tt.delete(i),i===this.getUrl()){e.next=15;break}return e.abrupt("return");case 15:if(!y(o)){e.next=18;break}return this.svg=o,e.abrupt("return");case 18:e.t0=o,e.next=e.t0===et||e.t0===Qe?21:24;break;case 21:return this.svg=null,this.emit("sl-error"),e.abrupt("break",27);case 24:this.svg=o.cloneNode(!0),null==(t=null==n?void 0:n.mutator)||t.call(n,this.svg),this.emit("sl-load");case 27:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){return this.svg}}]);var n,i}(Be);nt.styles=qe,we([ie()],nt.prototype,"svg",2),we([n({reflect:!0})],nt.prototype,"name",2),we([n()],nt.prototype,"src",2),we([n()],nt.prototype,"label",2),we([n({reflect:!0})],nt.prototype,"library",2),we([Ke("label")],nt.prototype,"handleLabelChange",1),we([Ke(["name","src","library"])],nt.prototype,"setIcon",1);var it,at,ot,st,rt=x(function(e){function t(e){var n,i;if(d(this,t),i=u(this,t,[e]),e.type!==S.ATTRIBUTE||"class"!==e.name||(null===(n=e.strings)||void 0===n?void 0:n.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.");return C(i)}return a(t,e),o(t,[{key:"render",value:function(e){return" "+Object.keys(e).filter((function(t){return e[t]})).join(" ")+" "}},{key:"update",value:function(e,t){var n=g(t,1)[0];if(void 0===this.st){for(var i in this.st=new Set,void 0!==e.strings&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter((function(e){return""!==e})))),n){var a;n[i]&&(null===(a=this.nt)||void 0===a||!a.has(i))&&this.st.add(i)}return this.render(n)}var o,s=e.element.classList,r=h(this.st);try{for(r.s();!(o=r.n()).done;){var l=o.value;l in n||(s.remove(l),this.st.delete(l))}}catch(e){r.e(e)}finally{r.f()}for(var c in n){var d,u=!!n[c];u===this.st.has(c)||(null===(d=this.nt)||void 0===d?void 0:d.has(c))||(u?(s.add(c),this.st.add(c)):(s.remove(c),this.st.delete(c)))}return k}}])}(w)),lt=m().mark(ct);function ct(e,t){var n,i,a,o;return m().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0===e){s.next=19;break}n=0,i=h(e),s.prev=3,i.s();case 5:if((a=i.n()).done){s.next=11;break}return o=a.value,s.next=9,t(o,n++);case 9:s.next=5;break;case 11:s.next=16;break;case 13:s.prev=13,s.t0=s.catch(3),i.e(s.t0);case 16:return s.prev=16,i.f(),s.finish(16);case 19:case"end":return s.stop()}}),lt,null,[[3,13,16,19]])}var dt=function(e){function t(){var e;return d(this,t),(e=u(this,t,arguments)).loop=!1,e.navigation=!1,e.pagination=!1,e.autoplay=!1,e.autoplayInterval=3e3,e.slidesPerPage=1,e.slidesPerMove=1,e.orientation="horizontal",e.mouseDragging=!1,e.activeSlide=0,e.autoplayController=new ue(e,(function(){return e.next()})),e.scrollController=new _e(e),e.slides=e.getElementsByTagName("sl-carousel-item"),e.intersectionObserverEntries=new Map,e.localize=new je(e),e.handleSlotChange=function(t){t.some((function(e){return[].concat(f(e.addedNodes),f(e.removedNodes)).some((function(e){return Ae.isCarouselItem(e)&&!e.hasAttribute("data-clone")}))}))&&e.initializeSlides(),e.requestUpdate()},e}return a(t,e),o(t,[{key:"connectedCallback",value:function(){var e=this;v(b(t.prototype),"connectedCallback",this).call(this),this.setAttribute("role","region"),this.setAttribute("aria-label",this.localize.term("carousel"));var n=new IntersectionObserver((function(t){t.forEach((function(t){e.intersectionObserverEntries.set(t.target,t);var n=t.target;n.toggleAttribute("inert",!t.isIntersecting),n.classList.toggle("--in-view",t.isIntersecting),n.setAttribute("aria-hidden",t.isIntersecting?"false":"true")}))}),{root:this,threshold:.6});this.intersectionObserver=n,n.takeRecords().forEach((function(t){e.intersectionObserverEntries.set(t.target,t)}))}},{key:"disconnectedCallback",value:function(){v(b(t.prototype),"disconnectedCallback",this).call(this),this.intersectionObserver.disconnect(),this.mutationObserver.disconnect()}},{key:"firstUpdated",value:function(){this.initializeSlides(),this.mutationObserver=new MutationObserver(this.handleSlotChange),this.mutationObserver.observe(this,{childList:!0,subtree:!1})}},{key:"getPageCount",value:function(){return Math.ceil(this.getSlides().length/this.slidesPerPage)}},{key:"getCurrentPage",value:function(){return Math.ceil(this.activeSlide/this.slidesPerPage)}},{key:"getSlides",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).excludeClones,t=void 0===e||e;return f(this.slides).filter((function(e){return!t||!e.hasAttribute("data-clone")}))}},{key:"handleKeyDown",value:function(e){var t=this;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(e.key)){var n=e.target,i="rtl"===this.localize.dir(),a=null!==n.closest('[part~="pagination-item"]'),o="ArrowDown"===e.key||!i&&"ArrowRight"===e.key||i&&"ArrowLeft"===e.key,s="ArrowUp"===e.key||!i&&"ArrowLeft"===e.key||i&&"ArrowRight"===e.key;e.preventDefault(),s&&this.previous(),o&&this.next(),"Home"===e.key&&this.goToSlide(0),"End"===e.key&&this.goToSlide(this.getSlides().length-1),a&&this.updateComplete.then((function(){var e,n=null==(e=t.shadowRoot)?void 0:e.querySelector('[part~="pagination-item--active"]');n&&n.focus()}))}}},{key:"handleScrollEnd",value:function(){var e=this.getSlides(),t=f(this.intersectionObserverEntries.values()).find((function(e){return e.isIntersecting}));if(this.loop&&(null==t?void 0:t.target.hasAttribute("data-clone"))){var n=Number(t.target.getAttribute("data-clone"));this.goToSlide(n,"auto")}else t&&(this.activeSlide=e.indexOf(t.target))}},{key:"initializeSlides",value:function(){var e=this,t=this.getSlides(),n=this.intersectionObserver;if(this.intersectionObserverEntries.clear(),this.getSlides({excludeClones:!1}).forEach((function(t,i){n.unobserve(t),t.classList.remove("--in-view"),t.classList.remove("--is-active"),t.setAttribute("aria-label",e.localize.term("slideNum",i+1)),t.hasAttribute("data-clone")&&t.remove()})),this.loop){var i=this.slidesPerPage,a=t.slice(-i),o=t.slice(0,i);a.reverse().forEach((function(n,i){var a=n.cloneNode(!0);a.setAttribute("data-clone",String(t.length-i-1)),e.prepend(a)})),o.forEach((function(t,n){var i=t.cloneNode(!0);i.setAttribute("data-clone",String(n)),e.append(i)}))}this.getSlides({excludeClones:!1}).forEach((function(e){n.observe(e)})),this.goToSlide(this.activeSlide,"auto")}},{key:"handelSlideChange",value:function(){var e=this,t=this.getSlides();t.forEach((function(t,n){t.classList.toggle("--is-active",n===e.activeSlide)})),this.hasUpdated&&this.emit("sl-slide-change",{detail:{index:this.activeSlide,slide:t[this.activeSlide]}})}},{key:"handleSlidesPerMoveChange",value:function(){var e=this.getSlides({excludeClones:!1}),t=this.slidesPerMove;e.forEach((function(e,n){Math.abs(n-t)%t==0?e.style.removeProperty("scroll-snap-align"):e.style.setProperty("scroll-snap-align","none")}))}},{key:"handleAutoplayChange",value:function(){this.autoplayController.stop(),this.autoplay&&this.autoplayController.start(this.autoplayInterval)}},{key:"handleMouseDraggingChange",value:function(){this.scrollController.mouseDragging=this.mouseDragging}},{key:"previous",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"smooth",t=this.activeSlide||this.activeSlide-this.slidesPerMove,n=!1;!n&&t>0;)t-=1,n=Math.abs(t-this.slidesPerMove)%this.slidesPerMove==0;this.goToSlide(t,e)}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"smooth";this.goToSlide(this.activeSlide+this.slidesPerMove,e)}},{key:"goToSlide",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth",n=this.slidesPerPage,i=this.loop,a=this.scrollContainer,o=this.getSlides(),s=this.getSlides({excludeClones:!1}),r=(e+o.length)%o.length;this.activeSlide=r;var l,c,d,u,h=(l=e+(i?n:0),c=0,d=s.length-1,u=function(e){return Object.is(e,-0)?0:e},u(l<c?c:l>d?d:l)),p=s[h],m=a.getBoundingClientRect(),g=p.getBoundingClientRect();a.scrollTo({left:g.left-m.left+a.scrollLeft,top:g.top-m.top+a.scrollTop,behavior:Se()?"auto":t})}},{key:"render",value:function(){var e=this,t=this.scrollController,n=this.slidesPerPage,i=this.getPageCount(),a=this.getCurrentPage(),o=this.loop||a>0,s=this.loop||a<i-1,c="ltr"===this.localize.dir();return l(it||(it=r(['\n      <div part="base" class="carousel">\n        <div\n          id="scroll-container"\n          part="scroll-container"\n          class="','"\n          style="--slides-per-page: ',';"\n          aria-busy="','"\n          aria-atomic="true"\n          tabindex="0"\n          @keydown=',"\n          @scrollend=","\n        >\n          <slot></slot>\n        </div>\n\n        ","\n        ","\n      </div>\n    "])),rt({carousel__slides:!0,"carousel__slides--horizontal":"horizontal"===this.orientation,"carousel__slides--vertical":"vertical"===this.orientation}),this.slidesPerPage,t.scrolling?"true":"false",this.handleKeyDown,this.handleScrollEnd,this.navigation?l(at||(at=r(['\n              <div part="navigation" class="carousel__navigation">\n                <button\n                  part="navigation-button navigation-button--previous"\n                  class="','"\n                  aria-label="','"\n                  aria-controls="scroll-container"\n                  aria-disabled="','"\n                  @click=','\n                >\n                  <slot name="previous-icon">\n                    <sl-icon library="system" name="','"></sl-icon>\n                  </slot>\n                </button>\n\n                <button\n                  part="navigation-button navigation-button--next"\n                  class=','\n                  aria-label="','"\n                  aria-controls="scroll-container"\n                  aria-disabled="','"\n                  @click=','\n                >\n                  <slot name="next-icon">\n                    <sl-icon library="system" name="','"></sl-icon>\n                  </slot>\n                </button>\n              </div>\n            '])),rt({"carousel__navigation-button":!0,"carousel__navigation-button--previous":!0,"carousel__navigation-button--disabled":!o}),this.localize.term("previousSlide"),o?"false":"true",o?function(){return e.previous()}:null,c?"chevron-left":"chevron-right",rt({"carousel__navigation-button":!0,"carousel__navigation-button--next":!0,"carousel__navigation-button--disabled":!s}),this.localize.term("nextSlide"),s?"false":"true",s?function(){return e.next()}:null,c?"chevron-right":"chevron-left"):"",this.pagination?l(ot||(ot=r(['\n              <div part="pagination" role="tablist" class="carousel__pagination" aria-controls="scroll-container">\n                ',"\n              </div>\n            "])),ct(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return m().mark((function i(a){var o,s;return m().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:o=void 0===t?0:e,null!==(a=t)&&void 0!==a||(t=e),s=o;case 3:if(!(n>0?s<t:t<s)){i.next=9;break}return i.next=6,s;case 6:s+=n,i.next=3;break;case 9:case"end":return i.stop()}}),i)}))()}(i),(function(t){var o=t===a;return l(st||(st=r(['\n                    <button\n                      part="pagination-item ','"\n                      class="','"\n                      role="tab"\n                      aria-selected="','"\n                      aria-label="','"\n                      tabindex=',"\n                      @click=","\n                      @keydown=","\n                    ></button>\n                  "])),o?"pagination-item--active":"",rt({"carousel__pagination-item":!0,"carousel__pagination-item--active":o}),o?"true":"false",e.localize.term("goToSlide",t+1,i),o?"0":"-1",(function(){return e.goToSlide(t*n)}),e.handleKeyDown)}))):"")}}])}(Be);dt.styles=pe,dt.dependencies={"sl-icon":nt},we([n({type:Boolean,reflect:!0})],dt.prototype,"loop",2),we([n({type:Boolean,reflect:!0})],dt.prototype,"navigation",2),we([n({type:Boolean,reflect:!0})],dt.prototype,"pagination",2),we([n({type:Boolean,reflect:!0})],dt.prototype,"autoplay",2),we([n({type:Number,attribute:"autoplay-interval"})],dt.prototype,"autoplayInterval",2),we([n({type:Number,attribute:"slides-per-page"})],dt.prototype,"slidesPerPage",2),we([n({type:Number,attribute:"slides-per-move"})],dt.prototype,"slidesPerMove",2),we([n()],dt.prototype,"orientation",2),we([n({type:Boolean,reflect:!0,attribute:"mouse-dragging"})],dt.prototype,"mouseDragging",2),we([T("slot:not([name])")],dt.prototype,"defaultSlot",2),we([T(".carousel__slides")],dt.prototype,"scrollContainer",2),we([T(".carousel__pagination")],dt.prototype,"paginationContainer",2),we([ie()],dt.prototype,"activeSlide",2),we([Ke("loop",{waitUntilFirstUpdate:!0}),Ke("slidesPerPage",{waitUntilFirstUpdate:!0})],dt.prototype,"initializeSlides",1),we([Ke("activeSlide")],dt.prototype,"handelSlideChange",1),we([Ke("slidesPerMove")],dt.prototype,"handleSlidesPerMoveChange",1),we([Ke("autoplay")],dt.prototype,"handleAutoplayChange",1),we([Ke("mouseDragging")],dt.prototype,"handleMouseDraggingChange",1),dt.define("sl-carousel");!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.map((function(e){var t=e.$code.toLowerCase();Ie.has(t)?Ie.set(t,Object.assign(Object.assign({},Ie.get(t)),e)):Ie.set(t,e),Pe||(Pe=e)})),Ue()}({$code:"en",$name:"English",$dir:"ltr",carousel:"Carousel",clearEntry:"Clear entry",close:"Close",copied:"Copied",copy:"Copy",currentValue:"Current value",error:"Error",goToSlide:function(e,t){return"Go to slide ".concat(e," of ").concat(t)},hidePassword:"Hide password",loading:"Loading",nextSlide:"Next slide",numOptionsSelected:function(e){return 0===e?"No options selected":1===e?"1 option selected":"".concat(e," options selected")},previousSlide:"Previous slide",progress:"Progress",remove:"Remove",resize:"Resize",scrollToEnd:"Scroll to end",scrollToStart:"Scroll to start",selectAColorFromTheScreen:"Select a color from the screen",showPassword:"Show password",slideNum:function(e){return"Slide ".concat(e)},toggleColorFormat:"Toggle color format"}),Ae.define("sl-carousel-item");var ut,ht,pt,mt,gt,vt,bt={url:new URL("./elements/play-list/lib/SLStyleManager.js",document.baseURI).href};var ft,yt,xt,kt,wt,St={url:new URL("./elements/play-list/play-list.js",document.baseURI).href},Ct=function(e){function t(){var e;return d(this,t),e=u(this,t),function(){if(globalThis.document.head&&globalThis.document.head.querySelector("#showlace-light")&&globalThis.document.head.querySelector("#showlace-dark"))return!1;var e=new URL("./light.css",bt.url).href,t=globalThis.document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("media","(prefers-color-scheme:light)"),t.setAttribute("href",e),t.setAttribute("id","showlace-light"),globalThis.document.head.appendChild(t);var n=new URL("./dark.css",bt.url).href;(t=globalThis.document.createElement("link")).setAttribute("rel","stylesheet"),t.setAttribute("media","(prefers-color-scheme:dark)"),t.onload=function(){globalThis.document.documentElement.classList.add("sl-theme-dark")},t.setAttribute("href",n),t.setAttribute("id","showlace-dark"),globalThis.document.head.appendChild(t)}(),e.items=[],e.loop=!1,e.edit=!1,e.navigation=!1,e.pagination=!1,e.aspectRatio="16:9",e.slide=0,e.orientation="horizontal",e._observer=new MutationObserver((function(t){clearTimeout(e._debounceMutations),e._debounceMutations=setTimeout((function(){e.mirrorLightDomToItems()}),100)})),e._observer.observe(e,{childList:!0,subtree:!0}),e}return a(t,e),o(t,[{key:"mirrorLightDomToItems",value:(n=p(m().mark((function e(){var t,n=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1===(t=Array.from(this.children)).length&&"TEMPLATE"===t[0].tagName&&(t=Array.from(t[0].children)),0===t.length){e.next=7;break}return e.next=5,Promise.all(t.map(function(){var e=p(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){n.items=e}));case 5:e.next=8;break;case 7:this.items=[];case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"renderHAXItem",value:function(e){return e.properties.innerHTML&&delete e.properties.innerHTML,l(ut||(ut=r(["",""])),M(_(e).outerHTML))}},{key:"disconnectedCallback",value:function(){this._linkEls&&(document.head.removeChild(this._linkEls[0]),document.head.removeChild(this._linkEls[1])),v(b(t.prototype),"disconnectedCallback",this).call(this)}},{key:"render",value:function(){var e=this;return l(ht||(ht=r(["\n      ","\n    "])),this.items.length>0&&!this.edit?l(pt||(pt=r(['\n            <sl-carousel\n              ?navigation="','"\n              ?pagination="','"\n              ?loop="','"\n              orientation="','"\n              @sl-slide-change="','"\n              class="carousel"\n              style="--aspect-ratio: ',';"\n            >\n              <simple-icon-button-lite\n                icon="hardware:keyboard-arrow-left"\n                slot="previous-icon"\n              ></simple-icon-button-lite>\n              <simple-icon-button-lite\n                icon="hardware:keyboard-arrow-right"\n                slot="next-icon"\n              ></simple-icon-button-lite>\n              ',"\n            </sl-carousel>\n          "])),this.navigation&&"horizontal"===this.orientation,this.pagination,this.loop,this.orientation,this.slideIndexChanged,this.aspectRatio,this.items.map((function(t,n){return l(mt||(mt=r(['\n                  <sl-carousel-item class="item">\n                    ',"\n                  </sl-carousel-item>\n                "])),e.renderHAXItem(t))}))):l(gt||(gt=r(['<div class="edit-wrapper"><slot></slot></div>']))))}},{key:"slideIndexChanged",value:function(e){this.slide=e.detail.index}},{key:"firstUpdated",value:function(e){v(b(t.prototype),"firstUpdated",this)&&v(b(t.prototype),"firstUpdated",this).call(this,e),this.mirrorLightDomToItems()}},{key:"updated",value:function(e){var n=this;v(b(t.prototype),"updated",this)&&v(b(t.prototype),"updated",this).call(this,e),e.forEach((function(e,t){"edit"===t&&n[t],"slide"==t&&n.shadowRoot&&"undefined"!==E(e)&&(n.dispatchEvent(new CustomEvent("".concat(t,"-changed"),{detail:{value:n[t]}})),n.shadowRoot.querySelector(".carousel")&&(n.shadowRoot.querySelector(".carousel").activeSlide,n[t]))}))}},{key:"haxHooks",value:function(){return{inlineContextMenu:"haxinlineContextMenu"}}},{key:"haxClickSlideIndex",value:function(e){return L(this.slide),!0}},{key:"haxinlineContextMenu",value:function(e){e.ceButtons=[{icon:"lrn:edit",callback:"haxToggleEdit",label:"Toggle edit mode"},{icon:"hax:anchor",callback:"haxClickSlideIndex",label:"Copy slide index"}]}},{key:"haxToggleEdit",value:function(e){return this.edit=!this.edit,!0}}],[{key:"haxProperties",get:function(){return new URL("./lib/".concat(this.tag,".haxProperties.json"),St.url).href}},{key:"properties",get:function(){return{items:{type:Array},loop:{type:Boolean,reflect:!0},edit:{type:Boolean,reflect:!0},navigation:{type:Boolean,reflect:!0},pagination:{type:Boolean,reflect:!0},aspectRatio:{type:String,reflect:!0,attribute:"aspect-ratio"},orientation:{type:String,reflect:!0},slide:{type:Number,reflect:!0}}}},{key:"styles",get:function(){var e=[];return v(b(t),"styles",this)&&(e=v(b(t),"styles",this)),[e,s(vt||(vt=r(['\n        :host {\n          display: block;\n        }\n        :host([orientation="vertical"]),\n        :host([orientation="vertical"]) .carousel,\n        :host([orientation="vertical"]) .carousel .item {\n          max-height: 400px;\n        }\n        :host([orientation="vertical"]) .carousel .item video-player {\n          max-height: 400px;\n          width: 500px;\n        }\n\n        :host .carousel .item .play-list-item {\n          width: 100%;\n          min-height: 400px;\n        }\n        :host([orientation="vertical"]) .carousel::part(base) {\n          grid-template-areas: "slides slides pagination";\n        }\n        :host([orientation="vertical"]) .carousel::part(pagination) {\n          flex-direction: column;\n        }\n        :host([orientation="vertical"]) .carousel::part(navigation) {\n          transform: rotate(90deg);\n          display: flex;\n        }\n        sl-carousel-item {\n          max-height: 400px;\n          padding: 8px;\n          overflow-y: auto;\n          justify-content: unset;\n        }\n        simple-icon-button-lite {\n          color: var(--play-list-icon-color, #999999);\n          --simple-icon-width: 72px;\n          --simple-icon-height: 72px;\n          height: 72px;\n          width: 72px;\n        }\n\n        /** edit mode, hax, etc */\n        :host([edit]) .edit-wrapper {\n          border: 2px dashed #999999;\n          box-sizing: border-box;\n          padding: 16px;\n          background-color: #f5f5f5;\n        }\n        :host([edit]) .edit-wrapper::before {\n          content: "Play list edit mode";\n          display: block;\n          font-size: 16px;\n        }\n        :host([edit]) .edit-wrapper ::slotted(*) {\n          display: block;\n          width: 100%;\n          padding: 16px;\n        }\n      '])))]}},{key:"tag",get:function(){return"play-list"}}]);var n}(c);customElements.define(Ct.tag,Ct),A(["haxcms"]);var Tt,Mt,_t,Et,Lt,Bt,At,Pt,zt,Ot,It,Nt,Rt,Ut,Ht,Dt,jt,qt,Ft,Xt,Vt,Wt,Gt,Yt,$t,Jt,Kt,Zt=function(e){function t(){var e;d(this,t),(e=u(this,t)).HAXCMSI18NMixinBase="../../../",e.__disposer=[],e.player=!1,e.circularBlock=!1,e.itemManifest={},e.loading=!1,e.uuid=null,e.hideReference=!1,e.siteurl="",e.showTitle=!1,e.breakreference=!1,e._remoteTitle=null,e.t.selectPage="Select page";for(var n=e,i=0;n&&n.tagName;)(n=n.parentNode)&&n.tagName&&"SITE-REMOTE-CONTENT"===n.tagName&&++i>=3&&(e.circularBlock=!0);return e}return a(t,e),o(t,[{key:"render",value:function(){return l(ft||(ft=r(["\n      ",'\n      <div id="content"></div>\n    '])),this.elementVisible?l(yt||(yt=r(['\n            <div class="loading">\n              ',"\n            </div>\n            ",'\n            <div id="slot"><slot></slot></div>\n          '])),this.loading?l(xt||(xt=r(['<simple-icon-lite icon="hax:loading"></simple-icon-lite>']))):"",this.showTitle&&this._remoteTitle?l(kt||(kt=r(["<h3>","</h3>"])),this._remoteTitle):""):"")}},{key:"updated",value:function(e){var n=this;v(b(t.prototype),"updated",this)&&v(b(t.prototype),"updated",this).call(this,e),e.forEach((function(e,t){if(n.elementVisible){if(("uuid"===t||"elementVisible"===t)&&n[t]&&!n.breakreference&&!n.loading&&!n.circularBlock){n.loading=!0;var i=n.siteurl;""==i&&globalThis.HAXCMS&&globalThis.location&&(i="".concat(globalThis.location.origin).concat(globalThis.HAXCMS.instance.store.location.baseUrl)),P.call("@haxcms/pageCache",{site:i,type:"link",uuid:n.uuid,data:!0},n.renderContentResponse.bind(n))}if("siteurl"!==t||!globalThis.HaxStore||n.loading||n.circularBlock||(clearTimeout(n.__debounce),n.__debounce=setTimeout((function(){n.loading=!0,n.__refresh=!0,globalThis.HaxStore.instance.refreshActiveNodeForm()}),1500)),"breakreference"===t&&n[t])for(var a=n.shadowRoot.querySelector("#content"),o=a.firstElementChild;o;)n.appendChild(o),o=a.firstElementChild;else if("breakreference"===t&&!n[t]&&e&&!n.circularBlock){n.loading=!0,z(n);var s=n.siteurl;""==s&&globalThis.HAXCMS&&globalThis.location&&(s="".concat(globalThis.location.origin).concat(globalThis.HAXCMS.instance.store.location.baseUrl)),P.call("@haxcms/pageCache",{site:s,type:"link",uuid:n.uuid,data:!0},n.renderContentResponse.bind(n))}}}))}},{key:"renderContentResponse",value:function(e){if(e.data){globalThis.HaxStore&&!this.breakreference&&globalThis.HaxStore.instance.activeBodyIgnoreActive(!0);var t=this.shadowRoot.querySelector("#content");z(t);var n=globalThis.document.createElement("div"),i=e.data.content.replace(/<script[\s\S]*?>/gi,"&lt;script&gt;");if(i=i.replace(/<\/script>/gi,"&lt;/script&gt;"),n.innerHTML=i,this.appendChild(n),O(n),this._remoteTitle=e.data.title,this.loading=!1,this.breakreference||I(this,"#content"),!this.hideReference&&this.itemManifest&&this.itemManifest.title&&e.data&&!this.breakreference){globalThis.HaxStore.instance.activeBodyIgnoreActive(!1);var a=new Date,o=a.getDate(),s=a.getMonth()+1,r=a.getFullYear();if(!this.nextElementSibling||this.nextElementSibling&&"CITATION-ELEMENT"!==this.nextElementSibling.tagName){var l=globalThis.document.createElement("citation-element");l.title="".concat(this.itemManifest.title," - ").concat(e.data.title),l.source="".concat(e.data.site).concat(e.data.slug),l.date="".concat(o,"/").concat(s,"/").concat(r),l.scope="sibling",l.license=this.itemManifest.license,l.creator=this.itemManifest.metadata.author.name,this.insertAdjacentElement("afterend",l)}else if(this.nextElementSibling&&"CITATION-ELEMENT"===this.nextElementSibling.tagName){var c=this.nextElementSibling;c.title="".concat(this.itemManifest.title," - ").concat(e.data.title),c.source="".concat(e.data.site).concat(e.data.slug),c.date="".concat(o,"/").concat(s,"/").concat(r),c.scope="sibling",c.license=this.itemManifest.license,c.creator=this.itemManifest.metadata.author.name}}}}},{key:"firstUpdated",value:function(e){if(v(b(t.prototype),"firstUpdated",this).call(this,e),this.children.length>0){var n=this.shadowRoot.querySelector("#content");z(n),I(this,"#content")}}},{key:"haxHooks",value:function(){return{progressiveEnhancement:"haxprogressiveEnhancement",setupActiveElementForm:"haxsetupActiveElementForm"}}},{key:"haxprogressiveEnhancement",value:function(e){if(this.shadowRoot&&this.shadowRoot.querySelector("#content"))return this.shadowRoot.querySelector("#content").innerHTML}},{key:"haxsetupActiveElementForm",value:(n=p(m().mark((function e(t){var n,i,a=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!globalThis.HAXCMS){e.next=15;break}if(0!==Object.keys(this.itemManifest).length&&!this.__refresh){e.next=11;break}if(this.__refresh=!1,!this.siteurl){e.next=10;break}return e.next=6,P.call("@haxcms/siteManifest",{site:this.siteurl});case 6:(n=e.sent).data&&(this.itemManifest=n.data),e.next=11;break;case 10:this.itemManifest=U.getManifest(!0);case 11:i=[{text:this.t.selectPage,value:null}],this.itemManifest.items.forEach((function(e){if(e.id!=a.itemId){for(var t=e,n="- ";t&&null!=t.parent;)t=a.itemManifest.items.find((function(e){return e.id==t.parent})),t&&(n="--"+n);i.push({text:n+e.title,value:e.id})}})),t.settings.configure.forEach((function(e,n){"uuid"===e.property?(t.settings.configure[n].disabled=!1,t.settings.configure[n].inputMethod="select",t.settings.configure[n].itemsList=i,a.breakreference&&(t.settings.configure[n].disabled=!0)):"siteurl"===e.property&&(t.settings.configure[n].disabled=!1,a.breakreference&&(t.settings.configure[n].disabled=!0))})),this.loading=!1;case 15:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}],[{key:"styles",get:function(){return[s(wt||(wt=r(["\n        :host {\n          display: block;\n        }\n        #slot {\n          display: none;\n        }\n        :host(:not([hide-reference])) #content {\n          border-left: 10px solid #eeeeee;\n          margin-left: -10px;\n        }\n        :host([breakreference]) #slot {\n          display: block;\n        }\n        :host([breakreference]) #content {\n          display: none;\n          border-left: unset;\n          margin-left: unset;\n        }\n        :host([loading]) .loading {\n          margin: 8px 0 0 -12px;\n          font-size: 2px;\n          width: 20px;\n          height: 20px;\n          --simple-icon-height: 20px;\n          --simple-icon-width: 20px;\n          position: absolute;\n        }\n        :host([player][loading]) .loading {\n          margin: 8px 0px 0px -12px;\n          font-size: 2px;\n          height: 100%;\n          --simple-icon-height: 100px;\n          --simple-icon-width: 100px;\n          width: 400px;\n          display: flex;\n          justify-content: center;\n          position: relative;\n          top: 25px;\n          left: 25px;\n        }\n\n        :host([player][loading]) .loading simple-icon-lite {\n          height: 100%;\n        }\n      "])))]}},{key:"tag",get:function(){return"site-remote-content"}},{key:"properties",get:function(){return i(i({},v(b(t),"properties",this)),{},{uuid:{type:String},player:{type:Boolean,reflect:!0},siteurl:{type:String},showTitle:{type:Boolean,attribute:"show-title"},_remoteTitle:{type:String},loading:{type:Boolean,reflect:!0},breakreference:{type:Boolean,reflect:!0},hideReference:{type:Boolean,reflect:!0,attribute:"hide-reference"}})}},{key:"haxProperties",get:function(){return{type:"grid",canScale:!1,canEditSource:!1,gizmo:{title:"Remote Content",description:"Reuse content from one site in another.",icon:"hax:remote",color:"grey",tags:["Resource","haxcms","content","remote","reference","url","resource"],handles:[],meta:{author:"HAXTheWeb core team"}},settings:{configure:[{property:"siteurl",title:"Site address",description:"Paste address to reference content from if not the current site",inputMethod:"textfield"},{property:"uuid",title:"Item",description:"Item to render for the link / title data",inputMethod:"textfield"},{property:"breakreference",title:"Break reference",description:"Checking this box copies the remote content for editing locally but removes the association. It will no longer get updates when the reference material updates.",inputMethod:"boolean"},{property:"showTitle",title:"Show title",description:"Toggle on to render the title of the resource being displayed",inputMethod:"boolean"}]},demoSchema:[{tag:"site-remote-content",properties:{showTitle:!0,_remoteTitle:"Select content"},content:"<div>Select content to load</div>"}],saveOptions:{unsetAttributes:["t","_remote-title"]}}}}]);var n}(N(R(c)));customElements.define(Zt.tag,Zt);var Qt,en=["audio","selfChecks","objectives","authorNotes","images","h5p","headings","dataTables","specialTags","links","placeholders","siteremotecontent","video"],tn=function(e){function t(){var e;return d(this,t),(e=u(this,t)).loading=!1,e.dark=!1,e.accentColor="cyan",e.results=[],e.params={},e.search=null,e._searchDebounce=null,e.__disposer=e.__disposer?e.__disposer:[],A(["haxcms"]),F((function(t){e.dark=X(U.darkMode),setTimeout((function(){e.requestUpdate()}),0),e.__disposer.push(t)})),e}return a(t,e),o(t,[{key:"disconnectedCallback",value:function(){for(var e in this.__disposer)this.__disposer[e].dispose();v(b(t.prototype),"disconnectedCallback",this).call(this)}},{key:"rebuildSearchResults",value:function(){var e=this;clearTimeout(this._searchDebounce),this._searchDebounce=setTimeout(p(m().mark((function t(){var n,a,o,s;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.shadowRoot||e.loading){t.next=11;break}return n=U.getManifest(!0),(a=globalThis.document.querySelector("base").href)||(a="/"),o=i({type:"site",site:{file:a+"site.json",id:n.id,title:n.title,author:n.author,description:n.description,license:n.license,metadata:n.metadata,items:n.items},link:a},e.params),e.loading=!0,t.next=8,P.call("@haxcms/views",o);case 8:(s=t.sent).data&&(e.results=f(s.data)),e.loading=!1;case 11:case"end":return t.stop()}}),t)}))),100)}},{key:"firstUpdated",value:function(e){v(b(t.prototype),"firstUpdated",this)&&v(b(t.prototype),"firstUpdated",this).call(this,e),this.rebuildSearchResults()}},{key:"render",value:function(){return l(Tt||(Tt=r([" ",""])),this.loading?l(Mt||(Mt=r(['<div class="loading">\n          ',"\n        </div> "])),this.loading?l(_t||(_t=r(['<simple-icon-lite icon="hax:loading"></simple-icon-lite>']))):""):l(Et||(Et=r([" ","\n          ","\n          ","\n          ","\n          ","\n          <slot></slot>"])),0!==this.results.length||this.loading?H:l(Lt||(Lt=r(["<h4>No results found</h4>"]))),"list"===this.params.display?this.listTemplate(this.dark,this.accentColor):H,"table"===this.params.display?this.tableTemplate(this.dark,this.accentColor):H,"card"===this.params.display?this.cardTemplate(this.dark,this.accentColor):H,"contentplayer"===this.params.display?this.contentplayerTemplate(this.dark,this.accentColor):H))}},{key:"contentplayerTemplate",value:function(){return l(Bt||(Bt=r(['<play-list id="contentplayertemplate"></play-list>'])))}},{key:"listTemplate",value:function(){var e=this;return l(At||(At=r([' <ul class="list">\n      ',"\n    </ul>"])),this.results.map((function(t){return l(Pt||(Pt=r([' <li class="list-item">\n            ',"\n          </li>"])),"blocks"===e.params.displayOf?en.map((function(n){return t.media&&t.media[n]&&"string"==typeof t.media[n]&&e.params.blockFilter===n?M(t.media[n]):H})):l(zt||(zt=r(['<div class="play-list-item">\n                  ',"\n                </div>"])),"title"===e.params.displayOf?l(Ot||(Ot=r(['<div class="list-link">\n                          <a href="','">','</a>\n                        </div>\n                        <div class="list-breadcrumb">\n                          ',"\n                        </div>\n                        ",""])),t.slug,t.title,e.calculateBreadcrumb(t).map((function(e){return l(It||(It=r([" <span>","</span> "])),e.title)})),t.metadata.tags&&""!=t.metadata.tags?t.metadata.tags.split(",").map((function(e){return l(Nt||(Nt=r(['<a href="x/views?tags=','">\n                                    <simple-tag\n                                      auto-accent-color\n                                      value="','"\n                                      accent-color="','"\n                                    ></simple-tag\n                                  ></a>'])),e.trim(),e.trim(),t.accentColor)})):H):"full"===e.params.displayOf?M("<h3>".concat(t.title,"</h3>")+t.contents):l(Rt||(Rt=r(['<site-remote-content\n                          player\n                          hide-reference\n                          uuid="','"\n                          show-title\n                        ></site-remote-content>'])),t.id)))})))}},{key:"tableTemplate",value:function(e,t){return l(Ut||(Ut=r([' <editable-table-display\n      accent-color="cyan"\n      bordered\n      caption="Content matching your search criteria"\n      numeric-styles\n      column-header\n      printable\n      downloadable\n      sort\n      striped\n    >\n      <table>\n        <tr>\n          <th>Icon</th>\n          <th>Type</th>\n          <th>Title</th>\n          <th>Tags</th>\n          <th>Updated</th>\n          <th>Created</th>\n          <th>Status</th>\n        </tr>\n        ',"\n      </table>\n    </editable-table-display>"])),this.results.map((function(n){return l(Ht||(Ht=r([" <tr>\n              <td>\n                ","\n              </td>\n              <td>\n                ",'\n              </td>\n              <td>\n                <a href="','" style="color:inherit">',"</a>\n              </td>\n              <td>\n                ",'\n              </td>\n              <td>\n                <simple-datetime\n                  format="m/j/y"\n                  timestamp="','"\n                  unix\n                  class="info-date"\n                ></simple-datetime>\n              </td>\n              <td>\n                <simple-datetime\n                  format="m/j/y"\n                  timestamp="','"\n                  unix\n                  class="info-date"\n                ></simple-datetime>\n              </td>\n              <td>\n                ',"\n              </td>\n            </tr>"])),n.metadata.pageType?l(Dt||(Dt=r(['<simple-icon\n                      ?dark="','"\n                      accent-color="','"\n                      title="','"\n                      icon="','"\n                    ></simple-icon>'])),e,t,n.metadata.pageType,D(n.metadata.pageType)):H,n.metadata.pageType?n.metadata.pageType:H,n.slug,n.title,n.metadata.tags&&""!=n.metadata.tags?n.metadata.tags.split(",").map((function(e){return l(jt||(jt=r(['<a\n                            part="tag-link"\n                            href="x/views?tags=','"\n                          >\n                            <simple-tag\n                              auto-accent-color\n                              value="','"\n                              accent-color="','"\n                            ></simple-tag\n                          ></a>'])),e.trim(),e.trim(),n.accentColor)})):H,n.metadata.created,n.metadata.updated,!1!==n.metadata.published?"published":"unpublished")})))}},{key:"updated",value:function(e){var n=this;v(b(t.prototype),"updated",this)&&v(b(t.prototype),"updated",this).call(this,e),e.forEach((function(e,t){if("loading"===t&&n.dispatchEvent(new CustomEvent("loading-changed",{detail:{value:n.loading}})),"search"===t){var a=new URLSearchParams(n.search),o=Object.fromEntries(a);n.params=i(i({},n.params),o),"__ACTIVE__"===n.params.parent&&(n.params.parent=U.activeItem.id),n.rebuildSearchResults()}"results"===t&&e&&n.results&&"contentplayer"===n.params.display&&setTimeout((function(){n.renderPlayListTemplate()}),0)}))}},{key:"renderPlayListTemplate",value:function(){var e=this,t=globalThis.document.createElement("template");j(l(qt||(qt=r(["",""])),this.results.map((function(t){return l(Ft||(Ft=r([" ",""])),"blocks"===e.params.displayOf?en.map((function(n){return t.media&&t.media[n]&&"string"==typeof t.media[n]&&e.params.blockFilter===n?M(t.media[n]):H})):l(Xt||(Xt=r(['<div class="play-list-item">\n                ',"\n              </div>"])),"title"===e.params.displayOf?l(Vt||(Vt=r(['<div class="list-link">\n                        <a href="','">','</a>\n                      </div>\n                      <div class="list-breadcrumb">\n                        ',"\n                      </div>"])),t.slug,t.title,e.calculateBreadcrumb(t).map((function(e){return l(Wt||(Wt=r([" <span>","</span> "])),e.title)}))):"full"===e.params.displayOf?M("<h3>".concat(t.title,"</h3>")+t.contents):l(Gt||(Gt=r(['<site-remote-content\n                        player\n                        hide-reference\n                        uuid="','"\n                        show-title\n                      ></site-remote-content>'])),t.id)))}))),t),this.shadowRoot.querySelector("#contentplayertemplate").appendChild(t)}},{key:"cardTemplate",value:function(){return l(Yt||(Yt=r(["",""])),this.results.map((function(e){return l($t||($t=r([' <accent-card accent-color="red" horizontal accent-heading>\n          <div slot="heading">','</div>\n          <div slot="subheading">\n            ','\n          </div>\n          <div slot="content"><a href="','">Link to content</a></div>\n        </accent-card>'])),e.title,e.metadata.tags&&""!=e.metadata.tags?e.metadata.tags.split(",").map((function(t){return l(Jt||(Jt=r(['<a href="x/views?tags=','">\n                        <simple-tag\n                          auto-accent-color\n                          value="','"\n                          accent-color="','"\n                        ></simple-tag\n                      ></a>'])),t.trim(),t.trim(),e.accentColor)})):H,e.slug)})))}},{key:"calculateBreadcrumb",value:function(e){for(var t=[],n=U.getManifest(!0),i=e;i&&null!=i.parent;)i=n.items.find((function(e){return e.id==i.parent})),i&&t.unshift({title:i.title});return t}}],[{key:"tag",get:function(){return"site-view"}},{key:"styles",get:function(){return[v(b(t),"styles",this),s(Kt||(Kt=r(["\n        :host {\n          display: block;\n          font-size: 16px;\n        }\n        h3 {\n          margin: 4px 0;\n          padding: 0;\n        }\n        editable-table-display::part(tag-link),\n        a {\n          text-decoration: none;\n          font-size: 16px;\n        }\n        [data-active] {\n          background-color: var(--simple-colors-default-theme-accent-1);\n        }\n        simple-icon-button-lite {\n          border-radius: 0;\n          font-size: 16px;\n        }\n        :host([loading]) .loading {\n          width: 100%;\n          --simple-icon-height: 50px;\n          --simple-icon-width: 50px;\n        }\n        /* list display */\n        .list {\n          margin: 0;\n          padding: 0;\n          list-style: none;\n        }\n        .list-item {\n          margin: 0;\n          padding: 16px;\n          border-bottom: 1px solid var(--simple-colors-default-theme-grey-3);\n        }\n        .list-item:hover {\n          background-color: var(--simple-colors-default-theme-grey-2);\n        }\n        .list-link a {\n          font-size: 32px;\n        }\n        .list-breadcrumb {\n          font-size: 10px;\n        }\n\n        .overview {\n          padding: 0;\n          margin: 0;\n          list-style: none;\n          font-size: 12px;\n        }\n\n        /* editable table display */\n        editable-table-display,\n        editable-table-display::part(table),\n        table,\n        tr,\n        th,\n        td {\n          font-size: 16px;\n        }\n        editable-table-display {\n          --simple-icon-width: 50px;\n          --simple-icon-height: 36px;\n        }\n      "])))]}},{key:"haxProperties",get:function(){return{canScale:!1,canEditSource:!1,gizmo:{title:"Site View",description:"A dynamic block that queries and displays certain information based on criteria",icon:"hax:view-gallery",color:"grey",tags:["Other","site","views","data","display","filter","view"],handles:[],meta:{author:"HAXTheWeb core team",owner:"The Pennsylvania State University"}},settings:{configure:[{property:"search",title:"View URL",description:"URL containing criteria for generating the view. You can obtain this from the Views page.",inputMethod:"textfield",required:!0}]},demoSchema:[{tag:"site-view",properties:{search:"?display=list&displayOf=title&parent=__ACTIVE__"},content:""}]}}},{key:"properties",get:function(){return i(i({},v(b(t),"properties",this)),{},{search:{type:String},results:{type:Array},loading:{type:Boolean,reflect:!0},params:{type:Object}})}}])}(q);customElements.define(tn.tag,tn);var nn,an=function(e){return function(e){function t(){var e;return d(this,t),(e=u(this,t)).__disposer=e.__disposer?e.__disposer:[],F((function(t){e.editMode=X(U.editMode),e.__disposer.push(t)})),F((function(t){e.darkMode=X(U.darkMode),e.dark=e.darkMode,e.__disposer.push(t)})),e}return a(t,e),o(t,null,[{key:"styles",get:function(){var e=[];return v(b(t),"styles",this)&&(e=v(b(t),"styles",this)),[e,s(Qt||(Qt=r(['\n          [part="edit-mode-active"],\n          [part*="edit-mode-active"] {\n            pointer-events: var(\n              --haxcms-theme-parts-edit-mode-active-pointer-events,\n              none\n            );\n            opacity: var(--haxcms-theme-parts-edit-mode-active-opacity, 0.5);\n            filter: var(\n              --haxcms-theme-parts-edit-mode-active-filter,\n              blur(1px)\n            );\n          }\n        '])))]}},{key:"properties",get:function(){var e=v(b(t),"properties",this)||{};return i(i({},e),{},{editMode:{type:Boolean,attribute:"edit-mode",reflect:!0},darkMode:{type:Boolean,attribute:"dark-mode",reflect:!0}})}}])}(e)},on={url:new URL("./elements/haxcms-elements/lib/core/utils/HAXCMSButton.js",document.baseURI).href};new URL("../../../../app-hax/lib/assets/images/ButtonBGLM.svg",on.url).href,new URL("../../../../app-hax/lib/assets/images/ButtonBGDM.svg",on.url).href;var sn=function(e){function t(){var e;return d(this,t),(e=u(this,t)).icon="mdextra:hexagon-multiple",e.label="button",e.voiceCommand="",e}return a(t,e),o(t,[{key:"HAXCMSFireButtonEvent",value:function(e,t,n){var i=new CustomEvent(e,{bubbles:!0,composed:!0,cancelable:!0,detail:{originalTarget:t,values:n}});this.dispatchEvent(i)}},{key:"HAXCMSButtonClick",value:function(e){}},{key:"renderButton",value:function(e,t){return l(nn||(nn=r(['\n      <simple-icon-button\n        .part="','"\n        tabindex="','"\n        id="button"\n        label="','"\n        @click="','"\n        ?dark="','"\n        icon="','"\n        accent-color="','"\n        voice-command="','"\n      ></simple-icon-button>\n      <simple-tooltip for="button" position="bottom" offset="14">\n        ',"\n      </simple-tooltip>\n    "])),this.editMode?"edit-mode-active":"",this.editMode?"-1":"",e,this.HAXCMSButtonClick,!this.darkMode,this.icon,this.accentColor,this.voiceCommand,t)}}],[{key:"properties",get:function(){return i(i({},v(b(t),"properties",this)),{},{icon:{type:String},label:{type:String},voiceCommand:{type:String},accentColor:{type:String,attribute:"accent-color"}})}}])}(an(N(c))),rn=function(e){function t(){var e;return d(this,t),(e=u(this,t)).windowControllers=new AbortController,e.t=e.t||{},e.t.newPageAdded="New page added",e.t.newPage="Page",e.t.copy="Copy",e.t.newChildPage="Child",e.t.duplicatePage="Clone",e.icon="hax:add-page",e.voiceCommand="add page",e.dark=!1,e.type="sibling",e.autoEdit=!1,e.showTextLabel=!0,e.iconPosition="left",e.alignHorizontal="left",e.addEventListener("click",e.HAXCMSButtonClick),e}return a(t,e),o(t,[{key:"updated",value:function(e){switch(v(b(t.prototype),"updated",this)&&v(b(t.prototype),"updated",this).call(this,e),this.type){case"sibling":return this.label=this.t.newPage;case"child":return this.icon="hax:add-child-page",this.label=this.t.newChildPage;case"duplicate":return this.icon="hax:duplicate",this.label=this.t.duplicatePage}this.icon=void 0,this.setAttribute("role","menuitem")}},{key:"render",value:function(){return this.buttonTemplate}},{key:"connectedCallback",value:function(){v(b(t.prototype),"connectedCallback",this).call(this),globalThis.addEventListener("haxcms-create-node-success",this.HAXCMSButtonClickResponse.bind(this),{signal:this.windowControllers.signal})}},{key:"disconnectedCallback",value:function(){this.windowControllers.abort(),v(b(t.prototype),"disconnectedCallback",this).call(this)}},{key:"HAXCMSButtonClick",value:function(){U.playSound("click");var e=null,t=this.t.newPage,n=null,i=X(U.activeItem);i&&("sibling"===this.type?(n=i.parent,e=parseInt(i.order)+1):"child"===this.type?(n=i.id,e=0):"duplicate"===this.type&&(t=i.title+" "+this.t.copy,n=i.parent,e=parseInt(i.order)+1)),""===t&&(t="New");var a={node:{title:t,location:""},order:e,parent:n};"duplicate"===this.type&&(a.node.duplicate=i.id),this.HAXCMSFireButtonEvent("haxcms-create-node",this,a)}},{key:"HAXCMSButtonClickResponse",value:function(e){this===e.detail.originalTarget&&this.autoEdit&&(ne.haxTray.collapsed=!1,setTimeout((function(){U.editMode=!0}),250))}}],[{key:"tag",get:function(){return"haxcms-button-add"}},{key:"styles",get:function(){return[v(b(t),"styles",this)].concat(f(this.iconStyles),f(this.labelStyles),f(this.tooltipStyles),f(this.simpleButtonCoreStyles),f(this.simpleButtonLayoutStyles),f(this.simpleButtonThemeStyles))}},{key:"properties",get:function(){return i(i({},v(b(t),"properties",this)),{},{autoEdit:{type:Boolean,attribute:"auto-edit"},type:{type:String}})}}])}(V(sn));customElements.define(rn.tag,rn);var ln,cn,dn,un,hn,pn,mn,gn=function(e){function t(){var e;return d(this,t),e=u(this,t),F((function(){e.checked=X(U.darkMode)})),e}return a(t,e),o(t,[{key:"toggle",value:function(){this.checked=!this.checked}},{key:"updated",value:function(e){var n=this;v(b(t.prototype),"updated",this)&&v(b(t.prototype),"updated",this).call(this,e),e.forEach((function(e,t){"checked"===t&&void 0!==e&&requestAnimationFrame((function(){U.darkMode=n[t],U.playSound("click"),n[t]?U.toast("I'm ascared of the dark",2e3,{fire:!0}):U.toast("Sunny day it is",2e3,{hat:"random"})}))}))}}],[{key:"tag",get:function(){return"haxcms-darkmode-toggle"}}])}(W);customElements.define(gn.tag,gn);var vn,bn,fn=function(e){function t(){var e;return d(this,t),(e=u(this,t)).mood=null,e.seed="abc123",e.timestamp=Date.now()/1e3,e.reply=0,e.editMode=!1,e.canEdit=!1,e.readOnly=!0,e.haxUIElement=!0,e}return a(t,e),o(t,[{key:"testCanUpdate",value:function(e){this.seed===e?this.canEdit=!0:this.canEdit=!1}},{key:"deleteOp",value:function(){this.dispatchEvent(new CustomEvent("page-flag-comment-delete",{bubbles:!0,cancelable:!0,detail:this}))}},{key:"replyOp",value:function(){this.dispatchEvent(new CustomEvent("page-flag-comment-reply",{bubbles:!0,cancelable:!0,detail:this}))}},{key:"editOp",value:function(){this.dispatchEvent(new CustomEvent("page-flag-comment-edit",{bubbles:!0,cancelable:!0,detail:this}))}},{key:"render",value:function(){return l(ln||(ln=r(['\n      <div class="comment">\n        ','\n        <div class="comment__header">\n          <div class="comment__header__avatar">\n            <rpg-character\n              seed="','"\n              width="40"\n              height="40"\n              hat="','"\n            ></rpg-character>\n          </div>\n          <div class="comment__header__info">\n            <div class="comment__header__info__name">','</div>\n            <div class="comment__header__info__date">\n              <simple-datetime\n                format="m/j/y h:i"\n                .timestamp="','"\n                unix\n              ></simple-datetime>\n            </div>\n          </div>\n        </div>\n        <div class="comment__body">\n          <simple-fields-field type="textarea"></simple-fields-field>\n          <slot></slot>\n        </div>\n        <div class="comment__footer">\n          <div class="comment__footer__actions">\n            ',"\n          </div>\n        </div>\n      </div>\n    "])),this.editMode?l(cn||(cn=r(['<simple-emoji-picker\n              align-right\n              label="Reaction"\n              value="','"\n              @value-changed="','"\n            ></simple-emoji-picker>'])),this.mood,this.emojiChanged):l(dn||(dn=r(['<div class="emoji" .innerHTML="','"></div>'])),this.mood),this.seed,this.editMode?"edit":"none",this.seed,this.timestamp,this.readOnly?"":l(un||(un=r(["\n                  ",'\n                  <simple-icon-button\n                    icon="reply"\n                    title="Reply"\n                    @click="','"\n                  ></simple-icon-button>\n                  ',"\n                "])),this.canEdit?l(hn||(hn=r(['<simple-icon-button\n                        icon="','"\n                        title="','"\n                        @click="','"\n                      ></simple-icon-button> '])),this.editMode?"save":"editor:mode-edit",this.editMode?"Edit":"Update",this.editOp):"",this.replyOp,this.canEdit?l(pn||(pn=r(['<simple-icon-button\n                        icon="delete"\n                        title="Delete"\n                        @click="','"\n                      ></simple-icon-button>'])),this.deleteOp):""))}},{key:"emojiChanged",value:function(e){this.mood=e.detail.value}},{key:"firstUpdated",value:function(e){v(b(t.prototype),"firstUpdated",this).call(this,e),this.shadowRoot.querySelector("simple-fields-field").value=this.innerHTML}},{key:"updated",value:function(e){var n=this;v(b(t.prototype),"updated",this).call(this,e),e.forEach((function(e,t){"editMode"==t&&void 0!==e&&(n[t]?(n.shadowRoot.querySelector("simple-fields-field").value=n.innerHTML,setTimeout((function(){n.shadowRoot.querySelector("simple-fields-field").focus(),n.shadowRoot.querySelector("simple-fields-field").select()}),0)):n.innerHTML=n.shadowRoot.querySelector("simple-fields-field").value)}))}}],[{key:"tag",get:function(){return"page-flag-comment"}},{key:"properties",get:function(){return{seed:{type:String},timestamp:{type:Number},mood:{type:String},editMode:{type:Boolean,reflect:!0,attribute:"edit-mode"},canEdit:{type:Boolean},reply:{type:Number,reflect:!0},readOnly:{type:Boolean}}}},{key:"styles",get:function(){return[,s(mn||(mn=r(['\n        :host {\n          display: block;\n        }\n        :host slot {\n          display: block;\n        }\n        :host simple-emoji-picker,\n        :host simple-fields-field {\n          display: none;\n        }\n        :host([edit-mode]) simple-emoji-picker,\n        :host([edit-mode]) simple-fields-field {\n          display: block;\n        }\n        simple-emoji-picker {\n          float: right;\n          width: 40px;\n        }\n        .emoji {\n          float: right;\n          width: 40px;\n          height: 40px;\n          font-size: 32px;\n        }\n        :host([edit-mode]) slot {\n          display: none;\n        }\n        :host([reply="1"]) .comment {\n          margin-left: 16px;\n        }\n        :host([reply="2"]) .comment {\n          margin-left: 32px;\n        }\n        .comment {\n          background-color: #fff;\n          border-radius: 5px;\n          box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);\n          padding: 10px;\n          margin-bottom: 10px;\n        }\n        simple-icon-button {\n          --simple-icon-height: 16px;\n          --simple-icon-width: 16px;\n          margin: 0 6px;\n        }\n        .comment__header {\n          display: flex;\n          align-items: center;\n          margin-bottom: 10px;\n        }\n        .comment__header__avatar {\n          width: 40px;\n          height: 40px;\n          border-radius: 50%;\n          overflow: hidden;\n          border: 2px solid black;\n          margin-right: 8px;\n        }\n        .comment__header__info {\n          display: flex;\n          flex-direction: column;\n        }\n        .comment__header__info__name {\n          font-weight: bold;\n          font-size: 14px;\n        }\n        .comment__header__info__date {\n          font-size: 12px;\n          color: #999;\n        }\n        .comment__body {\n          margin-bottom: 10px;\n        }\n        .comment__footer {\n          display: flex;\n          justify-content: flex-end;\n        }\n        .comment__footer__actions {\n          display: flex;\n        }\n        .comment__footer__actions__button {\n          background-color: transparent;\n          border: none;\n          color: #999;\n          font-size: 12px;\n          cursor: pointer;\n          margin-left: 10px;\n        }\n      '])))]}}])}(c);customElements.define(fn.tag,fn);var yn={url:new URL("./elements/page-flag/page-flag.js",document.baseURI).href},xn=function(e){function t(){var e;return d(this,t),(e=u(this,t)).label="note",e.opened=!1,e.accentColor="cyan",e.show=!1,e._haxState=!1,e}return a(t,e),o(t,[{key:"toggleOpen",value:function(e){var t=this;this.opened=!this.opened,this.dark=this.opened,this.querySelectorAll("page-flag-comment").forEach((function(e){e.testCanUpdate(Mn.activeUser),e.readOnly=!t._haxState}))}},{key:"render",value:function(){return l(vn||(vn=r([' <button class="arrow" @click="','">\n        ','\n      </button>\n      <absolute-position-behavior\n        justify\n        position="bottom"\n        allow-overlap\n        auto\n        ?hidden="','"\n      >\n        <div\n          @page-flag-comment-edit="','"\n          @page-flag-comment-delete="','"\n          @page-flag-comment-reply="','"\n        >\n          <slot></slot>\n        </div>\n      </absolute-position-behavior>'])),this.toggleOpen,this.label,!this.opened,this.handleEdit,this.handleDelete,this.handleReply)}},{key:"handleEdit",value:function(e){e.detail.editMode=!e.detail.editMode}},{key:"handleDelete",value:function(e){e.detail.remove(),0===this.querySelectorAll("page-flag-comment").length&&this.remove()}},{key:"handleReply",value:function(e){var t=document.createElement("page-flag-comment");t.seed=Mn.activeUser,t.timestamp=Date.now()/1e3,t.canEdit=!0,t.readOnly=!1,t.reply=e.detail.reply+1<2?e.detail.reply+1:2,e.detail.insertAdjacentElement("afterend",t),setTimeout((function(){t.editMode=!0}),0)}},{key:"haxeditModeChanged",value:function(e){this.show=e,this._haxState=e}},{key:"haxHooks",value:function(){return{editModeChanged:"haxeditModeChanged",inlineContextMenu:"haxinlineContextMenu"}}},{key:"haxinlineContextMenu",value:function(e){e.ceButtons=[{icon:"lrn:discuss",callback:"haxResolveThread",label:"Resolve thread"}]}},{key:"haxResolveThread",value:function(e){return this.remove(),!0}},{key:"firstUpdated",value:function(e){if(v(b(t.prototype),"firstUpdated",this)&&v(b(t.prototype),"firstUpdated",this).call(this,e),Mn.allFlags.push(this),Mn.activeUser?this.show=!0:this.remove(),this.shadowRoot.querySelector("absolute-position-behavior").target=this.shadowRoot.querySelector(".arrow"),!this.querySelector("page-flag-comment")){var n=document.createElement("page-flag-comment");n.seed=Mn.activeUser,n.timestamp=Date.now()/1e3,n.canEdit=!0,n.readOnly=!1,this.appendChild(n),setTimeout((function(){n.editMode=!0}),100)}}}],[{key:"properties",get:function(){return i(i({},v(b(t),"properties",this)),{},{label:{type:String},opened:{type:Boolean,reflect:!0},show:{type:Boolean,reflect:!0}})}},{key:"styles",get:function(){var e=[];return v(b(t),"styles",this)&&(e=v(b(t),"styles",this)),[e,s(bn||(bn=r(['\n        :host {\n          display: none;\n          float: right;\n          z-index: var(--simple-modal-z-index, 1000);\n          margin-right: -80px;\n          position: relative;\n        }\n        :host([show]) {\n          display: block;\n        }\n        .arrow {\n          border: 3px solid var(--simple-colors-default-theme-accent-4, #97d4e8);\n          border-radius: 4px;\n          background: var(--simple-colors-default-theme-accent-1, #c8e7f1);\n          color: var(--simple-colors-default-theme-accent-8, #2d7187);\n          padding: 8px;\n          text-align: center;\n          max-width: 100px;\n          font-size: 11px;\n          font-weight: bold;\n          position: relative;\n          cursor: pointer;\n        }\n\n        .arrow::after,\n        .arrow::before {\n          border: solid transparent;\n          content: " ";\n          display: block;\n          height: 0;\n          position: absolute;\n          pointer-events: none;\n          width: 0;\n          right: 100%;\n        }\n        .arrow::before {\n          border-color: rgba(255, 255, 255, 0);\n          border-right-color: var(\n            --simple-colors-default-theme-accent-4,\n            #97d4e8\n          );\n          top: 50%;\n          margin-top: -14px;\n          border-width: 14px;\n        }\n        .arrow::after {\n          border-color: rgba(255, 255, 255, 0);\n          border-right-color: var(\n            --simple-colors-default-theme-accent-1,\n            #c8e7f1\n          );\n          top: 50%;\n          margin-top: -10px;\n          border-width: 10px;\n        }\n        absolute-position-behavior {\n          z-index: var(--simple-modal-z-index, 1000);\n          min-width: 280px;\n        }\n        absolute-position-behavior div {\n          color: black;\n          background-color: white;\n          font-size: 12px;\n          width: 300px;\n          margin-left: 160px;\n          padding-top: 8px;\n        }\n      '])))]}},{key:"tag",get:function(){return"page-flag"}},{key:"haxProperties",get:function(){return new URL("./lib/".concat(this.tag,".haxProperties.json"),yn.url).href}}])}(q);customElements.define(xn.tag,xn);var kn=function(e){function t(){var e;return d(this,t),(e=u(this,t)).windowControllers=new AbortController,e.activeUser=null,e.allFlags=[],e}return a(t,e),o(t,[{key:"connectedCallback",value:function(){window.addEventListener("haxcms-user-data-updated",this.userDataUpdated.bind(this),{signal:this.windowControllers.signal})}},{key:"disconnectedCallback",value:function(){this.windowControllers.abort()}},{key:"userDataUpdated",value:function(e){this.activeUser=e.detail.userName,this.allFlags.forEach((function(e){e.show=!0}))}}],[{key:"tag",get:function(){return"page-flag-manager"}}])}(G(HTMLElement));customElements.define(kn.tag,kn),window.pageFlagManager=window.pageFlagManager||{},window.pageFlagManager.requestAvailability=function(){return window.pageFlagManager.instance||(window.pageFlagManager.instance=document.createElement(kn.tag),document.body.appendChild(window.pageFlagManager.instance)),window.pageFlagManager.instance};var wn,Sn,Cn,Tn,Mn=window.pageFlagManager.requestAvailability(),_n={url:new URL("./elements/haxcms-elements/lib/core/haxcms-site-editor-ui.js",document.baseURI).href};new URL("../../../app-hax/lib/assets/images/ButtonBGLM.svg",_n.url).href,new URL("../../../app-hax/lib/assets/images/ButtonBGDM.svg",_n.url).href;var En=new URL("../../../app-hax/lib/assets/images/Logout.svg",_n.url).href,Ln=e("HAXCMSSiteEditorUI",function(e){function n(){var e,a;return d(this,n),(e=u(this,n)).__winEvents={"can-redo-changed":"_redoChanged","can-undo-changed":"_undoChanged","hax-drop-focus-event":"_expandSettingsPanel","jwt-logged-in":"_jwtLoggedIn","super-daemon-close":"sdCloseEvent"},e.rpgHat="none",e.darkMode=!1,e.__editText="Edit",e.userMenuOpen=!1,e.soundIcon="",e.__disposer=e.__disposer||[],e.t=e.t||{},J.allowedCallback=function(){return!0},J.keyHandlerCallback=function(){var t=e.shadowRoot.querySelector("#merlin");return U.playSound("click"),"super-daemon-modal"==t.getAttribute("data-event")?ne.haxTray.collapsed=!1:(J.mini=!0,J.wand=!0,J.activeNode=e.shadowRoot.querySelector("#merlin")),J.runProgram("","*"),!0},J.noResultsSlot=function(){return l(wn||(wn=r(['<div class="no-results">\n          Expecting to see an option Merlin didn\'t provide?\n        </div>\n        <a\n          @click="','"\n          >Make a suggestion to improve results</a\n        >'])),(function(e){ne._haxStoreContribute("merlin","POP,enhancement",J.commandContext+" "+J.value)}))},J.appendContext("CMS"),J.defineOption({title:"Magic File Wand",icon:"hax:hax2022",priority:-1e4,tags:["Agent","help","merlin"],eventName:"super-daemon-run-program",path:"HAX/agent",value:{name:"Agent",machineName:"hax-agent",program:(a=p(m().mark((function t(n,i){var a,o,s,r,l,c,d,u;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=X(K.action),o=X(K.memory),s=X(K.data),r=[],"file-selected"!==i.operation){t.next=23;break}t.t0=i.type,t.next="md"===t.t0||"docx"===t.t0||"doc"===t.t0||"txt"===t.t0||"html"===t.t0||"htm"===t.t0?8:"png"===t.t0||"jpeg"===t.t0||"gif"===t.t0||"jpg"===t.t0?11:"mp4"===t.t0?13:"midi"===t.t0||"mid"===t.t0||"mp3"===t.t0?15:"pdf"===t.t0?17:18;break;case 8:return o.editMode||(r.push({title:"New Sibling Page from ".concat(i.type),icon:"hax:add-page",tags:["agent"],value:{target:e,method:"processFileContentsBasedOnUserDesire",args:[i,"create-sibling"]},eventName:"super-daemon-element-method",path:"Page created next to current"}),r.push({title:"New Child Page from ".concat(i.type),icon:"hax:add-child-page",tags:["agent"],value:{target:e,method:"processFileContentsBasedOnUserDesire",args:[i,"create-child"]},eventName:"super-daemon-element-method",path:"Page created under current"}),["docx","doc"].includes(i.type)&&r.push({title:"Create outline from ".concat(i.type),icon:"hax:site-map",tags:["agent"],value:{target:e,method:"processFileContentsBasedOnUserDesire",args:[i,"create-branch"]},eventName:"super-daemon-element-method",path:"H1,H2 tags create menu pages"})),r.push({title:"Insert ".concat(i.type," contents in Page"),icon:"hax:html-code",tags:["agent"],value:{target:e,method:"processFileContentsBasedOnUserDesire",args:[i,"insert-html"]},eventName:"super-daemon-element-method",path:"Content converted to HTML and inserted"}),t.abrupt("break",19);case 11:return r.push({title:"Insert ".concat(i.type," in page"),icon:"editor:insert-photo",tags:["agent"],value:{target:e,method:"processFileContentsBasedOnUserDesire",args:[i,"insert-file","image"]},eventName:"super-daemon-element-method",path:"Image embedded in page"}),t.abrupt("break",19);case 13:return r.push({title:"Insert ".concat(i.type," in page"),icon:"av:play-circle-filled",tags:["agent"],value:{target:e,method:"processFileContentsBasedOnUserDesire",args:[i,"insert-file","video"]},eventName:"super-daemon-element-method",path:"Video embedded in page"}),t.abrupt("break",19);case 15:return r.push({title:"Insert ".concat(i.type," in page"),icon:"av:volume-up",tags:["agent"],value:{target:e,method:"processFileContentsBasedOnUserDesire",args:[i,"insert-file","audio"]},eventName:"super-daemon-element-method",path:"Audio embedded in page"}),t.abrupt("break",19);case 17:r.push({title:"Embed ".concat(i.type," in page"),icon:"hax:file-pdf",tags:["agent"],value:{target:e,method:"processFileContentsBasedOnUserDesire",args:[i,"insert-file","pdf"]},eventName:"super-daemon-element-method",path:"PDF embedded in a frame element"});case 18:return t.abrupt("break",19);case 19:r.push({title:"Link to ".concat(i.type," file"),icon:"editor:insert-link",tags:["agent"],value:{target:e,method:"processFileContentsBasedOnUserDesire",args:[i,"link","link"]},eventName:"super-daemon-element-method",path:"File uploaded and linked to"}),r.push({title:"Just Upload ".concat(i.type," file"),icon:"file-upload",tags:["agent"],value:{target:e,method:"processFileContentsBasedOnUserDesire",args:[i,"upload","upload-only"]},eventName:"super-daemon-element-method",path:"File uploaded for later use"}),t.next=36;break;case 23:if("drop"!==a.type||"drop"!==i.type){t.next=34;break}return l=s.file,t.next=27,l.text();case 27:c=t.sent,d=l.name.split("."),u="",d.length>1&&(u=d.pop()),J.waveWand(["","/",{operation:"file-selected",contents:c,data:l,type:u},"hax-agent","Agent"],e.shadowRoot.querySelector("#merlin"),"coin2"),t.next=36;break;case 34:r=[{title:"Select file..",icon:"folder-open",tags:["agent"],value:{target:e,method:"selectFileToProcess",args:[]},eventName:"super-daemon-element-method",path:"Watch Merlin work his magic!"}],e.selectFileToProcess();case 36:return t.abrupt("return",r);case 37:case"end":return t.stop()}}),t)}))),function(e,t){return a.apply(this,arguments)})}}),ne.ready&&(["site-remote-content","citation-element","page-flag","site-view","site-collection-list","collection-list","collection-item"].map((function(e){var t=globalThis.document.createElement(e);ne.haxAutoloader.appendChild(t)})),ne.primativeHooks.a||(ne.primativeHooks.a={}),ne.primativeHooks.a.setupActiveElementForm=function(t){var n=U.getManifestItems(!0),i=[{text:"-- ".concat(e.t.selectPage," --"),value:null}];n.forEach((function(t){if(t.id!=e.itemId){for(var a=t,o="- ";a&&null!=a.parent;)a=n.find((function(e){return e.id==a.parent})),a&&(o="--"+o);i.push({text:o+t.title,value:t.id})}}))}),e.t=i(i({},e.t),{},{selectPage:"Select page",backToSiteList:"Back to site list",mySites:"My sites",cancel:"Cancel",unsavedChangesWillBeLostIfSelectingOkAreYouSure:"Unsaved changes will be lost if selecting OK, are you sure?",editDetails:"Page details",add:"Add",editSettings:"Edit settings",source:"Source",viewSource:"View source",confirmHtmlSourceExit:"HTML Source changes will not be saved without pressing the `Update HTML` button, Save without HTML code editor changes?",findMedia:"Find media",undo:"Undo",redo:"Redo",media:"Media",outline:"Outline",blocks:"Blocks",addBlock:"Add block",addPage:"Add page",addChildPage:"Add child page",clonePage:"Clone page",delete:"Delete page",shareSite:"Share site",siteSettings:"Site settings",themeSettings:"Theme settings",seoSettings:"SEO settings",authorSettings:"Author settings",close:"Close",settings:"Settings",edit:"Edit",configureBlock:"Configure block",configure:"Configure",save:"Save",newJourney:"New Journey",accountInfo:"Account Info",outlineDesigner:"Outline designer",pageOutline:"Page outline",more:"More",siteActions:"Site actions",insights:"Insights dashboard (beta)",viewBuilder:"View builder (alpha)",merlin:"Merlin",summonMerlin:"Summon Merlin",logOut:"Log out",menu:"Menu",showMore:"More",contentImported:"Content imported!"}),e.backText="Site list",e.painting=!0,e.pageAllowed=!1,e.editMode=!1,e.__editIcon="hax:page-edit",e.icon="hax:site-settings",e.manifestEditMode=!1,e.backLink="../../",e.activeTagName="",e.activeNode=null,e.activeDrag=!1,e.activeType=null,globalThis.appSettings&&globalThis.appSettings.backLink&&(e.backLink=globalThis.appSettings.backLink),F((function(){var t=X(K.action),n=X(K.data);K.active&&K.memory.isLoggedIn&&null===J.programName&&"drag"===t.type?(e.activeDrag=!0,e.activeType=n.value||n.architype):K.active&&K.memory.isLoggedIn&&null===J.programName&&"dragleave"===t.type&&(e.activeDrag=!1,e.activeType=null)})),F((function(){var t=X(ne.activeGizmo);t&&t.title&&(e.activeTagName=t.title)})),F((function(){e.activeNode=X(ne.activeNode)})),F((function(){var e=X(U.badDevice);if(!1===e){var t=globalThis.document.createElement("link");t.setAttribute("href","https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"),t.setAttribute("rel","stylesheet"),t.setAttribute("fetchpriority","low"),globalThis.document.head.appendChild(t)}else!0===e&&globalThis.document.body.classList.add("bad-device")})),F((function(){e.darkMode=X(U.darkMode),e.dark=e.darkMode,X(U.darkMode)?(J.dark=!0,J.toastInstance.darkMode=!0,ne.globalPreferences.haxUiTheme="haxdark"):(ne.globalPreferences.haxUiTheme="hax",J.dark=!1,J.toastInstance.darkMode=!1)})),F((function(){e.soundIcon=X(U.soundStatus)?new URL("../../../app-hax/lib/assets/images/FullVolume.svg",_n.url).href:new URL("../../../app-hax/lib/assets/images/Silence.svg",_n.url).href})),setTimeout((function(){t.import("./96af6fbb.js"),t.import("./34c56f8f.js")}),0),e}return a(n,e),o(n,[{key:"_expandSettingsPanel",value:function(e){this.shadowRoot.querySelector("#content-edit").click()}},{key:"selectFileToProcess",value:function(){var e=this;t.import("./9b1def34.js").then((function(e){return e.ba})).then(function(){var t=p(m().mark((function t(n){var i,a,o,s,r;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=globalThis.FileSystemBroker.requestAvailability(),t.next=3,i.getFileContents("*");case 3:a=t.sent,o=i.fileHandler,s=o.name.split("."),r="",s.length>1&&(r=s.pop()),J.waveWand(["","/",{operation:"file-selected",contents:a,data:o,type:r},"hax-agent","Agent"],e.shadowRoot.querySelector("#merlin"),"coin2");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setProcessingVisual",value:function(){var e=globalThis.document.createElement("simple-icon-lite");e.icon="hax:loading",e.style.setProperty("--simple-icon-height","40px"),e.style.setProperty("--simple-icon-width","40px"),e.style.height="150px",e.style.marginLeft="8px",U.toast("Processing",5e3,{hat:"construction",speed:100,walking:!0,slot:e})}},{key:"processFileContentsBasedOnUserDesire",value:(f=p(m().mark((function e(n,i,a){var o,s,r,l,c,d=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X(K.data).event,this.setProcessingVisual(),e.t0=i,e.next="upload"===e.t0||"link"===e.t0||"insert-file"===e.t0?6:"insert-html"===e.t0||"create-sibling"===e.t0||"create-child"===e.t0||"create-branch"===e.t0?8:47;break;case 6:return"upload"===i?this.dispatchEvent(new CustomEvent("hax-file-upload",{bubbles:!0,cancelable:!0,composed:!0,detail:{file:n.data,placeHolderElement:null,operationType:a}})):"link"===i?(!1===U.editMode&&(U.editMode=!0),setTimeout((function(){var e=ne.activeHaxBody.haxInsert("p","",{});d.dispatchEvent(new CustomEvent("hax-file-upload",{bubbles:!0,cancelable:!0,composed:!0,detail:{file:n.data,placeHolderElement:e,operationType:a}}))}),300)):(!1===U.editMode&&(U.editMode=!0),setTimeout((function(){var e=ne.activeHaxBody.haxInsert("p","",{});d.dispatchEvent(new CustomEvent("hax-file-upload",{bubbles:!0,cancelable:!0,composed:!0,detail:{file:n.data,placeHolderElement:e,operationType:a}}))}),300)),e.abrupt("break",47);case 8:o=null,s=new FormData,e.t1=n.type,e.next="docx"===e.t1||"doc"===e.t1?13:"md"===e.t1||"txt"===e.t1?17:"html"===e.t1||"htm"===e.t1?20:21;break;case 13:return s.append("upload",n.data),o="@core/docxToHtml","create-branch"===i&&(o="@haxcms/docxToSite",s.append("method","branch"),s.append("type","branch"),r=X(U.activeItem),s.append("parentId",r.parent)),e.abrupt("break",21);case 17:return o="@core/mdToHtml",s={md:n.contents},e.abrupt("break",21);case 20:return e.abrupt("break",21);case 21:if(l={},!o){e.next=45;break}if("insert-html"!==i){e.next=30;break}return e.next=26,P.call(o,s);case 26:200==(l=e.sent).status&&this.insertElementsFromContentBlob(l.data.contents||l.data),e.next=43;break;case 30:return e.next=32,P.call(o,s);case 32:if(200!=(l=e.sent).status){e.next=43;break}if(!["create-sibling","create-child"].includes(i)){e.next=38;break}this.createNewNode(i.replace("create-",""),n.data.name,l.data.contents||l.data),e.next=43;break;case 38:if(!l.data||""==l.data.contents){e.next=43;break}return(c={}).items=l.data.items,e.next=43,t.import("./1edf074a.js").then(function(){var e=p(m().mark((function e(t){var n,i,a,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.jwt=X(U.jwt),c.site={name:X(U.manifest.metadata.site.name)},(n=globalThis.document.createElement("outline-designer")).items=l.data.items,n.eventData=c,n.storeTools=!0,(i=globalThis.document.createElement("button")).innerText="Confirm",i.classList.add("hax-modal-btn"),i.addEventListener("click",function(){var e=p(m().mark((function e(t){var i,a,o,s,r,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getData();case 2:i=e.sent,a=0,o=0,s=0,i.items.map((function(e){e.delete?a++:e.new?s++:e.modified&&o++})),(""==(r="".concat(s>0?"‣ ".concat(s," new pages will be created\n"):"").concat(o>0?"‣ ".concat(o," pages will be updated\n"):"").concat(a>0?"‣ ".concat(a," pages will be deleted\n"):""))||globalThis.confirm("Saving will commit the following actions:\n".concat(r,"\nAre you sure?")))&&(U.cmsSiteEditorAvailability().querySelector("#createajax").body=i,d.setProcessingVisual(),U.cmsSiteEditorAvailability().querySelector("#createajax").generateRequest(),l=new CustomEvent("simple-modal-hide",{bubbles:!0,composed:!0,cancelable:!0,detail:{}}),globalThis.dispatchEvent(l));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(a=globalThis.document.createElement("button")).innerText="Cancel",a.classList.add("hax-modal-btn"),a.classList.add("cancel"),a.addEventListener("click",(function(e){var t=new CustomEvent("simple-modal-hide",{bubbles:!0,composed:!0,cancelable:!0,detail:{}});globalThis.dispatchEvent(t)})),(o=globalThis.document.createElement("div")).appendChild(i),o.appendChild(a),d.dispatchEvent(new CustomEvent("simple-modal-show",{bubbles:!0,cancelable:!0,composed:!0,detail:{title:"Confirm structure",elements:{content:n,buttons:o},modal:!0,styles:te(te(te({"--simple-modal-titlebar-background":"transparent","--simple-modal-titlebar-color":"black","--simple-modal-width":"90vw","--simple-modal-min-width":"300px","--simple-modal-z-index":"100000000","--simple-modal-height":"90vh","--simple-modal-min-height":"400px","--simple-modal-titlebar-height":"64px"},"--simple-modal-titlebar-color","black"),"--simple-modal-titlebar-height","80px"),"--simple-modal-titlebar-background","orange")}}));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 43:e.next=46;break;case 45:"insert-html"===i?this.insertElementsFromContentBlob(n.contents):"create-branch"!==i&&this.createNewNode(i.replace("create-",""),n.data.name,n.contents);case 46:return e.abrupt("break",47);case 47:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return f.apply(this,arguments)})},{key:"createNewNode",value:(g=p(m().mark((function e(t){var n,i,a,o,s,r,l,c=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:"New page",i=c.length>2&&void 0!==c[2]?c[2]:"<p></p>",a=null,o=null,!(s=X(U.activeItem))){e.next=23;break}if("sibling"!==t){e.next=11;break}o=s.parent,a=parseInt(s.order),e.next=23;break;case 11:if("child"!==t){e.next=22;break}return o=s.id,e.t0=X,e.next=16,U.getLastChildItem(s.id);case 16:e.t1=e.sent,r=(0,e.t0)(e.t1).order,a=0,(r||0===r)&&(a=r+1),e.next=23;break;case 22:o=null,a=0;case 23:""==n&&(n="New page"),l={node:{title:n,location:"",contents:i},order:a,parent:o},this.dispatchEvent(new CustomEvent("haxcms-create-node",{bubbles:!0,composed:!0,cancelable:!0,detail:{originalTarget:this,values:l}}));case 26:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"insertElementsFromContentBlob",value:function(e){var t=this,n=!1;!1===U.editMode?(U.editMode=!0,n=!0):this.activeNode.hasAttribute("slot")&&(a=this.activeNode.getAttribute("slot"));var i=globalThis.document.createElement("div");i.innerHTML=e;var a=!1;if(!n&&this.activeNode&&this.activeNode.parentNode)for(var o=i.children.length-1;o>0;o--)a&&i.children[o].setAttribute("slot",a),this.activeNode.parentNode.insertBefore(i.children[o],this.activeNode.nextSibling);else setTimeout((function(){for(var e=i.children.length-1;e>0;e--)ne.activeHaxBody.appendChild(i.children[e]);setTimeout((function(){ne.activeHaxBody.scrollHere(t.activeNode),setTimeout((function(){ne.activeHaxBody.scrollHere(t.activeNode)}),500)}),1e3)}),300);ne.toast(this.t.contentImported)}},{key:"insertUrl",value:(h=p(m().mark((function e(t,n){var i,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1===U.editMode&&(U.editMode=!0),!n){e.next=6;break}return e.next=4,P.call("@core/metadata",{q:t});case 4:(i=e.sent).data&&(i.data["og:title"]||i.data.title)&&(a={title:i.data["og:title"]||i.data.title,source:t},ne.insertLogicFromValues(a,this));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"soundToggle",value:function(){var e=!X(U.soundStatus);U.soundStatus=e,$("app-hax-soundStatus",e),e?(U.toast("Can you hear me now? Good.",2e3,{hat:"random"}),U.playSound("click")):U.toast("Sound off.. hey.. HELLO!?!",2e3,{fire:!0})}},{key:"closeMenu",value:function(){this.userMenuOpen=!1}},{key:"toggleMenu",value:function(){this.userMenuOpen=!this.userMenuOpen,U.playSound("click")}},{key:"getIconPosition",value:function(e){return["xl","lg"].includes(e)?"left":"top"}},{key:"render",value:function(){return l(Sn||(Sn=r(['\n      <app-hax-top-bar part="top-bar" ?edit-mode="','">\n        <span slot="left" class="home-btn">\n          <a\n            href="','"\n            class="haxLogo"\n            id="backtosites"\n            part="hax-logo"\n          >\n            <simple-icon-lite icon="hax:hax2022"></simple-icon-lite>\n          </a>\n          <simple-tooltip for="backtosites" position="right"\n            >','</simple-tooltip\n          >\n          <slot name="haxcms-site-editor-ui-prefix-avatar"></slot>\n        </span>\n        <simple-toolbar\n          slot="center"\n          ?dark="','"\n          icon-position="','"\n          show-text-label\n          label="','"\n        >\n          <slot name="haxcms-site-editor-ui-prefix-buttons"></slot>\n          <simple-toolbar-button\n            hidden\n            id="editbutton"\n            icon="','"\n            icon-position="','"\n            @click="','"\n            label="','"\n            show-text-label\n            data-primary="4"\n            voice-command="edit (this) page"\n          ></simple-toolbar-button>\n           <simple-toolbar-button\n            icon="icons:undo"\n            icon-position="','"\n            ?disabled="','"\n            @click="','"\n            label="','"\n            data-event="undo"\n            id="undo"\n            ?hidden="','"\n            voice-command="undo"\n            show-text-label\n          >\n          </simple-toolbar-button>\n          <simple-toolbar-button\n            icon="icons:redo"\n            @click="','"\n            ?disabled="','"\n            ?hidden="','"\n            label="','"\n            data-event="redo"\n            id="redo"\n            voice-command="redo"\n            icon-position="','"\n            show-text-label\n          >\n          </simple-toolbar-button>\n\n          <simple-toolbar-button\n            id="cancelbutton"\n            icon="icons:cancel"\n            icon-position="','"\n            @click="','"\n            ?hidden="','"\n            ?disabled="','"\n            show-text-label\n            tabindex="','"\n            label="','"\n            voice-command="cancel (editing)"\n          ></simple-toolbar-button>\n\n          <simple-toolbar-menu\n            id="addmenubutton"\n            ?hidden="','"\n            ?disabled="','"\n            icon="hax:add-page"\n            icon-position="','"\n            label="','.."\n            tabindex="','"\n            @dblclick="','"\n            show-text-label\n          >\n            <simple-toolbar-menu-item>\n              <haxcms-button-add\n                hidden\n                ?disabled="','"\n                show-text-label\n                id="addbutton"\n                show-text-label\n                data-super-daemon-label="','"\n                data-super-daemon-icon="hax:add-page"\n                data-super-daemon-path="CMS/action/create/page"\n              >\n              </haxcms-button-add>\n            </simple-toolbar-menu-item>\n            <simple-toolbar-menu-item>\n              <haxcms-button-add\n                hidden\n                ?disabled="','"\n                id="addbuttonchild"\n                type="child"\n                show-text-label\n                data-super-daemon-path="CMS/action/create/child"\n                data-super-daemon-label="','"\n                data-super-daemon-icon="hax:add-child-page"\n              ></haxcms-button-add>\n            </simple-toolbar-menu-item>\n              <haxcms-button-add\n                hidden\n                ?disabled="','"\n                type="duplicate"\n                id="duplicatebutton"\n                show-text-label\n                data-super-daemon-path="CMS/action/create/duplicate"\n                data-super-daemon-label="','"\n                data-super-daemon-icon="hax:duplicate"\n              ></haxcms-button-add>\n            </simple-toolbar-menu-item>\n          </simple-toolbar-menu>\n          \n          <simple-toolbar-button\n            ?hidden="','"\n            ?disabled="','"\n            tabindex="','"\n            id="deletebutton"\n            icon-position="','"\n            icon="icons:delete"\n            @click="','"\n            label="','"\n            show-text-label\n            voice-command="delete page"\n          ></simple-toolbar-button>\n\n          <simple-toolbar-button\n            data-event="content-edit"\n            icon="settings"\n            @click="','"\n            id="content-edit"\n            label="','"\n            ?hidden="','"\n            ?disabled="','"\n            voice-command="(modify)(configure)(edit) selected"\n            controls="tray-detail"\n            tooltip="'," ",'"\n            toggles\n            ?toggled="','"\n            icon-position="','"\n            show-text-label\n          >\n          </simple-toolbar-button>\n          <simple-toolbar-button\n            ?hidden="','"\n            ?disabled="','"\n            data-event="content-add"\n            icon="hax:add-brick"\n            id="content-add"\n            label="','"\n            voice-command="select blocks (menu)"\n            toggles\n            ?toggled="','"\n            icon-position="','"\n            show-text-label\n            @click="','"\n          >\n          </simple-toolbar-button>\n          <simple-toolbar-button\n            ?hidden="','"\n            ?disabled="','"\n            icon="hax:multimedia"\n            label="','"\n            voice-command="select media (menu)"\n            icon-position="','"\n            show-text-label\n            data-event="media-program"\n            @click="','"\n          >\n          </simple-toolbar-button>\n          <simple-toolbar-button\n           ?hidden="','"\n           ?disabled="','"\n            data-event="content-map"\n            icon="hax:newspaper"\n            id="content-map"\n            label="','"\n            voice-command="select content outline (menu)"\n            toggles\n            @click="','"\n            ?toggled="','"\n            icon-position="','"\n            show-text-label\n          >\n          </simple-toolbar-button>\n\n          <simple-toolbar-button\n            id="exportbtn"\n            icon="hax:html-code"\n            label="','"\n            data-event="view-source"\n            @click="','"\n            voice-command="view (page) source"\n            icon-position="','"\n            show-text-label\n            ?hidden="','"\n            ?disabled="','"\n          >\n          </simple-toolbar-button>\n\n          <simple-toolbar-menu\n            show-text-label\n            ?hidden="','"\n            ?disabled="','"\n            icon="hax:home-edit"\n            part="morebtn"\n            icon-position="','"\n            label="','"\n            tabindex="','"\n          >\n            <simple-toolbar-menu-item>\n              <simple-toolbar-button\n              ?hidden="','"\n              ?disabled="','"\n              tabindex="','"\n              id="outlinebutton"\n              @click="','"\n              icon-position="left"\n              icon="hax:site-map"\n              part="outlinebtn"\n              show-text-label\n              label="','"\n            ></simple-toolbar-button>\n            </simple-toolbar-menu-item>\n            <simple-toolbar-menu-item>\n            <simple-toolbar-button\n              ?hidden="','"\n              ?disabled="','"\n              tabindex="','"\n              id="sharebutton"\n              @click="','"\n              icon="social:share"\n              part="sharebtn"\n              show-text-label\n              icon-position="left"\n              label="','"\n            ></simple-toolbar-button>\n            </simple-toolbar-menu-item>\n            <simple-toolbar-menu-item>\n            <simple-toolbar-button\n              ?hidden="','"\n              ?disabled="','"\n              tabindex="','"\n              id="insightsbutton"\n              icon="hax:clipboard-pulse"\n              part="insightsbtn"\n              icon-position="left"\n              @click="','"\n              label="','"\n              show-text-label\n              voice-command="insights"\n            ></simple-toolbar-button>\n            </simple-toolbar-menu-item>\n            <simple-toolbar-menu-item>\n              <a href="views">\n                <simple-toolbar-button\n                  ?hidden="','"\n                  ?disabled="','"\n                  tabindex="','"\n                  icon="hax:module"\n                  icon-position="left"\n                  label="','"\n                  show-text-label\n                  voice-command="views"\n                ></simple-toolbar-button>\n              </a>\n            </simple-toolbar-menu-item>\n\n            <simple-toolbar-menu-item>\n              <simple-toolbar-button\n                @click="','"\n                icon-position="left"\n                icon="','"\n                part="manifestbtn"\n                id="manifestbtn"\n                show-text-label\n                ?disabled="','"\n                ?hidden="','"\n                tabindex="','"\n                label="','"\n              ></simple-toolbar-button>\n            </simple-toolbar-menu-item>\n          </simple-toolbar-menu>\n          <slot name="haxcms-site-editor-ui-suffix-buttons"></slot>\n          <simple-toolbar-button\n            icon="hax:wizard-hat"\n            label="','"\n            voice-command="','"\n            icon-position="','"\n            class="merlin"\n            id="merlin"\n            @click="','"\n            data-event="','"\n            show-text-label\n          ></simple-toolbar-button>\n          <super-daemon-search\n            @click="','"\n            @value-changed="','"\n            @drop="','"\n            @dragenter="','"\n            @dragleave="','"\n            @dragover="','"\n            icon="hax:wizard-hat"\n            id="search"\n            voice-search\n            class="merlin"\n            data-event="','"\n            ?hidden="','"\n            mini\n            wand\n            droppable-type="','"\n            ?droppable="','"\n          >\n          </super-daemon-search>\n        </simple-toolbar>\n\n        <app-hax-user-menu slot="right" id="user-menu" part="app-hax-user-menu"\n        ?is-open="','">\n          <button\n            class="topbar-character"\n            slot="menuButton"\n            @click="','"\n          >\n            <rpg-character\n              seed="','"\n              width="68"\n              height="68"\n              part="rpgcharacter"\n              aria-label="','"\n              hat="','"\n            ></rpg-character>\n            <span class="characterbtn-name">','</span>\n            <slot name="haxcms-site-editor-ui-topbar-character-button"></slot>\n          </button>\n          <div slot="pre-menu" class="ops-panel">\n            <slot name="haxcms-site-editor-ui-pre-menu"></slot>\n            <wired-button\n              elevation="1"\n              class="soundToggle"\n              @click="','"\n            >\n              <simple-icon-lite\n                src="','"\n                loading="lazy"\n                decoding="async"\n              ></simple-icon-lite>\n            </wired-button>\n            <haxcms-darkmode-toggle></haxcms-darkmode-toggle>\n          </div>\n          \x3c!-- <app-hax-user-menu-button\n          slot="main-menu"\n          icon="face"\n          label="','"\n        ></app-hax-user-menu-button> --\x3e\n          <slot slot="main-menu" name="haxcms-site-editor-ui-main-menu"></slot>\n          <a class="mysiteslink" href="','" slot="main-menu" part="mysiteslink" tabindex="-1">\n            <app-hax-user-menu-button\n              icon="hax:hax2022"\n              label="','"\n              part="mysitesbtn"\n            ></app-hax-user-menu-button>\n          </a>\n          <app-hax-user-menu-button\n            slot="main-menu"\n            icon="add"\n            label="','"\n            part="newjourneybtn"\n            @click="','"\n          ></app-hax-user-menu-button>\n          <slot slot="post-menu" name="haxcms-site-editor-ui-post-menu"></slot>\n          <app-hax-user-menu-button\n            slot="post-menu"\n            part="logoutbtn"\n            class="logout"\n            label="','"\n            @click=',"\n          ></app-hax-user-menu-button>\n        </app-hax-user-menu>\n      </app-hax-top-bar>\n    "])),this.editMode,this.backLink,this.backText,!this.darkMode,this.getIconPosition(this.responsiveSize),this.t.showMore,this.__editIcon,this.getIconPosition(this.responsiveSize),this._editButtonTap,this.__editText,this.getIconPosition(this.responsiveSize),!this.canUndo,this.haxButtonOp,this.t.undo,!this.editMode,this.haxButtonOp,!this.canRedo,!this.editMode,this.t.redo,this.getIconPosition(this.responsiveSize),this.getIconPosition(this.responsiveSize),this._cancelButtonTap,!this.editMode,!this.editMode,this.editMode?"0":"-1",this.t.cancel,this.editMode,this.editMode,this.getIconPosition(this.responsiveSize),this.t.add,this.editMode?"-1":"0",this._addPageClick,this.editMode,this.t.addPage,this.editMode,this.t.addChildPage,this.editMode,this.t.clonePage,this.editMode,this.editMode,this.editMode?"-1":"0",this.getIconPosition(this.responsiveSize),this._deleteButtonTap,this.t.delete,this.haxButtonOp,this.t.configureBlock,!this.editMode,!this.activeTagName||""==this.activeTagName||!this.activeNode||!this.activeNode.tagName,this.t.configure,this.activeTagName,"content-edit"===this.trayDetail,this.getIconPosition(this.responsiveSize),!this.editMode,!this.editMode,this.t.addBlock,"content-add"===this.trayDetail,this.getIconPosition(this.responsiveSize),this.haxButtonOp,!this.editMode,!this.editMode,this.t.findMedia,this.getIconPosition(this.responsiveSize),this.haxButtonOp,!this.editMode,!this.editMode,this.t.pageOutline,this.haxButtonOp,"content-map"===this.trayDetail,this.getIconPosition(this.responsiveSize),this.t.viewSource,this.haxButtonOp,this.getIconPosition(this.responsiveSize),!this.editMode,!this.editMode,this.editMode,this.editMode,this.getIconPosition(this.responsiveSize),this.t.siteActions,this.editMode?"-1":"0",this.editMode,this.editMode,this.editMode?"-1":"0",this._outlineButtonTap,this.t.outlineDesigner,this.editMode,this.editMode,this.editMode?"-1":"0",this._shareButtonTap,this.t.shareSite,this.editMode,this.editMode,this.editMode?"-1":"0",this._insightsButtonTap,this.t.insights,this.editMode,this.editMode,this.editMode?"-1":"0",this.t.viewBuilder,this._manifestButtonTap,this.icon,this.editMode,this.editMode,this.editMode?"0":"-1",this.t.editSettings,this.t.merlin,this.t.merlin,this.getIconPosition(this.responsiveSize),this.haxButtonOp,"xs"===this.responsiveSize?"super-daemon-modal":"super-daemon",this.haxButtonOp,this.haxButtonOp,this.dropEvent,this.dragenterEvent,this.dragleaveEvent,this.dragoverEvent,"xs"===this.responsiveSize?"super-daemon-modal":"super-daemon",["xs"].includes(this.responsiveSize),this.activeType,this.activeDrag,this.userMenuOpen,this.toggleMenu,this.userName,this.t.menu,this.rpgHat,this.userName,this.soundToggle,this.soundIcon,this.t.accountInfo,this.backLink,this.t.mySites,this.t.newJourney,this._addButtonTap,this.t.logOut,this._logout)}},{key:"dropEvent",value:function(e){e.preventDefault(),this.activeDrag=!1,this.activeType=null,J.waveWand(["","/",e,"hax-agent","Agent"],this.shadowRoot.querySelector("#merlin"))}},{key:"dragenterEvent",value:function(e){e.preventDefault(),this.sdSearch.dragover=!0}},{key:"dragoverEvent",value:function(e){e.preventDefault(),this.sdSearch.dragover=!0}},{key:"dragleaveEvent",value:function(e){e.preventDefault(),this.sdSearch.dragover=!1}},{key:"sdCloseEvent",value:function(e){var t=this;setTimeout((function(){t._ignoreReset=!0,t.sdSearch.value=""}),0),this.sdSearch.disabled=!1,this.sdSearch.dragover=!1,this.sdSearch.droppable=!1,this.sdSearch.droppableType=null}},{key:"haxButtonOp",value:function(e){var t=e.target.getAttribute("data-event");switch(t){case"super-daemon":if(!this._ignoreReset||"click"===e.type){var n=this.sdSearch.value;"value-changed"===e.type?n&&J.waveWand([n,"*"],this.shadowRoot.querySelector("#merlin"),null):J.waveWand([n,"*"],this.shadowRoot.querySelector("#merlin"),null),this.sdSearch.value=null,this.sdSearch.disabled=!1,this.sdSearch.dragover=!1,this.sdSearch.droppable=!1,this.sdSearch.droppableType=null}this._ignoreReset=!1;break;case"super-daemon-modal":this._ignoreReset&&"click"!==e.type||(U.playSound("click"),J.open(),ne.haxTray.collapsed=!1);break;case"media-program":U.playSound("click"),J.runProgram("sources"),J.open(),ne.haxTray.collapsed=!1;break;case"content-edit":case"content-map":case"content-add":ne.haxTray.trayDetail==t?ne.haxTray.collapsed=!ne.haxTray.collapsed:ne.haxTray.collapsed=!1,ne.haxTray.trayDetail=t;break;case"undo":ne.activeHaxBody.undo();break;case"redo":ne.activeHaxBody.redo();break;case"view-source":ne.haxTray.trayDetail=t,ne.haxTray.shadowRoot.querySelector("#view-source").openSource(),ne.haxTray.collapsed=!1}}},{key:"_logout",value:function(){globalThis.dispatchEvent(new CustomEvent("jwt-login-logout",{composed:!0,bubbles:!0,cancelable:!1,detail:!0})),this.__logoutUserAction=!0}},{key:"_jwtLoggedIn",value:function(e){!1===e.detail&&this.__logoutUserAction&&(this.__logoutUserAction=!1,setTimeout((function(){globalThis.location.reload()}),100))}},{key:"_addPageClick",value:function(e){!this.editMode&&this.shadowRoot.querySelector("simple-toolbar-menu-item haxcms-button-add:not([hidden])")&&this.shadowRoot.querySelector("simple-toolbar-menu-item haxcms-button-add:not([hidden])").HAXCMSButtonClick()}},{key:"updateAvailableButtons",value:function(){var e=this;this.shadowRoot&&setTimeout((function(){globalThis.appSettings&&globalThis.appSettings.backText&&(e.backText=globalThis.appSettings.backText);[{varPath:"deleteNodePath",selector:"#deletebutton"},{varPath:"saveNodePath",selector:"#editbutton"},{varPath:"createNodePath",selector:"#addbutton"},{varPath:"createNodePath",selector:"#addbuttonchild"},{varPath:"createNodePath",selector:"#duplicatebutton"}].forEach((function(t){globalThis.appSettings&&globalThis.appSettings[t.varPath]&&null!=globalThis.appSettings[t.varPath]&&""!=globalThis.appSettings[t.varPath]&&"null"!=globalThis.appSettings[t.varPath]&&(t.dep?null!=globalThis.appSettings[t.dep]&&""!=globalThis.appSettings[t.dep]&&"null"!=globalThis.appSettings[t.dep]&&e.shadowRoot.querySelector(t.selector).removeAttribute("hidden"):e.shadowRoot.querySelector(t.selector).removeAttribute("hidden"))}))}),100)}},{key:"firstUpdated",value:function(e){var t,i,a,o=this;v(b(n.prototype),"firstUpdated",this)&&v(b(n.prototype),"firstUpdated",this).call(this,e),this.shadowRoot.querySelectorAll("[data-super-daemon-path]").forEach((function(e){J.defineOption({title:e.getAttribute("data-super-daemon-label"),icon:e.getAttribute("data-super-daemon-icon"),tags:["page","operation","command","add","create"],value:{target:e},context:"CMS",eventName:"super-daemon-element-click",path:e.getAttribute("data-super-daemon-path")})})),this.sdSearch=this.shadowRoot.querySelector("super-daemon-search"),J.wandTarget=this.shadowRoot.querySelector("#merlin"),J.defineOption({title:this.t.save,icon:"icons:save",tags:["CMS","save","page","operation","command"],value:{target:this,method:"_editButtonTap"},context:"HAX",eventName:"super-daemon-element-method",path:"CMS/action/save"}),J.defineOption({title:this.t.insights,icon:"hax:clipboard-pulse",tags:["CMS","insights","data","operation"],value:{target:this,method:"_insightsButtonTap"},context:"CMS",eventName:"super-daemon-element-method",path:"CMS/site/insights"}),J.defineOption({title:this.t.edit,icon:"hax:page-edit",tags:["CMS","edit","page","operation","command"],value:{target:this,method:"_editButtonTap"},context:"CMS",eventName:"super-daemon-element-method",path:"CMS/action/edit"}),J.defineOption({title:this.t.siteSettings,icon:"hax:site-settings",tags:["CMS","site","settings","operation","command","theme","seo","author"],value:{target:this,method:"_manifestButtonTap",args:[{target:this.shadowRoot.querySelector("#manifestbtn")}]},context:"CMS",eventName:"super-daemon-element-method",path:"CMS/action/site/settings"}),J.defineOption({title:this.t.themeSettings,icon:"hax:site-settings",tags:["CMS","site","settings","operation","command","theme","seo","author"],value:{target:this,method:"_manifestButtonTap",args:[{target:this.shadowRoot.querySelector("#manifestbtn")}]},context:"CMS",eventName:"super-daemon-element-method",path:"CMS/action/site/settings/theme"}),J.defineOption({title:this.t.seoSettings,icon:"hax:site-settings",tags:["CMS","site","settings","operation","command","theme","seo","search","engine"],value:{target:this,method:"_manifestButtonTap",args:[{target:this.shadowRoot.querySelector("#manifestbtn")}]},context:"CMS",eventName:"super-daemon-element-method",path:"CMS/action/site/settings/seo"}),J.defineOption({title:this.t.authorSettings,icon:"hax:site-settings",tags:["CMS","site","settings","operation","command","theme","author"],value:{target:this,method:"_manifestButtonTap",args:[{target:this.shadowRoot.querySelector("#manifestbtn")}]},context:"CMS",eventName:"super-daemon-element-method",path:"CMS/action/site/settings/author"}),J.defineOption({title:this.t.shareSite,icon:"social:share",tags:["CMS","share"],value:{target:this,method:"_shareButtonTap"},context:["logged-in","CMS","HAX"],eventName:"super-daemon-element-method",path:"CMS/action/share"}),J.defineOption({title:this.t.newJourney,icon:"add",tags:["CMS","create","new site"],value:{target:this,method:"_addButtonTap"},context:"CMS",eventName:"super-daemon-element-method",path:"CMS/action/create-site"}),J.defineOption({title:this.t.logOut,icon:"add",tags:["CMS","user","logout"],value:{target:this,method:"_logout"},context:["logged-in","CMS"],eventName:"super-daemon-element-method",path:"CMS/user/logout"}),J.defineOption({title:"Dark mode toggle",icon:"device:brightness-medium",tags:["CMS","dark mode"],value:{target:this.shadowRoot.querySelector("haxcms-darkmode-toggle"),method:"toggle"},voice:"(toggle) dark mode",eventName:"super-daemon-element-method",path:"CMS/action/darkMode"}),J.defineOption({title:"Sound toggle",icon:"av:volume-up",tags:["CMS","sound"],value:{target:this.shadowRoot.querySelector(".soundToggle")},eventName:"super-daemon-element-click",path:"CMS/action/sound"}),J.defineOption({title:this.t.outlineDesigner,icon:"hax:site-map",tags:["CMS","outline","designer","site outline","operation","command"],value:{target:this.shadowRoot.querySelector("#outlinebutton")},context:["CMS"],eventName:"super-daemon-element-click",path:"CMS/action/outline"}),J.defineOption({title:"Load HAXSchema",icon:"hax:hax2022",tags:["Developer","schema","load","demo","testing"],eventName:"super-daemon-run-program",path:">hax/loadElement",context:[">"],value:{name:"Load HAXSchema",context:">",program:(t=p(m().mark((function e(t,n){var i,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=globalThis.WCAutoload.requestAvailability(),a=[],Object.keys(i.registry.list).forEach(function(){var e=p(m().mark((function e(n){var o,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o="hax:hax2022",globalThis.customElements.get(n)&&globalThis.customElements.get(n).haxProperties&&globalThis.customElements.get(n).haxProperties.gizmo&&(o=globalThis.customElements.get(n).haxProperties.gizmo.icon),(""==t||n.includes(t))&&((s={})[n]=i.registry.list[n],a.push({title:n,icon:o,tags:["schema"],value:{target:globalThis.HaxStore.instance,method:"_handleDynamicImports",args:[s,globalThis.HaxStore.instance.haxAutoloader]},eventName:"super-daemon-element-method",context:[">",">hax/loadElement/"+n],path:">hax/loadElement/"+n}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})}}),J.defineOption({title:"Change theme temporarily",icon:"image:style",tags:["Developer","theme"],eventName:"super-daemon-run-program",path:">settings/theme",context:[">"],more:l(Cn||(Cn=r(["<span\n        >Change theme just for the current browsing session</span\n      >"]))),voice:"change theme (temporarily)",value:{name:"Change theme",context:">",program:(i=p(m().mark((function e(t,n){var i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],["clean-one","clean-two","learn-two-theme","polaris-theme","polaris-invent-theme","ddd-brochure-theme","collections-theme","training-theme","bootstrap-theme","outline-player","haxor-slevin"].forEach(function(){var e=p(m().mark((function e(n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(""==t||n.includes(t))&&i.push({title:n.replace("-theme","").replace("-"," "),icon:"image:style",tags:["theme"],value:{target:globalThis.HAXCMS,method:"setTheme",args:[n]},eventName:"super-daemon-element-method",context:[">",">settings/theme/"+n],path:">settings/theme/"+n});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",i);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)})}}),J.defineOption({title:"HAX Labs",icon:"hax:hax2022",tags:["Developer","labs","experiments"],eventName:"super-daemon-element-method",path:">hax/labs",context:[">"],value:{target:this,method:"enableLabExperiments",args:[]}}),J.defineOption({title:"Go to site",icon:"hax:hax2022",tags:["Developer","change","sites","administration"],eventName:"super-daemon-run-program",path:"/hax/changeSite",context:["CMS"],value:{name:"Go to site",context:"CMS",program:(a=p(m().mark((function e(t,n){var i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],e.next=3,fetch("./../../system/api/listSites").then((function(e){return e.ok?e.json():[]})).then((function(e){e.data&&e.data.items.length>0&&e.data.items.forEach(function(){var e=p(m().mark((function e(n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(""==t||n.metadata.site&&n.metadata.site.name&&n.metadata.site.name.includes(t)&&U.manifest.metadata.site.name!=n.metadata.site.name)&&i.push({title:n.title,icon:n.metadata.theme.variables.icon,tags:["site",n.description],value:{target:o,method:"goToLocation",args:[n.slug]},eventName:"super-daemon-element-method",context:["/","/hax/changeSite/"+n.metadata.site.name],path:"/hax/changeSite/"+n.metadata.site.name});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 3:return e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)}))),function(e,t){return a.apply(this,arguments)})}}),this.updateAvailableButtons(),this.dispatchEvent(new CustomEvent("haxcms-load-user-data",{bubbles:!0,composed:!0,cancelable:!1,detail:!0}))}},{key:"enableLabExperiments",value:function(){t.import("./2f2d4bf6.js"),t.import("./2f151a77.js"),t.import("./c499f885.js")}},{key:"goToLocation",value:function(e){globalThis.location=e}},{key:"updated",value:function(e){var t=this;v(b(n.prototype),"updated",this)&&v(b(n.prototype),"updated",this).call(this,e),e.forEach((function(e,n){"userMenuOpen"===n&&void 0!==e&&(t.userMenuOpen?t.rpgHat="edit":t.rpgHat="none"),"responsiveSize"===n&&(["xs","sm","md"].includes(t[n])?(t.editMode?t.__editText=t.t.save:t.__editText=t.t.edit,t.t.configureBlock="Configure",t.t.addBlock="Block",t.t.findMedia="Media",t.t.pageOutline="Outline",t.t.viewSource="Source"):(t.editMode?t.__editText=t.t.save:t.__editText=t.t.edit,t.t.configureBlock="Configure block",t.t.addBlock="Add block",t.t.findMedia="Find media",t.t.pageOutline="Page outline",t.t.viewSource="View source")),"editMode"==n&&(t.editMode?t.rpgHat="construction":t.rpgHat="none",void 0!==e&&J.close(),t._editModeChanged(t[n],e),t.dispatchEvent(new CustomEvent("edit-mode-changed",{detail:t[n]}))),"manifestEditMode"==n&&(t._manifestEditModeChanged(t[n],e),t.dispatchEvent(new CustomEvent("manifest-edit-mode-changed",{detail:t[n]})))}))}},{key:"_redoChanged",value:function(e){this.canRedo=e.detail.value}},{key:"_undoChanged",value:function(e){this.canUndo=e.detail.value}},{key:"connectedCallback",value:function(){var e=this;v(b(n.prototype),"connectedCallback",this).call(this),F((function(t){U.userData&&(e.userName=X(U.userData.userName),e.userPicture=X(U.userData.userPicture),e.updateAvailableButtons()),e.__disposer.push(t)})),F((function(t){e.editMode=X(U.editMode),K.writeMemory("editMode",e.editMode),e.__disposer.push(t)})),F((function(t){e.manifest=X(U.manifest),e.icon="hax:site-settings",e.__disposer.push(t)})),F((function(t){var n=X(U.activeItem);e.updateAvailableButtons(),n&&n.id&&!n._internalRoute?(e.activeTitle=n.title,e.pageAllowed=!0):e.pageAllowed=!1,e.__disposer.push(t)}))}},{key:"disconnectedCallback",value:function(){for(var e in this.__disposer)this.__disposer[e].dispose();v(b(n.prototype),"disconnectedCallback",this).call(this)}},{key:"_editButtonTap",value:function(e){if(this.editMode&&"view-source"===ne.haxTray.trayDetail&&!globalThis.confirm(this.t.confirmHtmlSourceExit))return!1;U.playSound("click"),this.editMode=!this.editMode,this.editMode||this.dispatchEvent(new CustomEvent("haxcms-save-node",{bubbles:!0,composed:!0,cancelable:!1,detail:U.activeItem})),globalThis.dispatchEvent(new CustomEvent("simple-modal-hide",{bubbles:!0,cancelable:!0,detail:{}}))}},{key:"_insightsButtonTap",value:function(e){U.playSound("click");var t=globalThis.document.createElement("haxcms-site-insights"),n=new CustomEvent("simple-modal-show",{bubbles:!0,composed:!0,cancelable:!1,detail:{title:this.t.insights,styles:{"--simple-modal-titlebar-background":"black","--simple-modal-titlebar-color":"var(--hax-ui-background-color)","--simple-modal-width":"94vw","--simple-modal-min-width":"300px","--simple-modal-z-index":"100000000","--simple-modal-height":"94vh","--simple-modal-min-height":"300px","--simple-modal-titlebar-height":"80px"},elements:{content:t},invokedBy:this.shadowRoot.querySelector("#insightsbutton"),clone:!1,modal:!1}});globalThis.dispatchEvent(n)}},{key:"_cancelButtonTap",value:(c=p(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.activeHaxBody.haxToContent();case 2:if(e.sent==this._originalContent||globalThis.confirm(this.t.unsavedChangesWillBeLostIfSelectingOkAreYouSure)){e.next=5;break}return e.abrupt("return",!1);case 5:this.editMode=!1,U.playSound("error"),this.dispatchEvent(new CustomEvent("hax-cancel",{bubbles:!0,composed:!0,cancelable:!1,detail:t.detail})),globalThis.dispatchEvent(new CustomEvent("simple-modal-hide",{bubbles:!0,cancelable:!0,detail:{}}));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"_deleteButtonTap",value:function(e){U.playSound("click");var t=globalThis.document.createElement("span");t.innerHTML='"'.concat(U.activeItem.title,'" will be removed from the outline but its content stays on the file system.');var n=globalThis.document.createElement("button");n.appendChild(globalThis.document.createTextNode("Confirm")),n.classList.add("hax-modal-btn"),n.addEventListener("click",this._deleteActive.bind(this));var i=globalThis.document.createElement("button");i.appendChild(globalThis.document.createTextNode("cancel")),i.addEventListener("click",(function(){return U.playSound("error")})),i.setAttribute("dialog-dismiss","dialog-dismiss"),i.classList.add("hax-modal-btn"),i.classList.add("cancel");var a=globalThis.document.createElement("span");a.appendChild(n),a.appendChild(i);var o=new CustomEvent("simple-modal-show",{bubbles:!0,composed:!0,cancelable:!1,detail:{title:"Are you sure you want to delete this page?",styles:{"--simple-modal-titlebar-background":"black","--simple-modal-titlebar-color":"var(--hax-ui-background-color)","--simple-modal-width":"25vw","--simple-modal-min-width":"300px","--simple-modal-z-index":"100000000","--simple-modal-height":"15vh","--simple-modal-min-height":"300px","--simple-modal-titlebar-height":"80px"},elements:{content:t,buttons:a},invokedBy:this.shadowRoot.querySelector("#deletebutton"),clone:!1,modal:!0}});globalThis.dispatchEvent(o)}},{key:"_deleteActive",value:function(e){U.playSound("click");var t=new CustomEvent("haxcms-delete-node",{bubbles:!0,composed:!0,cancelable:!1,detail:{item:U.activeItem}});this.dispatchEvent(t)}},{key:"_shareButtonTap",value:function(e){U.playSound("click");var t=new CustomEvent("simple-modal-show",{bubbles:!0,composed:!0,cancelable:!1,detail:{title:this.t.shareSite,styles:{"--simple-modal-titlebar-background":"black","--simple-modal-titlebar-color":"var(--hax-ui-background-color)","--simple-modal-width":"55vw","--simple-modal-min-width":"300px","--simple-modal-z-index":"100000000","--simple-modal-height":"50vh","--simple-modal-min-height":"300px","--simple-modal-titlebar-height":"80px"},elements:{content:globalThis.document.createElement("haxcms-share-dialog")},invokedBy:this.shadowRoot.querySelector("#sharebutton"),clone:!1,modal:!1}});globalThis.dispatchEvent(t)}},{key:"_outlineButtonTap",value:function(e){U.playSound("click");var t=new CustomEvent("simple-modal-show",{bubbles:!0,composed:!0,cancelable:!1,detail:{title:this.t.outlineDesigner,styles:{"--simple-modal-titlebar-background":"black","--simple-modal-titlebar-color":"var(--hax-ui-background-color)","--simple-modal-z-index":"100000000","--simple-modal-titlebar-height":"80px","--simple-modal-width":"85vw","--simple-modal-max-width":"85vw","--simple-modal-height":"85vh","--simple-modal-max-height":"85vh"},elements:{content:globalThis.document.createElement("haxcms-outline-editor-dialog")},invokedBy:this.shadowRoot.querySelector("#outlinebutton"),clone:!1,modal:!0}});globalThis.dispatchEvent(t)}},{key:"_addButtonTap",value:function(){var e=this;U.playSound("click"),setTimeout((function(){globalThis.location=e.backLink+"createSite-step-1"}),100)}},{key:"_manifestButtonTap",value:function(e){var n=this;U.playSound("click"),globalThis.dispatchEvent(new CustomEvent("simple-modal-hide",{bubbles:!0,cancelable:!0,detail:{}})),t.import("./c8232f19.js").then((function(){globalThis.dispatchEvent(new CustomEvent("simple-modal-show",{bubbles:!0,composed:!0,cancelable:!1,detail:{title:n.t.editSettings,styles:{"--simple-modal-titlebar-background":"black","--simple-modal-titlebar-color":"var(--hax-ui-background-color)","--simple-modal-z-index":"100000000","--simple-modal-titlebar-height":"80px","--simple-modal-width":"85vw","--simple-modal-max-width":"85vw","--simple-modal-height":"85vh","--simple-modal-max-height":"85vh"},elements:{content:globalThis.document.createElement("haxcms-site-dashboard")},invokedBy:n.shadowRoot.querySelector("#manifestbtn"),clone:!1,modal:!0}})),setTimeout((function(){globalThis.dispatchEvent(new CustomEvent("haxcms-load-site-dashboard",{bubbles:!0,composed:!0,cancelable:!1,detail:e.target}))}),0)}))}},{key:"_editModeChanged",value:function(e,t){var n=this;e?(setTimeout(p(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.activeHaxBody.haxToContent();case 2:n._originalContent=e.sent;case 3:case"end":return e.stop()}}),e)}))),100),this.__editIcon="icons:save",this.__editText=this.t.save,J.appendContext("HAX"),J.removeContext("CMS")):(this.__editIcon="hax:page-edit",this.__editText=this.t.edit,J.appendContext("CMS"),J.removeContext("HAX")),"undefined"!==E(t)&&(U.editMode=e,e&&(ne.haxTray.collapsed=!1))}},{key:"_outlineEditModeChanged",value:function(e,t){this.dispatchEvent(new CustomEvent("haxcms-outline-edit-mode-changed",{bubbles:!0,composed:!0,cancelable:!1,detail:e}))}},{key:"_manifestEditModeChanged",value:function(e,t){this.dispatchEvent(new CustomEvent("haxcms-manifest-edit-mode-changed",{bubbles:!0,composed:!0,cancelable:!1,detail:e}))}}],[{key:"styles",get:function(){return[v(b(n),"styles",this),s(Tn||(Tn=r(['\n        :host *:not(:defined) {\n          display: none;\n        }\n        :host {\n          display: block;\n          position: relative;\n          height: 48px;\n          left: 0;\n          top: 0;\n          right: 0;\n          margin-top: 0;\n          opacity: 1;\n          transition: all 0.6s ease-in-out;\n          background-color: var(--haxcms-system-bg, #eeeeee);\n          z-index: 10000;\n          visibility: visible;\n        }\n        :host([edit-mode]) {\n          z-index: 9999;\n        }\n        :host *[hidden] {\n          display: none;\n        }\n        simple-tooltip:not(:defined) {\n          display: none !important;\n        }\n        :host([painting]) {\n          opacity: 0;\n          margin-top: -48px;\n          visibility: hidden;\n        }\n        #editbutton {\n          visibility: hidden;\n          opacity: 0;\n        }\n\n        #deletebutton {\n          visibility: hidden;\n          opacity: 0;\n        }\n\n        :host([page-allowed]) #editbutton,\n        :host([page-allowed]) #editdetails,\n        :host([page-allowed]) #deletebutton {\n          visibility: visible;\n          opacity: 1;\n        }\n        #addmenubutton:hover,\n        #addmenubutton:active,\n        #addmenubutton:focus,\n        #addmenubutton haxcms-button-add:hover,\n        #addmenubutton haxcms-button-add:active,\n        #addmenubutton haxcms-button-add:focus,\n        #editbutton[icon="icons:save"]:focus,\n        #editbutton[icon="icons:save"]:active,\n        #editbutton[icon="icons:save"]:hover {\n          background-color: var(--simple-colors-default-theme-light-green-1);\n        }\n        #addmenubutton,\n        #addmenubutton haxcms-button-add,\n        #editbutton[icon="icons:save"] {\n          --simple-toolbar-border-color: var(\n            --simple-colors-default-theme-light-green-2\n          );\n          color: var(--simple-colors-default-theme-green-11);\n          background-color: var(--simple-colors-default-theme-grey-1);\n        }\n\n        haxcms-button-add {\n          background-color: var(--simple-colors-default-theme-grey-1);\n        }\n\n        simple-toolbar-menu-item a {\n          color: var(--simple-colors-default-theme-grey-12);\n          text-decoration: none;\n        }\n\n        #deletebutton,\n        #cancelbutton {\n          color: var(--simple-colors-default-theme-red-11);\n          --simple-toolbar-border-color: var(\n            --simple-colors-default-theme-red-2\n          );\n        }\n        .merlin {\n          color: var(--simple-colors-default-theme-purple-10);\n          --simple-toolbar-border-color: var(\n            --simple-colors-default-theme-purple-2\n          );\n        }\n        simple-toolbar-button.merlin:hover,\n        simple-toolbar-button.merlin:active,\n        simple-toolbar-button.merlin:focus {\n          background-color: var(--simple-colors-default-theme-purple-1);\n        }\n        #deletebutton:hover,\n        #deletebutton:active,\n        #deletebutton:focus,\n        #cancelbutton:hover,\n        #cancelbutton:active,\n        #cancelbutton:focus {\n          background-color: var(--simple-colors-default-theme-red-1);\n        }\n        simple-toolbar-menu:hover,\n        simple-toolbar-menu:active,\n        simple-toolbar-menu:focus,\n        simple-toolbar-button:hover,\n        simple-toolbar-button:active,\n        simple-toolbar-button:focus,\n        haxcms-button-add:hover,\n        haxcms-button-add:active,\n        haxcms-button-add:focus {\n          background-color: var(--hax-ui-background-color-accent);\n          color: var(--hax-ui-color);\n        }\n        simple-toolbar-button:hover,\n        simple-toolbar-button:active,\n        simple-toolbar-button:focus,\n        haxcms-button-add:hover,\n        haxcms-button-add:active,\n        haxcms-button-add:focus {\n          --simple-toolbar-border-color: var(--hax-ui-color-accent);\n        }\n        :host(:hover),\n        :host(:active),\n        :host(:focus) {\n          opacity: 1;\n        }\n        simple-tooltip {\n          --simple-tooltip-background: #000000;\n          --simple-tooltip-opacity: 1;\n          --simple-tooltip-text-color: #ffffff;\n          --simple-tooltip-delay-in: 0;\n          --simple-tooltip-duration-in: 200ms;\n          --simple-tooltip-duration-out: 0;\n          --simple-tooltip-border-radius: 0;\n          --simple-tooltip-font-size: 14px;\n          font-family: "Press Start 2P", sans-serif;\n        }\n        app-hax-top-bar {\n          z-index: 1000;\n          right: 0;\n          left: 0;\n          position: fixed;\n        }\n        :host([dark-mode]) app-hax-top-bar {\n          --bg-color: #222;\n          --accent-color: #fff;\n        }\n        app-hax-top-bar::part(top-bar) {\n          grid-template-columns: 5% 85% 10%;\n          overflow: visible;\n        }\n        .haxLogo {\n          color: var(--simple-colors-default-theme-accent-11, black);\n        }\n        :host([dark-mode]) .haxLogo:hover,\n        :host([dark-mode]) .haxLogo:focus,\n        :host([dark-mode]) .haxLogo:active,\n        .haxLogo:hover,\n        .haxLogo:focus,\n        .haxLogo:active {\n          color: var(--haxcms-color);\n        }\n        .haxLogo simple-icon-lite {\n          --simple-icon-height: 40px;\n          --simple-icon-width: 40px;\n          margin: 4px;\n        }\n        .soundToggle {\n          position: relative;\n          display: inline-flex;\n          vertical-align: top;\n        }\n\n        .soundToggle img {\n          width: 24px;\n          height: 24px;\n        }\n\n        :host([edit-mode]) simple-toolbar simple-toolbar-button,\n        :host([edit-mode]) simple-toolbar simple-toolbar-menu {\n          --simple-toolbar-border-color: var(--hax-ui-color-accent);\n          --simple-toolbar-border-color: #dddddddd;\n        }\n\n        simple-toolbar simple-toolbar-button,\n        simple-toolbar simple-toolbar-menu {\n          --simple-toolbar-border-radius: 0;\n          background-color: var(--simple-colors-default-theme-grey-1);\n        }\n\n        app-hax-search-bar {\n          vertical-align: middle;\n          display: inline-flex;\n        }\n        simple-toolbar {\n          align-items: stretch;\n          justify-content: center;\n          height: var(--top-bar-height);\n          --simple-toolbar-button-disabled-border-color: transparent;\n          --simple-toolbar-button-disabled-opacity: 0.3;\n          --simple-toolbar-button-padding: 3px 6px;\n        }\n        simple-toolbar[dark-mode] {\n          --simple-toolbar-button-color: #e0e0e0;\n          --simple-toolbar-button-hover-color: #fff;\n          --simple-toolbar-button-bg: #222;\n          --simple-toolbar-button-hover-bg: #000;\n        }\n        simple-toolbar::part(buttons) {\n          flex: 0 1 auto;\n        }\n        .ops-panel {\n          justify-content: space-around;\n          display: flex;\n          padding: 4px 0px;\n        }\n\n        .topbar-character {\n          cursor: pointer;\n          display: inline-block;\n          border: none;\n          border-radius: 0px;\n          padding: 0 8px;\n          margin: 0 0 0 16px;\n          background-color: transparent;\n          height: 48px;\n          max-width: 160px;\n          overflow: hidden;\n          word-break: break-all;\n          transition: all 0.6 ease-in-out;\n        }\n        .characterbtn-name {\n          font-family: "Press Start 2P", sans-serif;\n          margin-left: 8px;\n          font-size: 12px;\n          vertical-align: bottom;\n          line-height: 48px;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          height: 48px;\n          word-break: break-all;\n        }\n        :host([dark-mode]) .topbar-character,\n        :host([dark-mode]) .topbar-character {\n          color: #e0e0e0;\n          background-color: #222;\n        }\n        .topbar-character rpg-character {\n          margin: -4px -14px 0px -10px;\n          height: 52px;\n          width: 64px;\n          display: inline-block;\n          transform: scale(0.7);\n          transition: all 0.5 ease-in-out;\n        }\n        .topbar-character:hover rpg-character,\n        .topbar-character:focus rpg-character {\n          transform: scale(0.9);\n        }\n\n        .mysiteslink {\n          text-decoration: none;\n        }\n\n        .logout::part(menu-button) {\n          background-image: url("','");\n          background-repeat: no-repeat;\n          background-position: center center;\n          text-align: center;\n          background-size: cover;\n          border-top: 0px;\n          border-bottom: 0px;\n          padding: 10px;\n          font-family: "Press Start 2P", sans-serif;\n        }\n        app-hax-user-menu app-hax-user-menu-button::part(menu-button) {\n          font-family: "Press Start 2P", sans-serif;\n          font-size: 12px;\n        }\n        simple-toolbar-menu,\n        simple-toolbar-button {\n          min-width: 48px;\n          margin: 0;\n          --simple-toolbar-border-color: #dddddddd;\n        }\n        :host([responsive-size="xs"]) #deletebutton,\n        :host([responsive-size="sm"]) #deletebutton,\n        :host([responsive-size="md"]) #deletebutton,\n        :host([responsive-size="xs"]) #cancelbutton,\n        :host([responsive-size="sm"]) #cancelbutton,\n        :host([responsive-size="md"]) #cancelbutton {\n          margin-right: 16px;\n        }\n\n        @media screen and (max-width: 800px) {\n          :host([edit-mode]) {\n            bottom: unset;\n          }\n          app-hax-top-bar::part(top-bar) {\n            display: grid;\n          }\n          #undo,\n          #redo {\n            display: none;\n          }\n          .topbar-character {\n            padding: 0;\n            margin: 0;\n          }\n          .characterbtn-name {\n            padding: 0;\n            margin: 0;\n            width: 30px;\n            display: inline-flex;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            letter-spacing: -2px;\n            margin-left: -6px;\n          }\n          simple-toolbar {\n            --simple-toolbar-button-padding: 3px 3px;\n          }\n          .characterbtn-name,\n          haxcms-button-add,\n          simple-toolbar-menu,\n          simple-toolbar-button {\n            font-size: 10px;\n          }\n          simple-toolbar-menu {\n            --icon-offset-right: 2px;\n            --icon-offset-left: 2px;\n          }\n          simple-toolbar-menu::part(dropdown-icon) {\n            right: 0;\n            top: 10px;\n          }\n          :host([edit-mode]) #deletebutton,\n          :host([edit-mode]) #addmenubutton,\n          :host([edit-mode]) #editdetails {\n            display: none;\n          }\n        }\n        @media (max-width: 600px) {\n          .haxLogo {\n            display: none;\n          }\n\n          .topbar-character rpg-character {\n            margin: 0 0 0px -8px;\n            height: 10px;\n            width: 48px;\n          }\n          simple-toolbar {\n            --simple-toolbar-button-padding: 0px;\n            justify-content: space-between;\n            background-color: white;\n            height: auto;\n          }\n          .characterbtn-name {\n            padding: 0px;\n            margin: -42px 8px 0px 0px;\n            width: 40px;\n            display: block;\n            text-overflow: ellipsis;\n            font-size: 12px;\n            font-family: auto;\n            letter-spacing: normal;\n            font-weight: normal;\n          }\n        }\n      '])),Y(En))]}},{key:"tag",get:function(){return"haxcms-site-editor-ui"}},{key:"properties",get:function(){return i(i({},v(b(n),"properties",this)),{},{userName:{type:String,attribute:"user-name"},activeDrag:{type:Boolean},activeType:{type:String},activeNode:{type:Object},activeTagName:{type:String},canUndo:{type:Boolean,attribute:"can-undo"},canRedo:{type:Boolean,attribute:"can-redo"},rpgHat:{type:String},userPicture:{type:String,attribute:"user-picture"},userMenuOpen:{type:Boolean},soundIcon:{type:String},darkMode:{type:Boolean,reflect:!0,attribute:"dark-mode"},backLink:{type:String},backText:{type:String},__editIcon:{type:String},__editText:{type:String},painting:{type:Boolean,reflect:!0},pageAllowed:{type:Boolean,attribute:"page-allowed",reflect:!0},editMode:{type:Boolean,reflect:!0,attribute:"edit-mode"},manifestEditMode:{type:Boolean,attribute:"manifest-edit-mode",reflect:!0},activeTitle:{type:String,attribute:"active-title"},manifest:{type:Object},icon:{type:String}})}}]);var c,h,g,f}(an(N(Z(Q(ee))))));customElements.define(Ln.tag,Ln)}}}));
