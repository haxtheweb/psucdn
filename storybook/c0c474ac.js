System.register(["./3826c3d9.js","./1e08dbb4.js","./7a7a3271.js","./6c77eb87.js","./37a300c9.js","./acaf6e7d.js"],(function(e,t){"use strict";var n,a,i,o,s,l,r,d,c,h,u,p,m,g,b,f,v,x,y,k,w,S,T,M,C,E,_,B,A,N,I,P,L,O,R,H,U,D;return{setters:[function(e){n=e._,a=e.a,i=e.f,o=e.g,s=e.b,l=e.e,r=e.c,d=e.d,c=e.n,h=e.t,u=e.O,p=e.x,m=e.aV,g=e.i,b=e.o,f=e.X,v=e.h,x=e.j,y=e.aW,k=e.q,w=e.M,S=e.a0,T=e.aa,M=e.aX,C=e.as,E=e.S,_=e.l,B=e.r,A=e.p,N=e.a3,I=e.aE,P=e.u,L=e.aI,O=e.ar,R=e.aQ,H=e.aY,U=e.k},function(e){D=e.H},function(){},function(){},function(){},function(){}],execute:function(){var j,z,q=function(e){return function(e){function t(){var e;return r(this,t),(e=d(this,t)).__disposer=e.__disposer?e.__disposer:[],c((function(t){e.editMode=h(u.editMode),e.__disposer.push(t)})),c((function(t){e.darkMode=h(u.darkMode),e.dark=e.darkMode,e.__disposer.push(t)})),e}return n(t,e),a(t,null,[{key:"styles",get:function(){var e=[];return i(t,"styles",this)&&(e=i(t,"styles",this)),[e,o(j||(j=s(['\n          [part="edit-mode-active"],\n          [part*="edit-mode-active"] {\n            pointer-events: var(\n              --haxcms-theme-parts-edit-mode-active-pointer-events,\n              none\n            );\n            opacity: var(--haxcms-theme-parts-edit-mode-active-opacity, 0.5);\n            filter: var(\n              --haxcms-theme-parts-edit-mode-active-filter,\n              blur(1px)\n            );\n          }\n        '])))]}},{key:"properties",get:function(){var e=i(t,"properties",this)||{};return l(l({},e),{},{editMode:{type:Boolean,attribute:"edit-mode",reflect:!0},darkMode:{type:Boolean,attribute:"dark-mode",reflect:!0}})}}])}(e)},F={url:new URL("./elements/haxcms-elements/lib/core/utils/HAXCMSButton.js",document.baseURI).href};new URL("../../../../app-hax/lib/assets/images/ButtonBGLM.svg",F.url).href,new URL("../../../../app-hax/lib/assets/images/ButtonBGDM.svg",F.url).href;var X=function(e){function t(){var e;return r(this,t),(e=d(this,t)).icon=null,e.label="",e.voiceCommand="",e}return n(t,e),a(t,[{key:"HAXCMSFireButtonEvent",value:function(e,t,n){var a=new CustomEvent(e,{bubbles:!0,composed:!0,cancelable:!0,detail:{originalTarget:t,values:n}});this.dispatchEvent(a)}},{key:"HAXCMSButtonClick",value:function(e){}},{key:"renderButton",value:function(e,t){return p(z||(z=s(['\n      <simple-icon-button\n        .part="','"\n        tabindex="','"\n        id="button"\n        label="','"\n        @click="','"\n        ?dark="','"\n        icon="','"\n        accent-color="','"\n        voice-command="','"\n      ></simple-icon-button>\n      <simple-tooltip for="button" position="bottom" offset="14">\n        ',"\n      </simple-tooltip>\n    "])),this.editMode?"edit-mode-active":"",this.editMode?"-1":"",e,this.HAXCMSButtonClick,!this.darkMode,this.icon,this.accentColor,this.voiceCommand,t)}}],[{key:"properties",get:function(){return l(l({},i(t,"properties",this)),{},{icon:{type:String},label:{type:String},voiceCommand:{type:String}})}}])}(q(m(g))),W=function(e){function t(){var e;return r(this,t),(e=d(this,t)).windowControllers=new AbortController,e.t=e.t||{},e.t.newPageAdded="New page added",e.t.newPage="Page",e.t.copy="Copy",e.t.newChildPage="Child",e.t.duplicatePage="Clone",e.icon=null,e.voiceCommand="add page",e.type="sibling",e.autoEdit=!1,e.showTextLabel=!1,e.iconPosition="left",e.actionId=null,e.alignHorizontal="left",e.addEventListener("click",e.HAXCMSButtonClick),e}return n(t,e),a(t,[{key:"firstUpdated",value:function(e){switch(i(t,"firstUpdated",this,3)([e]),this.type){case"sibling":this.icon||(this.icon="hax:add-page"),this.label||(this.label=this.t.newPage);break;case"child":this.icon||(this.icon="hax:add-child-page"),this.label||(this.label=this.t.newChildPage);break;case"duplicate":this.icon||(this.icon="hax:duplicate"),this.label||(this.label=this.t.duplicatePage)}}},{key:"render",value:function(){return this.buttonTemplate}},{key:"connectedCallback",value:function(){i(t,"connectedCallback",this,3)([]),globalThis.addEventListener("haxcms-create-node-success",this.HAXCMSButtonClickResponse.bind(this),{signal:this.windowControllers.signal})}},{key:"disconnectedCallback",value:function(){this.windowControllers.abort(),i(t,"disconnectedCallback",this,3)([])}},{key:"HAXCMSButtonClick",value:(o=v(x().mark((function e(){var t,n,a,i,o,s;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.playSound("click"),t=null,n=this.t.newPage,a=null,i={},!this.actionId){e.next=19;break}if("null"!=this.actionId&&null!=this.actionId){e.next=14;break}return e.t0=h,e.next=10,u.getLastChildItem(null);case 10:e.t1=e.sent,i=(0,e.t0)(e.t1),e.next=17;break;case 14:return e.next=16,u.findItemAsObject(this.actionId);case 16:i=e.sent;case 17:e.next=20;break;case 19:i=h(u.activeItem);case 20:if(!i){e.next=38;break}if("sibling"!==this.type){e.next=26;break}a=i.parent,t=parseInt(i.order)+1,e.next=38;break;case 26:if("child"!==this.type){e.next=37;break}return a=i.id,e.t2=h,e.next=31,u.getLastChildItem(i.id);case 31:e.t3=e.sent,o=(0,e.t2)(e.t3),t=0,o.order&&(t=parseInt(o.order)+1),e.next=38;break;case 37:"duplicate"===this.type&&(n=i.title+" "+this.t.copy,a=i.parent,t=parseInt(i.order)+1);case 38:""===n&&(n="New"),s={node:{title:n,location:""},order:t,parent:a},"duplicate"===this.type&&(s.node.duplicate=i.id),this.HAXCMSFireButtonEvent("haxcms-create-node",this,s);case 42:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"HAXCMSButtonClickResponse",value:function(e){this===e.detail.originalTarget&&this.autoEdit&&(D.haxTray.collapsed=!1,setTimeout((function(){u.editMode=!0}),250))}}],[{key:"tag",get:function(){return"haxcms-button-add"}},{key:"styles",get:function(){return[i(t,"styles",this)].concat(b(this.iconStyles),b(this.labelStyles),b(this.tooltipStyles),b(this.simpleButtonCoreStyles),b(this.simpleButtonLayoutStyles),b(this.simpleButtonThemeStyles))}},{key:"properties",get:function(){return l(l({},i(t,"properties",this)),{},{autoEdit:{type:Boolean,attribute:"auto-edit"},actionId:{type:String,attribute:"action-id"},type:{type:String}})}}]);var o}(f(X));globalThis.customElements.define(W.tag,W);var V,G,J,Y,K,Q=function(e){function t(){var e;return r(this,t),e=d(this,t),c((function(){e.checked=h(u.darkMode)})),e}return n(t,e),a(t,[{key:"toggle",value:function(){this.checked=!this.checked}},{key:"updated",value:function(e){var n=this;i(t,"updated",this,1)&&i(t,"updated",this,3)([e]),e.forEach((function(e,t){"checked"===t&&void 0!==e&&requestAnimationFrame((function(){u.darkMode=n[t],u.playSound("click"),n[t]?u.toast("I'm ascared of the dark",2e3,{fire:!0}):u.toast("Sunny day it is",2e3,{hat:"random"})}))}))}}],[{key:"tag",get:function(){return"haxcms-darkmode-toggle"}}])}(y);globalThis.customElements.define(Q.tag,Q),k(["haxcms"]);var Z,$,ee,te,ne,ae,ie,oe=function(e){function t(){var e;r(this,t),(e=d(this,t)).HAXCMSI18NMixinBase="../../../",e.__disposer=[],e.player=!1,e.circularBlock=!1,e.itemManifest={},e.loading=!1,e.uuid=null,e.hideReference=!1,e.siteurl="",e.showTitle=!1,e.breakreference=!1,e._remoteTitle=null,e.t.selectPage="Select page";for(var n=e,a=0;n&&n.tagName;)(n=n.parentNode)&&n.tagName&&"SITE-REMOTE-CONTENT"===n.tagName&&++a>=3&&(e.circularBlock=!0);return e}return n(t,e),a(t,[{key:"render",value:function(){return p(V||(V=s(["\n      ",'\n      <div id="content"></div>\n    '])),this.elementVisible?p(G||(G=s(['\n            <div class="loading">\n              ',"\n            </div>\n            ",'\n            <div id="slot"><slot></slot></div>\n          '])),this.loading?p(J||(J=s(['<simple-icon-lite icon="hax:loading"></simple-icon-lite>']))):"",this.showTitle&&this._remoteTitle?p(Y||(Y=s(["<h3>","</h3>"])),this._remoteTitle):""):"")}},{key:"updated",value:function(e){var n=this;i(t,"updated",this,1)&&i(t,"updated",this,3)([e]),e.forEach((function(e,t){if(n.elementVisible){if(("uuid"===t||"elementVisible"===t)&&n[t]&&!n.breakreference&&!n.loading&&!n.circularBlock){n.loading=!0;var a=n.siteurl;""==a&&globalThis.HAXCMS&&globalThis.location&&(a="".concat(globalThis.location.origin).concat(globalThis.HAXCMS.instance.store.location.baseUrl)),w.call("@haxcms/pageCache",{site:a,type:"link",uuid:n.uuid,data:!0},n.renderContentResponse.bind(n))}if("siteurl"!==t||!globalThis.HaxStore||n.loading||n.circularBlock||(clearTimeout(n.__debounce),n.__debounce=setTimeout((function(){n.loading=!0,n.__refresh=!0,globalThis.HaxStore.instance.refreshActiveNodeForm()}),1500)),"breakreference"===t&&n[t])for(var i=n.shadowRoot.querySelector("#content"),o=i.firstElementChild;o;)n.appendChild(o),o=i.firstElementChild;else if("breakreference"===t&&!n[t]&&e&&!n.circularBlock){n.loading=!0,S(n);var s=n.siteurl;""==s&&globalThis.HAXCMS&&globalThis.location&&(s="".concat(globalThis.location.origin).concat(globalThis.HAXCMS.instance.store.location.baseUrl)),w.call("@haxcms/pageCache",{site:s,type:"link",uuid:n.uuid,data:!0},n.renderContentResponse.bind(n))}}}))}},{key:"renderContentResponse",value:function(e){if(e.data){globalThis.HaxStore&&!this.breakreference&&globalThis.HaxStore.instance.activeBodyIgnoreActive(!0);var t=this.shadowRoot.querySelector("#content");S(t);var n=globalThis.document.createElement("div"),a=e.data.content.replace(/<script[\s\S]*?>/gi,"&lt;script&gt;");if(a=a.replace(/<\/script>/gi,"&lt;/script&gt;"),n.innerHTML=a,this.appendChild(n),T(n),this._remoteTitle=e.data.title,this.loading=!1,this.breakreference||M(this,"#content"),!this.hideReference&&this.itemManifest&&this.itemManifest.title&&e.data&&!this.breakreference){globalThis.HaxStore.instance.activeBodyIgnoreActive(!1);var i=new Date,o=i.getDate(),s=i.getMonth()+1,l=i.getFullYear();if(!this.nextElementSibling||this.nextElementSibling&&"CITATION-ELEMENT"!==this.nextElementSibling.tagName){var r=globalThis.document.createElement("citation-element");r.title="".concat(this.itemManifest.title," - ").concat(e.data.title),r.source="".concat(e.data.site).concat(e.data.slug),r.date="".concat(o,"/").concat(s,"/").concat(l),r.scope="sibling",r.license=this.itemManifest.license,r.creator=this.itemManifest.metadata.author.name,this.insertAdjacentElement("afterend",r)}else if(this.nextElementSibling&&"CITATION-ELEMENT"===this.nextElementSibling.tagName){var d=this.nextElementSibling;d.title="".concat(this.itemManifest.title," - ").concat(e.data.title),d.source="".concat(e.data.site).concat(e.data.slug),d.date="".concat(o,"/").concat(s,"/").concat(l),d.scope="sibling",d.license=this.itemManifest.license,d.creator=this.itemManifest.metadata.author.name}}}}},{key:"firstUpdated",value:function(e){if(i(t,"firstUpdated",this,3)([e]),this.children.length>0){var n=this.shadowRoot.querySelector("#content");S(n),M(this,"#content")}}},{key:"haxHooks",value:function(){return{progressiveEnhancement:"haxprogressiveEnhancement",setupActiveElementForm:"haxsetupActiveElementForm"}}},{key:"haxprogressiveEnhancement",value:function(e){if(this.shadowRoot&&this.shadowRoot.querySelector("#content"))return this.shadowRoot.querySelector("#content").innerHTML}},{key:"haxsetupActiveElementForm",value:(c=v(x().mark((function e(t){var n,a,i=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!globalThis.HAXCMS){e.next=15;break}if(0!==Object.keys(this.itemManifest).length&&!this.__refresh){e.next=11;break}if(this.__refresh=!1,!this.siteurl){e.next=10;break}return e.next=6,w.call("@haxcms/siteManifest",{site:this.siteurl});case 6:(n=e.sent).data&&(this.itemManifest=n.data),e.next=11;break;case 10:this.itemManifest=u.getManifest(!0);case 11:a=[{text:this.t.selectPage,value:null}],this.itemManifest.items.forEach((function(e){if(e.id!=i.itemId){for(var t=e,n="- ";t&&null!=t.parent;)t=i.itemManifest.items.find((function(e){return e.id==t.parent})),t&&(n="--"+n);a.push({text:n+e.title,value:e.id})}})),t.settings.configure.forEach((function(e,n){"uuid"===e.property?(t.settings.configure[n].disabled=!1,t.settings.configure[n].inputMethod="select",t.settings.configure[n].itemsList=a,i.breakreference&&(t.settings.configure[n].disabled=!0)):"siteurl"===e.property&&(t.settings.configure[n].disabled=!1,i.breakreference&&(t.settings.configure[n].disabled=!0))})),this.loading=!1;case 15:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})}],[{key:"styles",get:function(){return[o(K||(K=s(["\n        :host {\n          display: block;\n        }\n        #slot {\n          display: none;\n        }\n        :host(:not([hide-reference])) #content {\n          border-left: 10px solid #eeeeee;\n          margin-left: -10px;\n        }\n        :host([breakreference]) #slot {\n          display: block;\n        }\n        :host([breakreference]) #content {\n          display: none;\n          border-left: unset;\n          margin-left: unset;\n        }\n        :host([loading]) .loading {\n          margin: 8px 0 0 -12px;\n          font-size: 2px;\n          width: 20px;\n          height: 20px;\n          --simple-icon-height: 20px;\n          --simple-icon-width: 20px;\n          position: absolute;\n        }\n        :host([player][loading]) .loading {\n          margin: 8px 0px 0px -12px;\n          font-size: 2px;\n          height: 100%;\n          --simple-icon-height: 100px;\n          --simple-icon-width: 100px;\n          width: 400px;\n          display: flex;\n          justify-content: center;\n          position: relative;\n          top: 25px;\n          left: 25px;\n        }\n\n        :host([player][loading]) .loading simple-icon-lite {\n          height: 100%;\n        }\n      "])))]}},{key:"tag",get:function(){return"site-remote-content"}},{key:"properties",get:function(){return l(l({},i(t,"properties",this)),{},{uuid:{type:String},player:{type:Boolean,reflect:!0},siteurl:{type:String},showTitle:{type:Boolean,attribute:"show-title"},_remoteTitle:{type:String},loading:{type:Boolean,reflect:!0},breakreference:{type:Boolean,reflect:!0},hideReference:{type:Boolean,reflect:!0,attribute:"hide-reference"}})}},{key:"haxProperties",get:function(){return{type:"grid",canScale:!1,canEditSource:!1,gizmo:{title:"Remote Content",description:"Reuse content from one site in another.",icon:"hax:remote",color:"grey",tags:["Resource","haxcms","content","remote","reference","url","resource"],handles:[],meta:{author:"HAXTheWeb core team"}},settings:{configure:[{property:"siteurl",title:"Site address",description:"Paste address to reference content from if not the current site",inputMethod:"textfield"},{property:"uuid",title:"Item",description:"Item to render for the link / title data",inputMethod:"textfield"},{property:"breakreference",title:"Break reference",description:"Checking this box copies the remote content for editing locally but removes the association. It will no longer get updates when the reference material updates.",inputMethod:"boolean"},{property:"showTitle",title:"Show title",description:"Toggle on to render the title of the resource being displayed",inputMethod:"boolean"}]},demoSchema:[{tag:"site-remote-content",properties:{showTitle:!0,_remoteTitle:"Select content"},content:"<div>Select content to load</div>"}],saveOptions:{unsetAttributes:["t","_remote-title"]}}}}]);var c}(m(C(g)));globalThis.customElements.define(oe.tag,oe);var se,le,re=function(e){function t(){var e;return r(this,t),(e=d(this,t)).mood=null,e.seed="abc123",e.timestamp=Date.now()/1e3,e.reply=0,e.editMode=!1,e.canEdit=!1,e.readOnly=!0,e.haxUIElement=!0,e}return n(t,e),a(t,[{key:"testCanUpdate",value:function(e){this.seed===e?this.canEdit=!0:this.canEdit=!1}},{key:"deleteOp",value:function(){this.dispatchEvent(new CustomEvent("page-flag-comment-delete",{bubbles:!0,cancelable:!0,detail:this}))}},{key:"replyOp",value:function(){this.dispatchEvent(new CustomEvent("page-flag-comment-reply",{bubbles:!0,cancelable:!0,detail:this}))}},{key:"editOp",value:function(){this.dispatchEvent(new CustomEvent("page-flag-comment-edit",{bubbles:!0,cancelable:!0,detail:this}))}},{key:"render",value:function(){return p(Z||(Z=s(['\n      <div class="comment">\n        ','\n        <div class="comment__header">\n          <div class="comment__header__avatar">\n            <rpg-character\n              seed="','"\n              width="40"\n              height="40"\n              hat="','"\n            ></rpg-character>\n          </div>\n          <div class="comment__header__info">\n            <div class="comment__header__info__name">','</div>\n            <div class="comment__header__info__date">\n              <simple-datetime\n                format="m/j/y h:i"\n                .timestamp="','"\n                unix\n              ></simple-datetime>\n            </div>\n          </div>\n        </div>\n        <div class="comment__body">\n          <simple-fields-field type="textarea"></simple-fields-field>\n          <slot></slot>\n        </div>\n        <div class="comment__footer">\n          <div class="comment__footer__actions">\n            ',"\n          </div>\n        </div>\n      </div>\n    "])),this.editMode?p($||($=s(['<simple-emoji-picker\n              align-right\n              label="Reaction"\n              value="','"\n              @value-changed="','"\n            ></simple-emoji-picker>'])),this.mood,this.emojiChanged):p(ee||(ee=s(['<div class="emoji" .innerHTML="','"></div>'])),this.mood),this.seed,this.editMode?"edit":"none",this.seed,this.timestamp,this.readOnly?"":p(te||(te=s(["\n                  ",'\n                  <simple-icon-button\n                    icon="reply"\n                    title="Reply"\n                    @click="','"\n                  ></simple-icon-button>\n                  ',"\n                "])),this.canEdit?p(ne||(ne=s(['<simple-icon-button\n                        icon="','"\n                        title="','"\n                        @click="','"\n                      ></simple-icon-button> '])),this.editMode?"save":"editor:mode-edit",this.editMode?"Edit":"Update",this.editOp):"",this.replyOp,this.canEdit?p(ae||(ae=s(['<simple-icon-button\n                        icon="delete"\n                        title="Delete"\n                        @click="','"\n                      ></simple-icon-button>'])),this.deleteOp):""))}},{key:"emojiChanged",value:function(e){this.mood=e.detail.value}},{key:"firstUpdated",value:function(e){i(t,"firstUpdated",this,3)([e]),this.shadowRoot.querySelector("simple-fields-field").value=this.innerHTML}},{key:"updated",value:function(e){var n=this;i(t,"updated",this,3)([e]),e.forEach((function(e,t){"editMode"==t&&void 0!==e&&(n[t]?(n.shadowRoot.querySelector("simple-fields-field").value=n.innerHTML,setTimeout((function(){n.shadowRoot.querySelector("simple-fields-field").focus(),n.shadowRoot.querySelector("simple-fields-field").select()}),0)):n.innerHTML=n.shadowRoot.querySelector("simple-fields-field").value)}))}}],[{key:"tag",get:function(){return"page-flag-comment"}},{key:"properties",get:function(){return{seed:{type:String},timestamp:{type:Number},mood:{type:String},editMode:{type:Boolean,reflect:!0,attribute:"edit-mode"},canEdit:{type:Boolean},reply:{type:Number,reflect:!0},readOnly:{type:Boolean}}}},{key:"styles",get:function(){return[,o(ie||(ie=s(['\n        :host {\n          display: block;\n        }\n        :host slot {\n          display: block;\n        }\n        :host simple-emoji-picker,\n        :host simple-fields-field {\n          display: none;\n        }\n        :host([edit-mode]) simple-emoji-picker,\n        :host([edit-mode]) simple-fields-field {\n          display: block;\n        }\n        simple-emoji-picker {\n          float: right;\n          width: 40px;\n        }\n        .emoji {\n          float: right;\n          width: 40px;\n          height: 40px;\n          font-size: 32px;\n        }\n        :host([edit-mode]) slot {\n          display: none;\n        }\n        :host([reply="1"]) .comment {\n          margin-left: 16px;\n        }\n        :host([reply="2"]) .comment {\n          margin-left: 32px;\n        }\n        .comment {\n          background-color: #fff;\n          border-radius: 5px;\n          box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);\n          padding: 10px;\n          margin-bottom: 10px;\n        }\n        simple-icon-button {\n          --simple-icon-height: 16px;\n          --simple-icon-width: 16px;\n          margin: 0 6px;\n        }\n        .comment__header {\n          display: flex;\n          align-items: center;\n          margin-bottom: 10px;\n        }\n        .comment__header__avatar {\n          width: 40px;\n          height: 40px;\n          border-radius: 50%;\n          overflow: hidden;\n          border: 2px solid black;\n          margin-right: 8px;\n        }\n        .comment__header__info {\n          display: flex;\n          flex-direction: column;\n        }\n        .comment__header__info__name {\n          font-weight: bold;\n          font-size: 14px;\n        }\n        .comment__header__info__date {\n          font-size: 12px;\n          color: #999;\n        }\n        .comment__body {\n          margin-bottom: 10px;\n        }\n        .comment__footer {\n          display: flex;\n          justify-content: flex-end;\n        }\n        .comment__footer__actions {\n          display: flex;\n        }\n        .comment__footer__actions__button {\n          background-color: transparent;\n          border: none;\n          color: #999;\n          font-size: 12px;\n          cursor: pointer;\n          margin-left: 10px;\n        }\n      '])))]}}])}(g);globalThis.customElements.define(re.tag,re);var de={url:new URL("./elements/page-flag/page-flag.js",document.baseURI).href},ce=function(e){function t(){var e;return r(this,t),(e=d(this,t)).label="note",e.opened=!1,e.accentColor="cyan",e.show=!1,e._haxState=!1,e}return n(t,e),a(t,[{key:"toggleOpen",value:function(e){var t=this;this.opened=!this.opened,this.dark=this.opened,this.querySelectorAll("page-flag-comment").forEach((function(e){e.testCanUpdate(be.activeUser),e.readOnly=!t._haxState}))}},{key:"render",value:function(){return p(se||(se=s([' <button class="arrow" @click="','">\n        ','\n      </button>\n      <absolute-position-behavior\n        justify\n        position="bottom"\n        allow-overlap\n        auto\n        ?hidden="','"\n      >\n        <div\n          @page-flag-comment-edit="','"\n          @page-flag-comment-delete="','"\n          @page-flag-comment-reply="','"\n        >\n          <slot></slot>\n        </div>\n      </absolute-position-behavior>'])),this.toggleOpen,this.label,!this.opened,this.handleEdit,this.handleDelete,this.handleReply)}},{key:"handleEdit",value:function(e){e.detail.editMode=!e.detail.editMode}},{key:"handleDelete",value:function(e){e.detail.remove(),0===this.querySelectorAll("page-flag-comment").length&&this.remove()}},{key:"handleReply",value:function(e){var t=globalThis.document.createElement("page-flag-comment");t.seed=be.activeUser,t.timestamp=Date.now()/1e3,t.canEdit=!0,t.readOnly=!1,t.reply=e.detail.reply+1<2?e.detail.reply+1:2,e.detail.insertAdjacentElement("afterend",t),setTimeout((function(){t.editMode=!0}),0)}},{key:"haxeditModeChanged",value:function(e){this.show=e,this._haxState=e}},{key:"haxHooks",value:function(){return{editModeChanged:"haxeditModeChanged",inlineContextMenu:"haxinlineContextMenu"}}},{key:"haxinlineContextMenu",value:function(e){e.ceButtons=[{icon:"lrn:discuss",callback:"haxResolveThread",label:"Resolve thread"}]}},{key:"haxResolveThread",value:function(e){return this.remove(),!0}},{key:"firstUpdated",value:function(e){if(i(t,"firstUpdated",this,1)&&i(t,"firstUpdated",this,3)([e]),be.allFlags.push(this),be.activeUser?this.show=!0:this.remove(),this.shadowRoot.querySelector("absolute-position-behavior").target=this.shadowRoot.querySelector(".arrow"),!this.querySelector("page-flag-comment")){var n=globalThis.document.createElement("page-flag-comment");n.seed=be.activeUser,n.timestamp=Date.now()/1e3,n.canEdit=!0,n.readOnly=!1,this.appendChild(n),setTimeout((function(){n.editMode=!0}),100)}}}],[{key:"properties",get:function(){return l(l({},i(t,"properties",this)),{},{label:{type:String},opened:{type:Boolean,reflect:!0},show:{type:Boolean,reflect:!0}})}},{key:"styles",get:function(){var e=[];return i(t,"styles",this)&&(e=i(t,"styles",this)),[e,o(le||(le=s(['\n        :host {\n          display: none;\n          float: right;\n          z-index: var(--simple-modal-z-index, 1000);\n          margin-right: -80px;\n          position: relative;\n        }\n        :host([show]) {\n          display: block;\n        }\n        .arrow {\n          border: 3px solid var(--simple-colors-default-theme-accent-4, #97d4e8);\n          border-radius: 4px;\n          background: var(--simple-colors-default-theme-accent-1, #c8e7f1);\n          color: var(--simple-colors-default-theme-accent-8, #2d7187);\n          padding: 8px;\n          text-align: center;\n          max-width: 100px;\n          font-size: 11px;\n          font-weight: bold;\n          position: relative;\n          cursor: pointer;\n        }\n\n        .arrow::after,\n        .arrow::before {\n          border: solid transparent;\n          content: " ";\n          display: block;\n          height: 0;\n          position: absolute;\n          pointer-events: none;\n          width: 0;\n          right: 100%;\n        }\n        .arrow::before {\n          border-color: rgba(255, 255, 255, 0);\n          border-right-color: var(\n            --simple-colors-default-theme-accent-4,\n            #97d4e8\n          );\n          top: 50%;\n          margin-top: -14px;\n          border-width: 14px;\n        }\n        .arrow::after {\n          border-color: rgba(255, 255, 255, 0);\n          border-right-color: var(\n            --simple-colors-default-theme-accent-1,\n            #c8e7f1\n          );\n          top: 50%;\n          margin-top: -10px;\n          border-width: 10px;\n        }\n        absolute-position-behavior {\n          z-index: var(--simple-modal-z-index, 1000);\n          min-width: 280px;\n        }\n        absolute-position-behavior div {\n          color: black;\n          background-color: white;\n          font-size: 12px;\n          width: 300px;\n          margin-left: 160px;\n          padding-top: 8px;\n        }\n      '])))]}},{key:"tag",get:function(){return"page-flag"}},{key:"haxProperties",get:function(){return new URL("./lib/".concat(this.tag,".haxProperties.json"),de.url).href}}])}(E);globalThis.customElements.define(ce.tag,ce);var he=function(e){function t(){var e;return r(this,t),(e=d(this,t)).windowControllers=new AbortController,e.activeUser=null,e.allFlags=[],e}return n(t,e),a(t,[{key:"connectedCallback",value:function(){globalThis.addEventListener("haxcms-user-data-updated",this.userDataUpdated.bind(this),{signal:this.windowControllers.signal})}},{key:"disconnectedCallback",value:function(){this.windowControllers.abort()}},{key:"userDataUpdated",value:function(e){this.activeUser=e.detail.userName,this.allFlags.forEach((function(e){e.show=!0}))}}],[{key:"tag",get:function(){return"page-flag-manager"}}])}(_(HTMLElement));globalThis.customElements.define(he.tag,he),globalThis.pageFlagManager=globalThis.pageFlagManager||{},globalThis.pageFlagManager.requestAvailability=function(){return globalThis.pageFlagManager.instance||(globalThis.pageFlagManager.instance=globalThis.document.createElement(he.tag),globalThis.document.body.appendChild(globalThis.pageFlagManager.instance)),globalThis.pageFlagManager.instance};var ue,pe,me,ge,be=globalThis.pageFlagManager.requestAvailability(),fe={url:new URL("./elements/haxcms-elements/lib/core/haxcms-site-editor-ui.js",document.baseURI).href};new URL("../../../app-hax/lib/assets/images/ButtonBGLM.svg",fe.url).href,new URL("../../../app-hax/lib/assets/images/ButtonBGDM.svg",fe.url).href;var ve=new URL("../../../app-hax/lib/assets/images/Logout.svg",fe.url).href,xe=e("HAXCMSSiteEditorUI",function(e){function m(){var e,n;return r(this,m),(e=d(this,m)).__winEvents={"can-redo-changed":"_redoChanged","can-undo-changed":"_undoChanged","hax-drop-focus-event":"_expandSettingsPanel","jwt-logged-in":"_jwtLoggedIn","super-daemon-close":"sdCloseEvent"},e.rpgHat="none",e.darkMode=!1,e.__editText="Edit",e.userMenuOpen=!1,e.soundIcon="",e.__disposer=e.__disposer||[],e.t=e.t||{},N.allowedCallback=function(){return!0},N.keyHandlerCallback=function(){var t=e.shadowRoot.querySelector("#merlin");return u.playSound("click"),"super-daemon-modal"==t.getAttribute("data-event")?D.haxTray.collapsed=!1:(N.mini=!0,N.wand=!0,N.activeNode=e.shadowRoot.querySelector("#merlin")),N.runProgram("","*"),!0},N.noResultsSlot=function(){return p(ue||(ue=s(['<div class="no-results">\n          Expecting to see an option Merlin didn\'t provide?\n        </div>\n        <a\n          @click="','"\n          >Make a suggestion to improve results</a\n        >'])),(function(e){D._haxStoreContribute("merlin","POP,enhancement",N.commandContext+" "+N.value)}))},N.appendContext("CMS"),N.defineOption({title:"Magic File Wand",icon:"hax:hax2022",priority:-1e4,tags:["Agent","help","merlin"],eventName:"super-daemon-run-program",path:"HAX/agent",value:{name:"Agent",machineName:"hax-agent",program:(n=v(x().mark((function t(n,a){var i,o,s,l,r,d,c,u;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=h(I.action),o=h(I.memory),s=h(I.data),l=[],"file-selected"!==a.operation){t.next=23;break}t.t0=a.type,t.next="md"===t.t0||"docx"===t.t0||"doc"===t.t0||"txt"===t.t0||"html"===t.t0||"htm"===t.t0?8:"png"===t.t0||"jpeg"===t.t0||"gif"===t.t0||"jpg"===t.t0?11:"mp4"===t.t0?13:"midi"===t.t0||"mid"===t.t0||"mp3"===t.t0?15:"pdf"===t.t0?17:18;break;case 8:return o.editMode||(l.push({title:"New Sibling Page from ".concat(a.type),icon:"hax:add-page",tags:["agent"],value:{target:e,method:"processFileContentsBasedOnUserDesire",args:[a,"create-sibling"]},eventName:"super-daemon-element-method",path:"Page created next to current"}),l.push({title:"New Child Page from ".concat(a.type),icon:"hax:add-child-page",tags:["agent"],value:{target:e,method:"processFileContentsBasedOnUserDesire",args:[a,"create-child"]},eventName:"super-daemon-element-method",path:"Page created under current"}),["docx","doc"].includes(a.type)&&l.push({title:"Create outline from ".concat(a.type),icon:"hax:site-map",tags:["agent"],value:{target:e,method:"processFileContentsBasedOnUserDesire",args:[a,"create-branch"]},eventName:"super-daemon-element-method",path:"H1,H2 tags create menu pages"})),l.push({title:"Insert ".concat(a.type," contents in Page"),icon:"hax:html-code",tags:["agent"],value:{target:e,method:"processFileContentsBasedOnUserDesire",args:[a,"insert-html"]},eventName:"super-daemon-element-method",path:"Content converted to HTML and inserted"}),t.abrupt("break",19);case 11:return l.push({title:"Insert ".concat(a.type," in page"),icon:"editor:insert-photo",tags:["agent"],value:{target:e,method:"processFileContentsBasedOnUserDesire",args:[a,"insert-file","image"]},eventName:"super-daemon-element-method",path:"Image embedded in page"}),t.abrupt("break",19);case 13:return l.push({title:"Insert ".concat(a.type," in page"),icon:"av:play-circle-filled",tags:["agent"],value:{target:e,method:"processFileContentsBasedOnUserDesire",args:[a,"insert-file","video"]},eventName:"super-daemon-element-method",path:"Video embedded in page"}),t.abrupt("break",19);case 15:return l.push({title:"Insert ".concat(a.type," in page"),icon:"av:volume-up",tags:["agent"],value:{target:e,method:"processFileContentsBasedOnUserDesire",args:[a,"insert-file","audio"]},eventName:"super-daemon-element-method",path:"Audio embedded in page"}),t.abrupt("break",19);case 17:l.push({title:"Embed ".concat(a.type," in page"),icon:"hax:file-pdf",tags:["agent"],value:{target:e,method:"processFileContentsBasedOnUserDesire",args:[a,"insert-file","pdf"]},eventName:"super-daemon-element-method",path:"PDF embedded in a frame element"});case 18:return t.abrupt("break",19);case 19:l.push({title:"Link to ".concat(a.type," file"),icon:"editor:insert-link",tags:["agent"],value:{target:e,method:"processFileContentsBasedOnUserDesire",args:[a,"link","link"]},eventName:"super-daemon-element-method",path:"File uploaded and linked to"}),l.push({title:"Just Upload ".concat(a.type," file"),icon:"file-upload",tags:["agent"],value:{target:e,method:"processFileContentsBasedOnUserDesire",args:[a,"upload","upload-only"]},eventName:"super-daemon-element-method",path:"File uploaded for later use"}),t.next=36;break;case 23:if("drop"!==i.type||"drop"!==a.type){t.next=34;break}return r=s.file,t.next=27,r.text();case 27:d=t.sent,c=r.name.split("."),u="",c.length>1&&(u=c.pop()),N.waveWand(["","/",{operation:"file-selected",contents:d,data:r,type:u},"hax-agent","Agent"],e.shadowRoot.querySelector("#merlin"),"coin2"),t.next=36;break;case 34:l=[{title:"Select file..",icon:"folder-open",tags:["agent"],value:{target:e,method:"selectFileToProcess",args:[]},eventName:"super-daemon-element-method",path:"Watch Merlin work his magic!"}],e.selectFileToProcess();case 36:return t.abrupt("return",l);case 37:case"end":return t.stop()}}),t)}))),function(e,t){return n.apply(this,arguments)})}}),D.ready&&(["site-remote-content","citation-element","page-flag","site-collection-list","collection-list","collection-item"].map((function(e){var t=globalThis.document.createElement(e);D.haxAutoloader.appendChild(t)})),D.primativeHooks.a||(D.primativeHooks.a={}),D.primativeHooks.a.setupActiveElementForm=function(t){var n=u.getManifestItems(!0),a=[{text:"-- ".concat(e.t.selectPage," --"),value:null}];n.forEach((function(t){if(t.id!=e.itemId){for(var i=t,o="- ";i&&null!=i.parent;)i=n.find((function(e){return e.id==i.parent})),i&&(o="--"+o);a.push({text:o+t.title,value:t.id})}}))}),e.t=l(l({},e.t),{},{selectPage:"Select page",backToSiteList:"Back to site list",mySites:"My sites",cancel:"Cancel",unsavedChangesWillBeLostIfSelectingOkAreYouSure:"Unsaved changes will be lost if selecting OK, are you sure?",editDetails:"Page details",add:"Add",editSettings:"Edit settings",source:"Source",viewSource:"View source",confirmHtmlSourceExit:"HTML Source changes will not be saved without pressing the `Update HTML` button, Save without HTML code editor changes?",findMedia:"Find media",undo:"Undo",redo:"Redo",media:"Media",outline:"Outline",blocks:"Blocks",addBlock:"Add block",addPage:"Add page",addChildPage:"Add child page",clonePage:"Clone page",delete:"Delete page",shareSite:"Share site",siteSettings:"Site settings",themeSettings:"Theme settings",seoSettings:"SEO settings",authorSettings:"Author settings",close:"Close",settings:"Settings",edit:"Edit",configureBlock:"Configure block",configure:"Configure",save:"Save",newJourney:"New Journey",accountInfo:"Account Info",outlineDesigner:"Outline designer",pageOutline:"Page outline",more:"More",siteActions:"Site actions",insights:"Insights dashboard (beta)",merlin:"Merlin",summonMerlin:"Summon Merlin",logOut:"Log out",menu:"Menu",showMore:"More",contentImported:"Content imported!"}),e.backText="Site list",e.painting=!0,e.pageAllowed=!1,e.editMode=!1,e.__editIcon="hax:page-edit",e.icon="hax:site-settings",e.manifestEditMode=!1,e.backLink="../../",e.activeTagName="",e.activeNode=null,e.activeDrag=!1,e.activeType=null,globalThis.appSettings&&globalThis.appSettings.backLink&&(e.backLink=globalThis.appSettings.backLink),c((function(){var t=h(u.isLoggedIn);I.writeMemory("isLoggedIn",e.isLoggedIn);var n=Math.floor(Date.now()/1e3);if(t&&!e.loggedInTime){e.displayConsoleWarning(),e.loggedInTime=n;var a=I.readMemory("recentLogins");a?a&&(a.length<5&&a.shift(),a.push(n),I.writeMemory("recentLogins",a,"long")):I.writeMemory("recentLogins",[n],"long")}})),c((function(){var e=h(I.memory),t=h(I.action);!1===e.editMode&&e.interactionDelay>=3600&&null===t.type&&u.cmsSiteEditor.haxCmsSiteEditorUIElement&&u.cmsSiteEditor.haxCmsSiteEditorUIElement.shadowRoot&&setTimeout((function(){u.cmsSiteEditor.haxCmsSiteEditorUIElement.shadowRoot.querySelector("#editbutton").dataPulse="1"}),300),I.active&&I.memory.isLoggedIn&&I.memory.recentTarget===N&&null===N.programName&&I.memory.interactionDelay>600&&["paste","key"].includes(t.type)?L(N.value)&&N.waveWand([N.value,"/",{},"hax-agent","Agent"],null,"coin2"):I.active&&I.memory.isLoggedIn&&null===N.programName&&["paste"].includes(t.type)&&"url"==I.data.architype&&N.waveWand([h(I.data.value),"/",{},"hax-agent","Agent"],null,"coin2")})),c((function(){var t=h(I.action),n=h(I.data);I.active&&I.memory.isLoggedIn&&null===N.programName&&"drag"===t.type?(e.activeDrag=!0,e.activeType=n.value||n.architype):I.active&&I.memory.isLoggedIn&&null===N.programName&&"dragleave"===t.type&&(e.activeDrag=!1,e.activeType=null)})),c((function(){var t=h(D.activeGizmo);t&&t.title&&(e.activeTagName=t.title)})),c((function(){e.activeNode=h(D.activeNode)})),c((function(){var e=h(u.badDevice);if(!1===e){var t=globalThis.document.createElement("link");t.setAttribute("href","https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"),t.setAttribute("rel","stylesheet"),t.setAttribute("fetchpriority","low"),globalThis.document.head.appendChild(t)}else!0===e&&globalThis.document.body.classList.add("bad-device")})),c((function(){e.darkMode=h(u.darkMode),e.dark=e.darkMode,h(u.darkMode)?(N.dark=!0,N.toastInstance.darkMode=!0,D.globalPreferences.haxUiTheme="haxdark"):(D.globalPreferences.haxUiTheme="hax",N.dark=!1,N.toastInstance.darkMode=!1)})),c((function(){e.soundIcon=h(u.soundStatus)?new URL("../../../app-hax/lib/assets/images/FullVolume.svg",fe.url).href:new URL("../../../app-hax/lib/assets/images/Silence.svg",fe.url).href})),setTimeout((function(){t.import("./84065ce2.js"),t.import("./24ccbe38.js")}),0),e}return n(m,e),a(m,[{key:"_expandSettingsPanel",value:function(e){this.shadowRoot.querySelector("#content-edit").click()}},{key:"selectFileToProcess",value:function(){var e=this;t.import("./3826c3d9.js").then((function(e){return e.bd})).then(function(){var t=v(x().mark((function t(n){var a,i,o,s,l;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=globalThis.FileSystemBroker.requestAvailability(),t.next=3,a.getFileContents("*");case 3:i=t.sent,o=a.fileHandler,s=o.name.split("."),l="",s.length>1&&(l=s.pop()),N.waveWand(["","/",{operation:"file-selected",contents:i,data:o,type:l},"hax-agent","Agent"],e.shadowRoot.querySelector("#merlin"),"coin2");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setProcessingVisual",value:function(){var e=globalThis.document.createElement("simple-icon-lite");e.icon="hax:loading",e.style.setProperty("--simple-icon-height","40px"),e.style.setProperty("--simple-icon-width","40px"),e.style.marginLeft="8px",u.toast("Processing",5e3,{hat:"construction",speed:150,walking:!0,slot:e})}},{key:"processFileContentsBasedOnUserDesire",value:(y=v(x().mark((function e(n,a,i){var o,s,l,r,d,c=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(I.data).event,this.setProcessingVisual(),e.t0=a,e.next="upload"===e.t0||"link"===e.t0||"insert-file"===e.t0?6:"insert-html"===e.t0||"create-sibling"===e.t0||"create-child"===e.t0||"create-branch"===e.t0?8:47;break;case 6:return"upload"===a?this.dispatchEvent(new CustomEvent("hax-file-upload",{bubbles:!0,cancelable:!0,composed:!0,detail:{file:n.data,placeHolderElement:null,operationType:i}})):"link"===a?(!1===u.editMode&&(u.editMode=!0),setTimeout((function(){var e=D.activeHaxBody.haxInsert("p","",{});c.dispatchEvent(new CustomEvent("hax-file-upload",{bubbles:!0,cancelable:!0,composed:!0,detail:{file:n.data,placeHolderElement:e,operationType:i}}))}),300)):(!1===u.editMode&&(u.editMode=!0),setTimeout((function(){var e=D.activeHaxBody.haxInsert("p","",{});c.dispatchEvent(new CustomEvent("hax-file-upload",{bubbles:!0,cancelable:!0,composed:!0,detail:{file:n.data,placeHolderElement:e,operationType:i}}))}),300)),e.abrupt("break",47);case 8:o=null,s=new FormData,e.t1=n.type,e.next="docx"===e.t1||"doc"===e.t1?13:"md"===e.t1||"txt"===e.t1?17:"html"===e.t1||"htm"===e.t1?20:21;break;case 13:return s.append("upload",n.data),o="@core/docxToHtml","create-branch"===a&&(o="@haxcms/docxToSite",s.append("method","branch"),s.append("type","branch"),l=h(u.activeItem),s.append("parentId",l.parent)),e.abrupt("break",21);case 17:return o="@core/mdToHtml",s={md:n.contents},e.abrupt("break",21);case 20:return e.abrupt("break",21);case 21:if(r={},!o){e.next=45;break}if("insert-html"!==a){e.next=30;break}return e.next=26,w.call(o,s);case 26:200==(r=e.sent).status&&this.insertElementsFromContentBlob(r.data.contents||r.data),e.next=43;break;case 30:return e.next=32,w.call(o,s);case 32:if(200!=(r=e.sent).status){e.next=43;break}if(!["create-sibling","create-child"].includes(a)){e.next=38;break}this.createNewNode(a.replace("create-",""),n.data.name,r.data.contents||r.data),e.next=43;break;case 38:if(!r.data||""==r.data.contents){e.next=43;break}return(d={}).items=r.data.items,e.next=43,t.import("./2c3b5174.js").then(function(){var e=v(x().mark((function e(t){var n,a,i,o;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.jwt=h(u.jwt),d.site={name:h(u.manifest.metadata.site.name)},(n=globalThis.document.createElement("outline-designer")).items=r.data.items,n.eventData=d,n.storeTools=!0,(a=globalThis.document.createElement("button")).innerText="Confirm",a.classList.add("hax-modal-btn"),a.addEventListener("click",function(){var e=v(x().mark((function e(t){var a,i,o,s,l,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getData();case 2:a=e.sent,i=0,o=0,s=0,a.items.map((function(e){e.delete?i++:e.new?s++:e.modified&&o++})),(""==(l="".concat(s>0?"‣ ".concat(s," new pages will be created\n"):"").concat(o>0?"‣ ".concat(o," pages will be updated\n"):"").concat(i>0?"‣ ".concat(i," pages will be deleted\n"):""))||globalThis.confirm("Saving will commit the following actions:\n".concat(l,"\nAre you sure?")))&&(u.cmsSiteEditorAvailability().querySelector("#createajax").body=a,c.setProcessingVisual(),u.cmsSiteEditorAvailability().querySelector("#createajax").generateRequest(),r=new CustomEvent("simple-modal-hide",{bubbles:!0,composed:!0,cancelable:!0,detail:{}}),globalThis.dispatchEvent(r));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(i=globalThis.document.createElement("button")).innerText="Cancel",i.classList.add("hax-modal-btn"),i.classList.add("cancel"),i.addEventListener("click",(function(e){var t=new CustomEvent("simple-modal-hide",{bubbles:!0,composed:!0,cancelable:!0,detail:{}});globalThis.dispatchEvent(t)})),(o=globalThis.document.createElement("div")).appendChild(a),o.appendChild(i),c.dispatchEvent(new CustomEvent("simple-modal-show",{bubbles:!0,cancelable:!0,composed:!0,detail:{title:"Confirm structure",elements:{content:n,buttons:o},modal:!0,styles:U(U(U({"--simple-modal-titlebar-background":"transparent","--simple-modal-titlebar-color":"black","--simple-modal-width":"90vw","--simple-modal-min-width":"300px","--simple-modal-z-index":"100000000","--simple-modal-height":"90vh","--simple-modal-min-height":"400px","--simple-modal-titlebar-height":"64px"},"--simple-modal-titlebar-color","black"),"--simple-modal-titlebar-height","80px"),"--simple-modal-titlebar-background","orange")}}));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 43:e.next=46;break;case 45:"insert-html"===a?this.insertElementsFromContentBlob(n.contents):"create-branch"!==a&&this.createNewNode(a.replace("create-",""),n.data.name,n.contents);case 46:return e.abrupt("break",47);case 47:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return y.apply(this,arguments)})},{key:"createNewNode",value:(f=v(x().mark((function e(t){var n,a,i,o,s,l,r,d=arguments;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:"New page",a=d.length>2&&void 0!==d[2]?d[2]:"<p></p>",i=null,o=null,!(s=h(u.activeItem))){e.next=23;break}if("sibling"!==t){e.next=11;break}o=s.parent,i=parseInt(s.order),e.next=23;break;case 11:if("child"!==t){e.next=22;break}return o=s.id,e.t0=h,e.next=16,u.getLastChildItem(s.id);case 16:e.t1=e.sent,l=(0,e.t0)(e.t1).order,i=0,(l||0===l)&&(i=l+1),e.next=23;break;case 22:o=null,i=0;case 23:""==n&&(n="New page"),r={node:{title:n,location:"",contents:a},order:i,parent:o},this.dispatchEvent(new CustomEvent("haxcms-create-node",{bubbles:!0,composed:!0,cancelable:!0,detail:{originalTarget:this,values:r}}));case 26:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"insertElementsFromContentBlob",value:function(e){var t=this,n=!1;!1===u.editMode?(u.editMode=!0,n=!0):this.activeNode.hasAttribute("slot")&&(i=this.activeNode.getAttribute("slot"));var a=globalThis.document.createElement("div");a.innerHTML=e;var i=!1;if(!n&&this.activeNode&&this.activeNode.parentNode)for(var o=a.children.length-1;o>0;o--)i&&a.children[o].setAttribute("slot",i),this.activeNode.parentNode.insertBefore(a.children[o],this.activeNode.nextSibling);else setTimeout((function(){for(var e=a.children.length-1;e>0;e--)D.activeHaxBody.appendChild(a.children[e]);setTimeout((function(){D.activeHaxBody.scrollHere(t.activeNode),setTimeout((function(){D.activeHaxBody.scrollHere(t.activeNode)}),500)}),1e3)}),300);D.toast(this.t.contentImported)}},{key:"insertUrl",value:(b=v(x().mark((function e(t,n){var a,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1===u.editMode&&(u.editMode=!0),!n){e.next=6;break}return e.next=4,w.call("@core/websiteMetadata",{q:t});case 4:(a=e.sent).data&&(a.data["og:title"]||a.data.title)&&(i={title:a.data["og:title"]||a.data.title,source:t},D.insertLogicFromValues(i,this));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return b.apply(this,arguments)})},{key:"displayConsoleWarning",value:function(){setTimeout((function(){console.warn("%c⚠️STOP⚠️","color: white; padding: 10px; font-weight: bold; font-size: 5em;font-family: arial; background-color: darkred; border: 5px solid white; border: 5px solid white;"),console.warn("%cThis is a browser feature intended for developers. If someone told you to copy and paste something here to enable a hidden feature, it is likely a scam and could give them access to your account.","font-size: 1.5em; font-family: arial; color: white; background-color: darkred; padding: 10px")}),3500)}},{key:"soundToggle",value:function(){var e=!h(u.soundStatus);u.soundStatus=e,A("app-hax-soundStatus",e),e?(u.toast("Can you hear me now? Good.",2e3,{hat:"random"}),u.playSound("click")):u.toast("Sound off.. hey.. HELLO!?!",2e3,{fire:!0})}},{key:"closeMenu",value:function(){this.userMenuOpen=!1}},{key:"toggleMenu",value:function(){this.userMenuOpen=!this.userMenuOpen,u.playSound("click")}},{key:"getIconPosition",value:function(e){return["xl","lg"].includes(e)?"left":"top"}},{key:"render",value:function(){return p(pe||(pe=s(['\n      <app-hax-top-bar part="top-bar" ?edit-mode="','">\n        <span slot="left" class="home-btn">\n          <a\n            href="','"\n            class="haxLogo"\n            id="backtosites"\n            title="','"\n            part="hax-logo"\n          >\n            <simple-icon-lite icon="hax:hax2022"></simple-icon-lite>\n          </a>\n          <simple-tooltip for="backtosites" position="right"\n            >','</simple-tooltip\n          >\n          <slot name="haxcms-site-editor-ui-prefix-avatar"></slot>\n        </span>\n        <simple-toolbar\n          slot="center"\n          ?dark="','"\n          icon-position="','"\n          show-text-label\n          label="','"\n        >\n          <slot name="haxcms-site-editor-ui-prefix-buttons"></slot>\n          <simple-toolbar-button\n            hidden\n            class="top-bar-button"\n            id="editbutton"\n            icon="','"\n            icon-position="','"\n            @click="','"\n            label="','"\n            show-text-label\n            data-primary="4"\n            voice-command="edit (this) page"\n          ></simple-toolbar-button>\n           <simple-toolbar-button\n            icon="icons:undo"\n            class="top-bar-button"\n            icon-position="','"\n            ?disabled="','"\n            @click="','"\n            label="','"\n            data-event="undo"\n            id="undo"\n            ?hidden="','"\n            voice-command="undo"\n            show-text-label\n          >\n          </simple-toolbar-button>\n          <simple-toolbar-button\n            icon="icons:redo"\n            class="top-bar-button"\n            @click="','"\n            ?disabled="','"\n            ?hidden="','"\n            label="','"\n            data-event="redo"\n            id="redo"\n            voice-command="redo"\n            icon-position="','"\n            show-text-label\n          >\n          </simple-toolbar-button>\n\n          <simple-toolbar-button\n            id="cancelbutton"\n            class="top-bar-button"\n            icon="icons:cancel"\n            icon-position="','"\n            @click="','"\n            ?hidden="','"\n            ?disabled="','"\n            show-text-label\n            tabindex="','"\n            label="','"\n            voice-command="cancel (editing)"\n          ></simple-toolbar-button>\n\n          <simple-toolbar-menu\n            id="addmenubutton"\n            class="top-bar-button"\n            ?hidden="','"\n            ?disabled="','"\n            icon="hax:add-page"\n            icon-position="','"\n            label="','.."\n            tabindex="','"\n            @dblclick="','"\n            show-text-label\n          >\n            <simple-toolbar-menu-item>\n              <haxcms-button-add\n                role="menuitem"\n                hidden\n                ?disabled="','"\n                id="addbutton"\n                show-text-label\n                data-super-daemon-label="','"\n                data-super-daemon-icon="hax:add-page"\n                data-super-daemon-path="CMS/action/create/page"\n              >\n              </haxcms-button-add>\n            </simple-toolbar-menu-item>\n            <simple-toolbar-menu-item>\n              <haxcms-button-add\n                role="menuitem"\n                hidden\n                ?disabled="','"\n                id="addbuttonchild"\n                type="child"\n                show-text-label\n                data-super-daemon-path="CMS/action/create/child"\n                data-super-daemon-label="','"\n                data-super-daemon-icon="hax:add-child-page"\n              ></haxcms-button-add>\n            </simple-toolbar-menu-item>\n              <haxcms-button-add\n                role="menuitem"\n                hidden\n                ?disabled="','"\n                type="duplicate"\n                id="duplicatebutton"\n                show-text-label\n                data-super-daemon-path="CMS/action/create/duplicate"\n                data-super-daemon-label="','"\n                data-super-daemon-icon="hax:duplicate"\n              ></haxcms-button-add>\n            </simple-toolbar-menu-item>\n          </simple-toolbar-menu>\n          \n          <simple-toolbar-button\n            ?hidden="','"\n            ?disabled="','"\n            tabindex="','"\n            id="deletebutton"\n            icon-position="','"\n            icon="icons:delete"\n            class="top-bar-button"\n            @click="','"\n            label="','"\n            show-text-label\n            voice-command="delete page"\n          ></simple-toolbar-button>\n\n          <simple-toolbar-button\n            data-event="content-edit"\n            icon="settings"\n            class="top-bar-button"\n            @click="','"\n            id="content-edit"\n            label="','"\n            ?hidden="','"\n            ?disabled="','"\n            voice-command="(modify)(configure)(edit) selected"\n            controls="tray-detail"\n            tooltip="'," ",'"\n            toggles\n            ?toggled="','"\n            icon-position="','"\n            show-text-label\n          >\n          </simple-toolbar-button>\n          <simple-toolbar-button\n            ?hidden="','"\n            ?disabled="','"\n            data-event="content-add"\n            icon="hax:add-brick"\n            id="content-add"\n            class="top-bar-button"\n            label="','"\n            voice-command="select blocks (menu)"\n            toggles\n            ?toggled="','"\n            icon-position="','"\n            show-text-label\n            @click="','"\n          >\n          </simple-toolbar-button>\n          <simple-toolbar-button\n            ?hidden="','"\n            ?disabled="','"\n            icon="hax:multimedia"\n            class="top-bar-button"\n            label="','"\n            voice-command="select media (menu)"\n            icon-position="','"\n            show-text-label\n            data-event="media-program"\n            @click="','"\n          >\n          </simple-toolbar-button>\n          <simple-toolbar-button\n           ?hidden="','"\n           ?disabled="','"\n            data-event="content-map"\n            icon="hax:newspaper"\n            id="content-map"\n            class="top-bar-button"\n            label="','"\n            voice-command="select content outline (menu)"\n            toggles\n            @click="','"\n            ?toggled="','"\n            icon-position="','"\n            show-text-label\n          >\n          </simple-toolbar-button>\n\n          <simple-toolbar-button\n            id="exportbtn"\n            icon="hax:html-code"\n            label="','"\n            data-event="view-source"\n            class="top-bar-button"\n            @click="','"\n            voice-command="view (page) source"\n            icon-position="','"\n            show-text-label\n            ?hidden="','"\n            ?disabled="','"\n          >\n          </simple-toolbar-button>\n\n          <simple-toolbar-menu\n            show-text-label\n            ?hidden="','"\n            ?disabled="','"\n            icon="hax:home-edit"\n            part="morebtn"\n            class="top-bar-button"\n            icon-position="','"\n            label="','"\n            tabindex="','"\n          >\n            <simple-toolbar-menu-item>\n              <simple-toolbar-button\n              ?hidden="','"\n              ?disabled="','"\n              tabindex="','"\n              id="outlinebutton"\n              @click="','"\n              icon-position="left"\n              icon="hax:site-map"\n              part="outlinebtn"\n              show-text-label\n              label="','"\n            ></simple-toolbar-button>\n            </simple-toolbar-menu-item>\n            <simple-toolbar-menu-item>\n            <simple-toolbar-button\n              ?hidden="','"\n              ?disabled="','"\n              tabindex="','"\n              id="sharebutton"\n              @click="','"\n              icon="social:share"\n              part="sharebtn"\n              show-text-label\n              icon-position="left"\n              label="','"\n            ></simple-toolbar-button>\n            </simple-toolbar-menu-item>\n            <simple-toolbar-menu-item>\n            <simple-toolbar-button\n              ?hidden="','"\n              ?disabled="','"\n              tabindex="','"\n              id="insightsbutton"\n              icon="hax:clipboard-pulse"\n              part="insightsbtn"\n              icon-position="left"\n              @click="','"\n              label="','"\n              show-text-label\n              voice-command="insights"\n            ></simple-toolbar-button>\n            </simple-toolbar-menu-item>\n\n            <simple-toolbar-menu-item>\n              <simple-toolbar-button\n                @click="','"\n                icon-position="left"\n                icon="','"\n                part="manifestbtn"\n                id="manifestbtn"\n                show-text-label\n                ?disabled="','"\n                ?hidden="','"\n                tabindex="','"\n                label="','"\n              ></simple-toolbar-button>\n            </simple-toolbar-menu-item>\n          </simple-toolbar-menu>\n          <slot name="haxcms-site-editor-ui-suffix-buttons"></slot>\n          <simple-toolbar-button\n            icon="hax:wizard-hat"\n            label="','"\n            voice-command="','"\n            icon-position="','"\n            class="merlin top-bar-button"\n            id="merlin"\n            @click="','"\n            data-event="','"\n            show-text-label\n          ></simple-toolbar-button>\n          <super-daemon-search\n            @click="','"\n            @value-changed="','"\n            @drop="','"\n            @dragenter="','"\n            @dragleave="','"\n            @dragover="','"\n            icon="hax:wizard-hat"\n            id="search"\n            voice-search\n            class="merlin"\n            data-event="','"\n            ?hidden="','"\n            mini\n            wand\n            droppable-type="','"\n            ?droppable="','"\n          >\n          </super-daemon-search>\n        </simple-toolbar>\n\n        <app-hax-user-menu slot="right" id="user-menu" part="app-hax-user-menu"\n        ?is-open="','">\n          <button\n            class="topbar-character"\n            slot="menuButton"\n            @click="','"\n          >\n            <rpg-character\n              seed="','"\n              width="68"\n              height="68"\n              part="rpgcharacter"\n              aria-label="','"\n              hat="','"\n            ></rpg-character>\n            <span class="characterbtn-name">','</span>\n            <slot name="haxcms-site-editor-ui-topbar-character-button"></slot>\n          </button>\n          <div slot="pre-menu" class="ops-panel">\n            <slot name="haxcms-site-editor-ui-pre-menu"></slot>\n            <wired-button\n              elevation="1"\n              class="soundToggle"\n              @click="','"\n            >\n              <simple-icon-lite\n                src="','"\n                loading="lazy"\n                decoding="async"\n              ></simple-icon-lite>\n            </wired-button>\n            <haxcms-darkmode-toggle></haxcms-darkmode-toggle>\n          </div>\n          \x3c!-- <app-hax-user-menu-button\n          slot="main-menu"\n          icon="face"\n          label="','"\n        ></app-hax-user-menu-button> --\x3e\n          <slot slot="main-menu" name="haxcms-site-editor-ui-main-menu"></slot>\n          <a class="mysiteslink" href="','" slot="main-menu" part="mysiteslink" tabindex="-1">\n            <app-hax-user-menu-button\n              icon="hax:hax2022"\n              label="','"\n              part="mysitesbtn"\n            ></app-hax-user-menu-button>\n          </a>\n          <app-hax-user-menu-button\n            slot="main-menu"\n            icon="add"\n            label="','"\n            part="newjourneybtn"\n            @click="','"\n          ></app-hax-user-menu-button>\n          <slot slot="post-menu" name="haxcms-site-editor-ui-post-menu"></slot>\n          <app-hax-user-menu-button\n            slot="post-menu"\n            part="logoutbtn"\n            class="logout"\n            label="','"\n            @click=',"\n          ></app-hax-user-menu-button>\n        </app-hax-user-menu>\n      </app-hax-top-bar>\n    "])),this.editMode,this.backLink,this.backText,this.backText,!this.darkMode,this.getIconPosition(this.responsiveSize),this.t.showMore,this.__editIcon,this.getIconPosition(this.responsiveSize),this._editButtonTap,this.__editText,this.getIconPosition(this.responsiveSize),!this.canUndo,this.haxButtonOp,this.t.undo,!this.editMode,this.haxButtonOp,!this.canRedo,!this.editMode,this.t.redo,this.getIconPosition(this.responsiveSize),this.getIconPosition(this.responsiveSize),this._cancelButtonTap,!this.editMode,!this.editMode,this.editMode?"0":"-1",this.t.cancel,this.editMode,this.editMode,this.getIconPosition(this.responsiveSize),this.t.add,this.editMode?"-1":"0",this._addPageClick,this.editMode,this.t.addPage,this.editMode,this.t.addChildPage,this.editMode,this.t.clonePage,this.editMode,this.editMode,this.editMode?"-1":"0",this.getIconPosition(this.responsiveSize),this._deleteButtonTap,this.t.delete,this.haxButtonOp,this.t.configureBlock,!this.editMode,!this.activeTagName||""==this.activeTagName||!this.activeNode||!this.activeNode.tagName,this.t.configure,this.activeTagName,"content-edit"===this.trayDetail,this.getIconPosition(this.responsiveSize),!this.editMode,!this.editMode,this.t.addBlock,"content-add"===this.trayDetail,this.getIconPosition(this.responsiveSize),this.haxButtonOp,!this.editMode,!this.editMode,this.t.findMedia,this.getIconPosition(this.responsiveSize),this.haxButtonOp,!this.editMode,!this.editMode,this.t.pageOutline,this.haxButtonOp,"content-map"===this.trayDetail,this.getIconPosition(this.responsiveSize),this.t.viewSource,this.haxButtonOp,this.getIconPosition(this.responsiveSize),!this.editMode,!this.editMode,this.editMode,this.editMode,this.getIconPosition(this.responsiveSize),this.t.siteActions,this.editMode?"-1":"0",this.editMode,this.editMode,this.editMode?"-1":"0",this._outlineButtonTap,this.t.outlineDesigner,this.editMode,this.editMode,this.editMode?"-1":"0",this._shareButtonTap,this.t.shareSite,this.editMode,this.editMode,this.editMode?"-1":"0",this._insightsButtonTap,this.t.insights,this._manifestButtonTap,this.icon,this.editMode,this.editMode,this.editMode?"0":"-1",this.t.editSettings,this.t.merlin,this.t.merlin,this.getIconPosition(this.responsiveSize),this.haxButtonOp,"xs"===this.responsiveSize?"super-daemon-modal":"super-daemon",this.haxButtonOp,this.haxButtonOp,this.dropEvent,this.dragenterEvent,this.dragleaveEvent,this.dragoverEvent,"xs"===this.responsiveSize?"super-daemon-modal":"super-daemon",["xs"].includes(this.responsiveSize),this.activeType,this.activeDrag,this.userMenuOpen,this.toggleMenu,this.userName,this.t.menu,this.rpgHat,this.userName,this.soundToggle,this.soundIcon,this.t.accountInfo,this.backLink,this.t.mySites,this.t.newJourney,this._addButtonTap,this.t.logOut,this._logout)}},{key:"dropEvent",value:function(e){e.preventDefault(),this.activeDrag=!1,this.activeType=null,N.waveWand(["","/",e,"hax-agent","Agent"],this.shadowRoot.querySelector("#merlin"))}},{key:"dragenterEvent",value:function(e){e.preventDefault(),this.sdSearch.dragover=!0}},{key:"dragoverEvent",value:function(e){e.preventDefault(),this.sdSearch.dragover=!0}},{key:"dragleaveEvent",value:function(e){e.preventDefault(),this.sdSearch.dragover=!1}},{key:"sdCloseEvent",value:function(e){var t=this;setTimeout((function(){t._ignoreReset=!0,t.sdSearch.value=""}),0),this.sdSearch.disabled=!1,this.sdSearch.dragover=!1,this.sdSearch.droppable=!1,this.sdSearch.droppableType=null}},{key:"haxButtonOp",value:function(e){var t=e.target.getAttribute("data-event");switch(t){case"super-daemon":if(!this._ignoreReset||"click"===e.type){var n=this.sdSearch.value;"value-changed"===e.type?n&&N.waveWand([n,"*"],this.shadowRoot.querySelector("#merlin"),null):N.waveWand([n,"*"],this.shadowRoot.querySelector("#merlin"),null),this.sdSearch.value=null,this.sdSearch.disabled=!1,this.sdSearch.dragover=!1,this.sdSearch.droppable=!1,this.sdSearch.droppableType=null}this._ignoreReset=!1;break;case"super-daemon-modal":this._ignoreReset&&"click"!==e.type||(u.playSound("click"),N.open(),D.haxTray.collapsed=!1);break;case"media-program":u.playSound("click"),N.runProgram("sources"),N.open(),D.haxTray.collapsed=!1;break;case"content-edit":case"content-map":case"content-add":D.haxTray.trayDetail==t?D.haxTray.collapsed=!D.haxTray.collapsed:D.haxTray.collapsed=!1,D.haxTray.trayDetail=t;break;case"undo":D.activeHaxBody.undo();break;case"redo":D.activeHaxBody.redo();break;case"view-source":D.haxTray.trayDetail=t,D.haxTray.shadowRoot.querySelector("#view-source").openSource(),D.haxTray.collapsed=!1}}},{key:"_logout",value:function(){globalThis.dispatchEvent(new CustomEvent("jwt-login-logout",{composed:!0,bubbles:!0,cancelable:!1,detail:!0})),this.__logoutUserAction=!0}},{key:"_jwtLoggedIn",value:function(e){!1===e.detail&&this.__logoutUserAction&&(this.__logoutUserAction=!1,setTimeout((function(){globalThis.location.reload()}),100))}},{key:"_addPageClick",value:function(e){!this.editMode&&this.shadowRoot.querySelector("simple-toolbar-menu-item haxcms-button-add:not([hidden])")&&this.shadowRoot.querySelector("simple-toolbar-menu-item haxcms-button-add:not([hidden])").HAXCMSButtonClick()}},{key:"updateAvailableButtons",value:function(){var e=this;this.shadowRoot&&setTimeout((function(){globalThis.appSettings&&globalThis.appSettings.backText&&(e.backText=globalThis.appSettings.backText);[{varPath:"deleteNodePath",selector:"#deletebutton"},{varPath:"saveNodePath",selector:"#editbutton"},{varPath:"createNodePath",selector:"#addbutton"},{varPath:"createNodePath",selector:"#addbuttonchild"},{varPath:"createNodePath",selector:"#duplicatebutton"}].forEach((function(t){globalThis.appSettings&&globalThis.appSettings[t.varPath]&&null!=globalThis.appSettings[t.varPath]&&""!=globalThis.appSettings[t.varPath]&&"null"!=globalThis.appSettings[t.varPath]&&(t.dep?null!=globalThis.appSettings[t.dep]&&""!=globalThis.appSettings[t.dep]&&"null"!=globalThis.appSettings[t.dep]&&e.shadowRoot.querySelector(t.selector).removeAttribute("hidden"):e.shadowRoot.querySelector(t.selector).removeAttribute("hidden"))}))}),100)}},{key:"firstUpdated",value:function(e){var t,n,a,o=this;i(m,"firstUpdated",this,1)&&i(m,"firstUpdated",this,3)([e]),this.shadowRoot.querySelectorAll("[data-super-daemon-path]").forEach((function(e){N.defineOption({title:e.getAttribute("data-super-daemon-label"),icon:e.getAttribute("data-super-daemon-icon"),tags:["page","operation","command","add","create"],value:{target:e},context:"CMS",eventName:"super-daemon-element-click",path:e.getAttribute("data-super-daemon-path")})})),this.sdSearch=this.shadowRoot.querySelector("super-daemon-search"),N.wandTarget=this.shadowRoot.querySelector("#merlin"),N.defineOption({title:this.t.save,icon:"icons:save",tags:["CMS","save","page","operation","command"],value:{target:this,method:"_editButtonTap"},context:"HAX",eventName:"super-daemon-element-method",path:"CMS/action/save"}),N.defineOption({title:this.t.insights,icon:"hax:clipboard-pulse",tags:["CMS","insights","data","operation"],value:{target:this,method:"_insightsButtonTap"},context:"CMS",eventName:"super-daemon-element-method",path:"CMS/site/insights"}),N.defineOption({title:this.t.edit,icon:"hax:page-edit",tags:["CMS","edit","page","operation","command"],value:{target:this,method:"_editButtonTap"},context:"CMS",eventName:"super-daemon-element-method",path:"CMS/action/edit"}),N.defineOption({title:this.t.siteSettings,icon:"hax:site-settings",tags:["CMS","site","settings","operation","command","theme","seo","author"],value:{target:this,method:"_manifestButtonTap",args:[{target:this.shadowRoot.querySelector("#manifestbtn")}]},context:"CMS",eventName:"super-daemon-element-method",path:"CMS/action/site/settings"}),N.defineOption({title:this.t.themeSettings,icon:"hax:site-settings",tags:["CMS","site","settings","operation","command","theme","seo","author"],value:{target:this,method:"_manifestButtonTap",args:[{target:this.shadowRoot.querySelector("#manifestbtn")}]},context:"CMS",eventName:"super-daemon-element-method",path:"CMS/action/site/settings/theme"}),N.defineOption({title:this.t.seoSettings,icon:"hax:site-settings",tags:["CMS","site","settings","operation","command","theme","seo","search","engine"],value:{target:this,method:"_manifestButtonTap",args:[{target:this.shadowRoot.querySelector("#manifestbtn")}]},context:"CMS",eventName:"super-daemon-element-method",path:"CMS/action/site/settings/seo"}),N.defineOption({title:this.t.authorSettings,icon:"hax:site-settings",tags:["CMS","site","settings","operation","command","theme","author"],value:{target:this,method:"_manifestButtonTap",args:[{target:this.shadowRoot.querySelector("#manifestbtn")}]},context:"CMS",eventName:"super-daemon-element-method",path:"CMS/action/site/settings/author"}),N.defineOption({title:this.t.shareSite,icon:"social:share",tags:["CMS","share"],value:{target:this,method:"_shareButtonTap"},context:["logged-in","CMS","HAX"],eventName:"super-daemon-element-method",path:"CMS/action/share"}),N.defineOption({title:this.t.newJourney,icon:"add",tags:["CMS","create","new site"],value:{target:this,method:"_addButtonTap"},context:"CMS",eventName:"super-daemon-element-method",path:"CMS/action/create-site"}),N.defineOption({title:this.t.logOut,icon:"add",tags:["CMS","user","logout"],value:{target:this,method:"_logout"},context:["logged-in","CMS"],eventName:"super-daemon-element-method",path:"CMS/user/logout"}),N.defineOption({title:"Dark mode toggle",icon:"device:brightness-medium",tags:["CMS","dark mode"],value:{target:this.shadowRoot.querySelector("haxcms-darkmode-toggle"),method:"toggle"},voice:"(toggle) dark mode",eventName:"super-daemon-element-method",path:"CMS/action/darkMode"}),N.defineOption({title:"Sound toggle",icon:"av:volume-up",tags:["CMS","sound"],value:{target:this.shadowRoot.querySelector(".soundToggle")},eventName:"super-daemon-element-click",path:"CMS/action/sound"}),N.defineOption({title:this.t.outlineDesigner,icon:"hax:site-map",tags:["CMS","outline","designer","site outline","operation","command"],value:{target:this.shadowRoot.querySelector("#outlinebutton")},context:["CMS"],eventName:"super-daemon-element-click",path:"CMS/action/outline"}),N.defineOption({title:"Load HAXSchema",icon:"hax:hax2022",tags:["Developer","schema","load","demo","testing"],eventName:"super-daemon-run-program",path:">hax/loadElement",context:[">"],value:{name:"Load HAXSchema",context:">",program:(t=v(x().mark((function e(t,n){var a,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=globalThis.WCAutoload.requestAvailability(),i=[],Object.keys(a.registry.list).forEach(function(){var e=v(x().mark((function e(n){var o,s;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o="hax:hax2022",globalThis.customElements.get(n)&&globalThis.customElements.get(n).haxProperties&&globalThis.customElements.get(n).haxProperties.gizmo&&(o=globalThis.customElements.get(n).haxProperties.gizmo.icon),(""==t||n.includes(t))&&((s={})[n]=a.registry.list[n],i.push({title:n,icon:o,tags:["schema"],value:{target:globalThis.HaxStore.instance,method:"_handleDynamicImports",args:[s,globalThis.HaxStore.instance.haxAutoloader]},eventName:"super-daemon-element-method",context:[">",">hax/loadElement/"+n],path:">hax/loadElement/"+n}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})}}),N.defineOption({title:"Change theme temporarily",icon:"image:style",tags:["Developer","theme"],eventName:"super-daemon-run-program",path:">settings/theme",context:[">"],more:p(me||(me=s(["<span\n        >Change theme just for the current browsing session</span\n      >"]))),voice:"change theme (temporarily)",value:{name:"Change theme",context:">",program:(n=v(x().mark((function e(t,n){var a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],["clean-one","clean-two","clean-portfolio-theme","glossy-portfolio-theme","journey-theme","journey-sidebar-theme","journey-topbar-theme","learn-two-theme","polaris-theme","polaris-invent-theme","polaris-flex-theme","polaris-flex-sidebar","ddd-brochure-theme","collections-theme","training-theme","bootstrap-theme","outline-player","haxor-slevin"].forEach(function(){var e=v(x().mark((function e(n){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(""==t||n.includes(t))&&a.push({title:n.replace("-theme","").replace("-"," "),icon:"image:style",tags:["theme"],value:{target:globalThis.HAXCMS,method:"setTheme",args:[n]},eventName:"super-daemon-element-method",context:[">",">settings/theme/"+n],path:">settings/theme/"+n});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)})}}),N.defineOption({title:"HAX Labs",icon:"hax:hax2022",tags:["Developer","labs","experiments"],eventName:"super-daemon-element-method",path:">hax/labs",context:[">"],value:{target:this,method:"enableLabExperiments",args:[]}}),N.defineOption({title:"Go to site",icon:"hax:hax2022",tags:["Developer","change","sites","administration"],eventName:"super-daemon-run-program",path:"/hax/changeSite",context:["CMS"],value:{name:"Go to site",context:"CMS",program:(a=v(x().mark((function e(t,n){var a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,fetch("./../../system/api/listSites").then((function(e){return e.ok?e.json():[]})).then((function(e){e.data&&e.data.items.length>0&&e.data.items.forEach(function(){var e=v(x().mark((function e(n){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(""==t||n.metadata.site&&n.metadata.site.name&&n.metadata.site.name.includes(t)&&u.manifest.metadata.site.name!=n.metadata.site.name)&&a.push({title:n.title,icon:n.metadata.theme.variables.icon,tags:["site",n.description],value:{target:o,method:"goToLocation",args:[n.slug]},eventName:"super-daemon-element-method",context:["/","/hax/changeSite/"+n.metadata.site.name],path:"/hax/changeSite/"+n.metadata.site.name});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)}))),function(e,t){return a.apply(this,arguments)})}}),this.updateAvailableButtons(),this.dispatchEvent(new CustomEvent("haxcms-load-user-data",{bubbles:!0,composed:!0,cancelable:!1,detail:!0}))}},{key:"enableLabExperiments",value:function(){t.import("./7e459606.js"),t.import("./a2ddec98.js")}},{key:"goToLocation",value:function(e){globalThis.location=e}},{key:"updated",value:function(e){var t=this;i(m,"updated",this,1)&&i(m,"updated",this,3)([e]),e.forEach((function(e,n){"userMenuOpen"===n&&void 0!==e&&(t.userMenuOpen?t.rpgHat="edit":t.rpgHat="none"),"responsiveSize"===n&&(["xs","sm","md"].includes(t[n])?(t.editMode?t.__editText=t.t.save:t.__editText=t.t.edit,t.t.configureBlock="Configure",t.t.addBlock="Block",t.t.findMedia="Media",t.t.pageOutline="Outline",t.t.viewSource="Source"):(t.editMode?t.__editText=t.t.save:t.__editText=t.t.edit,t.t.configureBlock="Configure block",t.t.addBlock="Add block",t.t.findMedia="Find media",t.t.pageOutline="Page outline",t.t.viewSource="View source")),"editMode"==n&&(t.editMode?t.rpgHat="construction":t.rpgHat="none",void 0!==e&&N.close(),t._editModeChanged(t[n],e),t.dispatchEvent(new CustomEvent("edit-mode-changed",{detail:t[n]}))),"manifestEditMode"==n&&(t._manifestEditModeChanged(t[n],e),t.dispatchEvent(new CustomEvent("manifest-edit-mode-changed",{detail:t[n]})))}))}},{key:"_redoChanged",value:function(e){this.canRedo=e.detail.value}},{key:"_undoChanged",value:function(e){this.canUndo=e.detail.value}},{key:"connectedCallback",value:function(){var e=this;i(m,"connectedCallback",this,3)([]),c((function(t){u.userData&&(e.userName=h(u.userData.userName),e.userPicture=h(u.userData.userPicture),e.updateAvailableButtons()),e.__disposer.push(t)})),c((function(t){e.editMode=h(u.editMode),I.writeMemory("editMode",e.editMode),e.__disposer.push(t)})),c((function(t){e.manifest=h(u.manifest),e.icon="hax:site-settings",e.__disposer.push(t)})),c((function(t){e.pageAllowed=h(u.pageAllowed),e.__disposer.push(t)})),c((function(t){var n=h(u.activeItem);e.updateAvailableButtons(),n&&n.id&&!n._internalRoute?(e.activeTitle=n.title,u.pageAllowed=!0):u.pageAllowed=!1,e.__disposer.push(t)}))}},{key:"disconnectedCallback",value:function(){for(var e in this.__disposer)this.__disposer[e].dispose();i(m,"disconnectedCallback",this,3)([])}},{key:"_editButtonTap",value:function(e){if(this.editMode&&"view-source"===D.haxTray.trayDetail&&!globalThis.confirm(this.t.confirmHtmlSourceExit))return!1;u.playSound("click"),this.editMode=!this.editMode,this.editMode||this.dispatchEvent(new CustomEvent("haxcms-save-node",{bubbles:!0,composed:!0,cancelable:!1,detail:u.activeItem})),globalThis.dispatchEvent(new CustomEvent("simple-modal-hide",{bubbles:!0,cancelable:!0,detail:{}}))}},{key:"_insightsButtonTap",value:function(e){u.playSound("click");var t=globalThis.document.createElement("haxcms-site-insights"),n=new CustomEvent("simple-modal-show",{bubbles:!0,composed:!0,cancelable:!1,detail:{title:this.t.insights,styles:{"--simple-modal-titlebar-background":"black","--simple-modal-titlebar-color":"var(--hax-ui-background-color)","--simple-modal-width":"94vw","--simple-modal-min-width":"300px","--simple-modal-z-index":"100000000","--simple-modal-height":"94vh","--simple-modal-min-height":"300px","--simple-modal-titlebar-height":"80px"},elements:{content:t},invokedBy:this.shadowRoot.querySelector("#insightsbutton"),clone:!1,modal:!1}});globalThis.dispatchEvent(n)}},{key:"_cancelButtonTap",value:(g=v(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.activeHaxBody.haxToContent();case 2:if(e.sent==this._originalContent||globalThis.confirm(this.t.unsavedChangesWillBeLostIfSelectingOkAreYouSure)){e.next=5;break}return e.abrupt("return",!1);case 5:this.editMode=!1,u.playSound("error"),this.dispatchEvent(new CustomEvent("hax-cancel",{bubbles:!0,composed:!0,cancelable:!1,detail:t.detail})),globalThis.dispatchEvent(new CustomEvent("simple-modal-hide",{bubbles:!0,cancelable:!0,detail:{}}));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"_deleteButtonTap",value:function(e){u.playSound("click");var t=globalThis.document.createElement("span");t.innerHTML='"'.concat(u.activeItem.title,'" will be removed from the outline but its content stays on the file system.');var n=globalThis.document.createElement("button");n.appendChild(globalThis.document.createTextNode("Confirm")),n.classList.add("hax-modal-btn"),n.addEventListener("click",this._deleteActive.bind(this));var a=globalThis.document.createElement("button");a.appendChild(globalThis.document.createTextNode("cancel")),a.addEventListener("click",(function(){return u.playSound("error")})),a.setAttribute("dialog-dismiss","dialog-dismiss"),a.classList.add("hax-modal-btn"),a.classList.add("cancel");var i=globalThis.document.createElement("span");i.appendChild(n),i.appendChild(a);var o=new CustomEvent("simple-modal-show",{bubbles:!0,composed:!0,cancelable:!1,detail:{title:"Are you sure you want to delete this page?",styles:{"--simple-modal-titlebar-background":"black","--simple-modal-titlebar-color":"var(--hax-ui-background-color)","--simple-modal-width":"25vw","--simple-modal-min-width":"300px","--simple-modal-z-index":"100000000","--simple-modal-height":"15vh","--simple-modal-min-height":"300px","--simple-modal-titlebar-height":"80px"},elements:{content:t,buttons:i},invokedBy:this.shadowRoot.querySelector("#deletebutton"),clone:!1,modal:!0}});globalThis.dispatchEvent(o)}},{key:"_deleteActive",value:function(e){u.playSound("click");var t=new CustomEvent("haxcms-delete-node",{bubbles:!0,composed:!0,cancelable:!1,detail:{item:u.activeItem}});this.dispatchEvent(t)}},{key:"_shareButtonTap",value:function(e){u.playSound("click");var t=new CustomEvent("simple-modal-show",{bubbles:!0,composed:!0,cancelable:!1,detail:{title:this.t.shareSite,styles:{"--simple-modal-titlebar-background":"black","--simple-modal-titlebar-color":"var(--hax-ui-background-color)","--simple-modal-width":"55vw","--simple-modal-min-width":"300px","--simple-modal-z-index":"100000000","--simple-modal-height":"50vh","--simple-modal-min-height":"300px","--simple-modal-titlebar-height":"80px"},elements:{content:globalThis.document.createElement("haxcms-share-dialog")},invokedBy:this.shadowRoot.querySelector("#sharebutton"),clone:!1,modal:!1}});globalThis.dispatchEvent(t)}},{key:"_outlineButtonTap",value:function(e){u.playSound("click");var t=new CustomEvent("simple-modal-show",{bubbles:!0,composed:!0,cancelable:!1,detail:{title:this.t.outlineDesigner,styles:{"--simple-modal-titlebar-background":"black","--simple-modal-titlebar-color":"var(--hax-ui-background-color)","--simple-modal-z-index":"100000000","--simple-modal-titlebar-height":"80px","--simple-modal-width":"85vw","--simple-modal-max-width":"85vw","--simple-modal-height":"85vh","--simple-modal-max-height":"85vh"},elements:{content:globalThis.document.createElement("haxcms-outline-editor-dialog")},invokedBy:this.shadowRoot.querySelector("#outlinebutton"),clone:!1,modal:!0}});globalThis.dispatchEvent(t)}},{key:"_addButtonTap",value:function(){var e=this;u.playSound("click"),setTimeout((function(){globalThis.location=e.backLink+"createSite-step-1"}),100)}},{key:"_manifestButtonTap",value:function(e){var n=this;u.playSound("click"),globalThis.dispatchEvent(new CustomEvent("simple-modal-hide",{bubbles:!0,cancelable:!0,detail:{}})),t.import("./1501e81a.js").then((function(){globalThis.dispatchEvent(new CustomEvent("simple-modal-show",{bubbles:!0,composed:!0,cancelable:!1,detail:{title:n.t.editSettings,styles:{"--simple-modal-titlebar-background":"black","--simple-modal-titlebar-color":"var(--hax-ui-background-color)","--simple-modal-z-index":"100000000","--simple-modal-titlebar-height":"80px","--simple-modal-width":"85vw","--simple-modal-max-width":"85vw","--simple-modal-height":"85vh","--simple-modal-max-height":"85vh"},elements:{content:globalThis.document.createElement("haxcms-site-dashboard")},invokedBy:n.shadowRoot.querySelector("#manifestbtn"),clone:!1,modal:!0}})),setTimeout((function(){globalThis.dispatchEvent(new CustomEvent("haxcms-load-site-dashboard",{bubbles:!0,composed:!0,cancelable:!1,detail:e.target}))}),0)}))}},{key:"_editModeChanged",value:function(e,t){var n=this;e?(setTimeout(v(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.activeHaxBody.haxToContent();case 2:n._originalContent=e.sent;case 3:case"end":return e.stop()}}),e)}))),100),this.__editIcon="icons:save",this.__editText=this.t.save,N.appendContext("HAX"),N.removeContext("CMS")):(this.__editIcon="hax:page-edit",this.__editText=this.t.edit,N.appendContext("CMS"),N.removeContext("HAX")),"undefined"!==P(t)&&(u.editMode=e,e&&(D.haxTray.collapsed=!1))}},{key:"_outlineEditModeChanged",value:function(e,t){this.dispatchEvent(new CustomEvent("haxcms-outline-edit-mode-changed",{bubbles:!0,composed:!0,cancelable:!1,detail:e}))}},{key:"_manifestEditModeChanged",value:function(e,t){this.dispatchEvent(new CustomEvent("haxcms-manifest-edit-mode-changed",{bubbles:!0,composed:!0,cancelable:!1,detail:e}))}}],[{key:"styles",get:function(){return[i(m,"styles",this),o(ge||(ge=s(['\n        :host *:not(:defined) {\n          display: none;\n        }\n        :host {\n          display: block;\n          position: relative;\n          height: 56px;\n          left: 0;\n          top: 0;\n          right: 0;\n          margin-top: 0;\n          opacity: 1;\n          transition: all 0.6s ease-in-out;\n          z-index: 10000;\n          visibility: visible;\n        }\n        :host([edit-mode]) {\n          z-index: 9999;\n        }\n        :host *[hidden] {\n          display: none;\n        }\n        simple-tooltip:not(:defined) {\n          display: none !important;\n        }\n        :host([painting]) {\n          opacity: 0;\n          margin-top: -48px;\n          visibility: hidden;\n        }\n        #editbutton {\n          visibility: hidden;\n          opacity: 0;\n        }\n\n        #deletebutton {\n          visibility: hidden;\n          opacity: 0;\n        }\n\n        :host([page-allowed]) #editbutton,\n        :host([page-allowed]) #editdetails,\n        :host([page-allowed]) #deletebutton {\n          visibility: visible;\n          opacity: 1;\n        }\n        #addmenubutton,\n        #addmenubutton haxcms-button-add,\n        #editbutton[icon="icons:save"] {\n          color: var(--simple-colors-default-theme-green-11);\n          background-color: var(--simple-colors-default-theme-grey-1);\n        }\n\n        haxcms-button-add {\n          background-color: var(--simple-colors-default-theme-grey-1);\n        }\n\n        simple-toolbar-menu-item a {\n          color: var(--simple-colors-default-theme-grey-12);\n          text-decoration: none;\n        }\n\n        #deletebutton,\n        #cancelbutton {\n          color: var(--simple-colors-default-theme-red-11);\n        }\n        .merlin {\n          color: var(--simple-colors-default-theme-purple-11);\n        }\n        simple-toolbar-button.top-bar-button::part(button) {\n          --simple-toolbar-button-border-width: 1px;\n          border-top: 0;\n          border-bottom: 0;\n        }\n        simple-toolbar-button.merlin:hover,\n        simple-toolbar-button.merlin:active,\n        simple-toolbar-button.merlin:focus {\n          background-color: var(--simple-colors-default-theme-purple-1);\n          color: light-darK(black, white);\n        }\n        #deletebutton:hover,\n        #deletebutton:active,\n        #deletebutton:focus,\n        #cancelbutton:hover,\n        #cancelbutton:active,\n        #cancelbutton:focus {\n          background-color: var(--simple-colors-default-theme-red-1);\n        }\n        simple-toolbar-menu:hover,\n        simple-toolbar-menu:active,\n        simple-toolbar-menu:focus,\n        simple-toolbar-button:hover,\n        simple-toolbar-button:active,\n        simple-toolbar-button:focus,\n        haxcms-button-add:hover,\n        haxcms-button-add:active,\n        haxcms-button-add:focus {\n          background-color: var(--hax-ui-background-color-accent);\n          color: var(--hax-ui-color);\n        }\n        simple-toolbar-button:hover,\n        simple-toolbar-button:active,\n        simple-toolbar-button:focus,\n        haxcms-button-add:hover,\n        haxcms-button-add:active,\n        haxcms-button-add:focus {\n          --simple-toolbar-border-color: black;\n        }\n        :host(:hover),\n        :host(:active),\n        :host(:focus) {\n          opacity: 1;\n        }\n        simple-tooltip {\n          --simple-tooltip-background: #000000;\n          --simple-tooltip-opacity: 1;\n          --simple-tooltip-text-color: #ffffff;\n          --simple-tooltip-delay-in: 0;\n          --simple-tooltip-duration-in: 300ms;\n          --simple-tooltip-duration-out: 0;\n          --simple-tooltip-border-radius: 0;\n          --simple-tooltip-font-size: 14px;\n          font-family: "Press Start 2P", sans-serif;\n        }\n        app-hax-top-bar {\n          z-index: 1000;\n          right: 8px;\n          left: 8px;\n          position: fixed;\n          transition-delay: 0.9s;\n          transition: all 0.9s ease-in-out;\n        }\n        app-hax-top-bar[edit-mode] {\n          right: 0px;\n          left: 0px;\n        }\n        :host([dark-mode]) app-hax-top-bar {\n          --bg-color: #222;\n          --accent-color: #fff;\n        }\n        app-hax-top-bar::part(top-bar) {\n          grid-template-columns: 5% 85% 10%;\n          overflow: visible;\n        }\n        .haxLogo {\n          color: var(--simple-colors-default-theme-accent-11, black);\n        }\n        :host([dark-mode]) .haxLogo:hover,\n        :host([dark-mode]) .haxLogo:focus,\n        :host([dark-mode]) .haxLogo:active,\n        .haxLogo:hover,\n        .haxLogo:focus,\n        .haxLogo:active {\n          color: var(--haxcms-color);\n        }\n        .haxLogo simple-icon-lite {\n          --simple-icon-height: 32px;\n          --simple-icon-width: 32px;\n          margin: 8px;\n          transition: all 0.3s ease-in-out;\n        }\n        .soundToggle {\n          position: relative;\n          display: inline-flex;\n          vertical-align: top;\n        }\n\n        .soundToggle img {\n          width: 24px;\n          height: 24px;\n        }\n\n        :host([edit-mode]) simple-toolbar simple-toolbar-button,\n        :host([edit-mode]) simple-toolbar simple-toolbar-menu {\n          --simple-toolbar-border-color: #dddddd;\n        }\n\n        simple-toolbar simple-toolbar-button,\n        simple-toolbar simple-toolbar-menu {\n          --simple-toolbar-border-radius: 0;\n          background-color: var(--simple-colors-default-theme-grey-1);\n        }\n\n        app-hax-search-bar {\n          vertical-align: middle;\n          display: inline-flex;\n        }\n        simple-toolbar {\n          align-items: stretch;\n          justify-content: center;\n          height: var(--top-bar-height);\n          --simple-toolbar-button-disabled-border-color: transparent;\n          --simple-toolbar-button-disabled-opacity: 0.3;\n          --simple-toolbar-button-padding: 3px 6px;\n        }\n        simple-toolbar[dark-mode] {\n          --simple-toolbar-button-color: #e0e0e0;\n          --simple-toolbar-button-hover-color: #fff;\n          --simple-toolbar-button-bg: #222;\n          --simple-toolbar-button-hover-bg: #000;\n        }\n        simple-toolbar::part(buttons) {\n          flex: 0 1 auto;\n        }\n        .ops-panel {\n          justify-content: space-around;\n          display: flex;\n          padding: 4px 0px;\n        }\n\n        .topbar-character {\n          cursor: pointer;\n          display: inline-block;\n          border: none;\n          border-radius: 0px;\n          padding: 0 8px;\n          margin: 0 0 0 16px;\n          background-color: transparent;\n          height: 48px;\n          max-width: 160px;\n          overflow: hidden;\n          word-break: break-all;\n          transition: all 0.6 ease-in-out;\n          color: #222;\n        }\n        .characterbtn-name {\n          font-family: "Press Start 2P", sans-serif;\n          margin-left: 8px;\n          font-size: 12px;\n          vertical-align: bottom;\n          line-height: 48px;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          height: 48px;\n          word-break: break-all;\n        }\n        :host([dark-mode]) .topbar-character,\n        :host([dark-mode]) .topbar-character {\n          color: #e0e0e0;\n          background-color: #222;\n        }\n        .topbar-character rpg-character {\n          margin: -4px -14px 0px -10px;\n          height: 52px;\n          width: 64px;\n          display: inline-block;\n          transform: scale(0.7);\n          transition: all 0.5 ease-in-out;\n        }\n        .topbar-character:hover rpg-character,\n        .topbar-character:focus rpg-character {\n          transform: scale(0.9);\n        }\n\n        .mysiteslink {\n          text-decoration: none;\n        }\n\n        .logout::part(menu-button) {\n          background-image: url("','");\n          background-repeat: no-repeat;\n          background-position: center center;\n          text-align: center;\n          background-size: cover;\n          border-top: 0px;\n          border-bottom: 0px;\n          padding: 10px;\n          font-family: "Press Start 2P", sans-serif;\n        }\n        app-hax-user-menu app-hax-user-menu-button::part(menu-button) {\n          font-family: "Press Start 2P", sans-serif;\n          font-size: 12px;\n        }\n        simple-toolbar-menu,\n        simple-toolbar-button {\n          min-width: 48px;\n          margin: 0;\n          --simple-toolbar-border-color: #dddddddd;\n        }\n\n        @media screen and (max-width: 800px) {\n          :host([edit-mode]) {\n            bottom: unset;\n          }\n          app-hax-top-bar::part(top-bar) {\n            display: grid;\n          }\n          #undo,\n          #redo {\n            display: none;\n          }\n          .topbar-character {\n            padding: 0;\n            margin: 0;\n          }\n          .characterbtn-name {\n            padding: 0;\n            margin: 0;\n            width: 30px;\n            display: inline-flex;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            letter-spacing: -2px;\n            margin-left: -6px;\n          }\n          simple-toolbar {\n            --simple-toolbar-button-padding: 3px 3px;\n          }\n          .characterbtn-name,\n          haxcms-button-add,\n          simple-toolbar-menu,\n          simple-toolbar-button {\n            font-size: 10px;\n          }\n          simple-toolbar-menu {\n            --icon-offset-right: 2px;\n            --icon-offset-left: 2px;\n          }\n          simple-toolbar-menu::part(dropdown-icon) {\n            right: 0;\n            top: 10px;\n          }\n          :host([edit-mode]) #deletebutton,\n          :host([edit-mode]) #addmenubutton,\n          :host([edit-mode]) #editdetails {\n            display: none;\n          }\n        }\n        @media (max-width: 600px) {\n          .haxLogo {\n            display: none;\n          }\n\n          .topbar-character rpg-character {\n            margin: 0 0 0px -8px;\n            height: 10px;\n            width: 48px;\n          }\n          simple-toolbar {\n            --simple-toolbar-button-padding: 0px;\n            justify-content: space-between;\n            background-color: white;\n            height: auto;\n          }\n          .characterbtn-name {\n            padding: 0px;\n            margin: -42px 8px 0px 0px;\n            width: 40px;\n            display: block;\n            text-overflow: ellipsis;\n            font-size: 12px;\n            font-family: auto;\n            letter-spacing: normal;\n            font-weight: normal;\n          }\n        }\n      '])),B(ve))]}},{key:"tag",get:function(){return"haxcms-site-editor-ui"}},{key:"properties",get:function(){return l(l({},i(m,"properties",this)),{},{userName:{type:String,attribute:"user-name"},activeDrag:{type:Boolean},activeType:{type:String},activeNode:{type:Object},activeTagName:{type:String},canUndo:{type:Boolean,attribute:"can-undo"},canRedo:{type:Boolean,attribute:"can-redo"},rpgHat:{type:String},userPicture:{type:String,attribute:"user-picture"},userMenuOpen:{type:Boolean},soundIcon:{type:String},darkMode:{type:Boolean,reflect:!0,attribute:"dark-mode"},backLink:{type:String},backText:{type:String},__editIcon:{type:String},__editText:{type:String},painting:{type:Boolean,reflect:!0},pageAllowed:{type:Boolean,attribute:"page-allowed",reflect:!0},editMode:{type:Boolean,reflect:!0,attribute:"edit-mode"},manifestEditMode:{type:Boolean,attribute:"manifest-edit-mode",reflect:!0},activeTitle:{type:String,attribute:"active-title"},manifest:{type:Object},icon:{type:String}})}}]);var g,b,f,y}(q(m(O(R(H))))));globalThis.customElements.define(xe.tag,xe)}}}));
