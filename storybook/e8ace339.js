System.register(["./be7cca87.js"],(function(e,t){"use strict";var i,n,r,o,l,a,s,u,c,h,d;return{setters:[function(e){i=e.q,n=e._,r=e.a,o=e.f,l=e.g,a=e.K,s=e.c,u=e.d,c=e.j,h=e.l,d=e.O}],execute:function(){var p,m,g=new AbortController;function b(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":not(:defined)";clearTimeout(p),p=setTimeout((function(){var r=t+"[laser-loader]"+n;e&&(r=t+n),i(document.body.querySelectorAll("replace-tag,"+r)).map((function(t){e&&t.setAttribute("laser-loader","laser-loader");var i=t.getBoundingClientRect();t.style.setProperty("--laserEdgeAni-width",i.width+"px"),t.style.setProperty("--laserEdgeAni-innerWidth",i.width-2+"px"),t.style.setProperty("--laserEdgeAni-innerHeight",i.height-2+"px"),t.style.setProperty("--laserEdgeAni-height",i.height+"px"),customElements.whenDefined(t.localName).then((function(e){"replace-tag"!=t.localName&&(t.setAttribute("loaded","loaded"),t.removeAttribute("laser-loader"),t.style.setProperty("--laserEdgeAni-width",null),t.style.setProperty("--laserEdgeAni-innerWidth",null),t.style.setProperty("--laserEdgeAni-height",null),t.style.setProperty("--laserEdgeAni-innerHeight",null),setTimeout((function(){t.removeAttribute("popup-loader"),setTimeout((function(){t.removeAttribute("loaded")}),1e3)}),1e3))}))}))}),10)}globalThis.addEventListener("resize",(function(){clearTimeout(m),m=setTimeout((function(){globalThis.document.body.querySelectorAll("replace-tag,:not(:defined)").length>0?b():g.abort()}),100)}),{signal:g.signal});var v=e("ReplaceTag",function(e){function t(){var e;if(s(this,t),(e=u(this,t)).getAttribute("importing-text")&&(e.importingText=e.getAttribute("importing-text")),e.exists=!0,customElements.get(e.getAttribute("with"))){var i={};if(null!=e.getAttribute("import-only"))e.exists=!1,setTimeout((function(){e.remove()}),0);else{for(var n=0,r=e.attributes,o=r.length;n<o;n++)i[r[n].nodeName]=r[n].nodeValue;var l=globalThis.document.createElement(i.with);for(var n in i)if(null!=i[n])try{l.setAttribute(n,i[n])}catch(e){console.warn("Invalid Attribute Name detected: "+n)}l.removeAttribute("laser-loader"),l.removeAttribute("with"),l.removeAttribute("import-method"),l.removeAttribute("importing-text"),l.innerHTML=e.innerHTML,e.replaceWith(l)}}else customElements.whenDefined(e.getAttribute("with")).then((function(t){var i={};if(null!=e.getAttribute("import-only"))e.exists=!1,setTimeout((function(){e.remove()}),0);else{for(var n=0,r=e.attributes,o=r.length;n<o;n++)i[r[n].nodeName]=r[n].nodeValue;var l=globalThis.document.createElement(i.with);for(var n in l.setAttribute("popup-loader","popup-loader"),i)if(null!=i[n])try{l.setAttribute(n,i[n])}catch(e){console.warn("Invalid Attribute Name detected: "+n)}l.removeAttribute("laser-loader"),l.innerHTML=e.innerHTML,e.replaceWith(l),setTimeout((function(){l.removeAttribute("popup-loader"),l.removeAttribute("with"),l.removeAttribute("import-method"),l.removeAttribute("importing-text"),l.removeAttribute("laser-loader"),l.style.setProperty("--laserEdgeAni-width",null),l.style.setProperty("--laserEdgeAni-innerWidth",null),l.style.setProperty("--laserEdgeAni-height",null),l.style.setProperty("--laserEdgeAni-innerHeight",null)}),250)}setTimeout((function(){globalThis.document.body.querySelectorAll('replace-tag[with="'+i.with+'"]').forEach((function(e){e.runReplacement()}))}),0)}));return e.exists&&(e.template=globalThis.document.createElement("template"),e.attachShadow({mode:"open"})),e}return n(t,e),r(t,[{key:"html",get:function(){return'\n    <style>\n    :host {\n      display: block;\n      opacity: .2;\n      transition: .3s linear opacity,.3s linear outline,.3s linear visibility,.3s linear display;\n    }\n    :host([import]) {\n      opacity: .1 !important;\n      background-color: transparent !important;\n      color: transparent !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      font-size: 2px !important;\n      line-height: 2px !important;\n      height:2px;\n    }\n    div {\n      font-size: 12px;\n    }\n    :host(:not([import-method="click"])) {\n      background-color: #FEFEFE33;\n      font-size: 12px;\n      opacity: .8;\n      margin: 12px;\n      padding: 12px;\n    }\n    :host(:not([import-method="click"]):hover) {\n      opacity: 1 !important;\n      outline: 1px solid black;\n      cursor: pointer;\n    }\n    :host([hidden]) {\n      display: none;\n    }\n    </style>\n<div>'.concat(this.importingText,"</div>")}},{key:"render",value:function(){this.exists&&(this.shadowRoot.innerHTML=null,this.template.innerHTML=this.html,globalThis.ShadyCSS&&globalThis.ShadyCSS.prepareTemplate(this.template,this.tag),this.shadowRoot.appendChild(this.template.content.cloneNode(!0)))}}],[{key:"tag",get:function(){return"replace-tag"}}])}(function(e){function i(){return s(this,i),u(this,i)}return n(i,e),r(i,[{key:"connectedCallback",value:function(){o(l(i.prototype),"connectedCallback",this)&&o(l(i.prototype),"connectedCallback",this).call(this),this.evaluateReplaceMethod()}},{key:"performanceBasedReplacement",value:function(){this.setAttribute("laser-loader","laser-loader"),this.importingText||(this.importingText="Loading..."),this.render(),this.runReplacement()}},{key:"evaluateReplaceMethod",value:(p=c(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(),e.next=3,d.badDevice();case 3:t=e.sent,"view"!=this.getAttribute("import-method")&&null==this.getAttribute("import-only")&&t&&(this.importingText||(this.importingText="Click to load"),this.addEventListener("click",this.performanceBasedReplacement)),t&&null==this.getAttribute("import-only")&&"view"!=this.getAttribute("import-method")||(this.setAttribute("laser-loader","laser-loader"),this.importingText||(this.importingText="Loading..."),this.intersectionObserver||(this.intersectionObserver=new IntersectionObserver(this.handleIntersectionCallback.bind(this),{rootMargin:"0px",threshold:[0,.25,.5,.75,1],delay:150}),this.intersectionObserver.observe(this))),this.render();case 7:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"handleIntersectionCallback",value:function(e){var t,i=a(e);try{for(i.s();!(t=i.n()).done;){var n=t.value;Number(n.intersectionRatio).toFixed(2)>=.25&&(this.intersectionObserver&&this.intersectionObserver.disconnect(),this.intersectionObserver=null,this.runReplacement())}}catch(e){i.e(e)}finally{i.f()}}},{key:"runReplacement",value:function(){var e=this;this.getAttribute("with")?t.import("./fbd4ce17.js").then((function(){globalThis.WCAutoload.process().then((function(){globalThis.WCAutoload.requestAvailability().registry.loadDefinition(e.getAttribute("with"))}))})):console.warn("replace-tag requires use of with attribute for what to upgrade to")}}]);var p}(HTMLElement)));customElements.define(v.tag,v)}}}));
