System.register(["./9b1def34.js"],(function(t,e){"use strict";var n,i,r,o,a,l,s,u,c,d,h;return{setters:[function(t){n=t.p,i=t._,r=t.a,o=t.f,a=t.g,l=t.K,s=t.c,u=t.d,c=t.j,d=t.k,h=t.O}],execute:function(){var p,m,g=new AbortController;function v(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":not(:defined)";clearTimeout(p),p=setTimeout((function(){var r=e+"[laser-loader]"+i;t&&(r=e+i),n(document.body.querySelectorAll("replace-tag,"+r)).map((function(e){t&&e.setAttribute("laser-loader","laser-loader");var n=e.getBoundingClientRect();e.style.setProperty("--laserEdgeAni-width",n.width+"px"),e.style.setProperty("--laserEdgeAni-innerWidth",n.width-2+"px"),e.style.setProperty("--laserEdgeAni-innerHeight",n.height-2+"px"),e.style.setProperty("--laserEdgeAni-height",n.height+"px"),customElements.whenDefined(e.localName).then((function(t){"replace-tag"!=e.localName&&(e.setAttribute("loaded","loaded"),e.removeAttribute("laser-loader"),e.style.setProperty("--laserEdgeAni-width",null),e.style.setProperty("--laserEdgeAni-innerWidth",null),e.style.setProperty("--laserEdgeAni-height",null),e.style.setProperty("--laserEdgeAni-innerHeight",null),setTimeout((function(){e.removeAttribute("popup-loader"),setTimeout((function(){e.removeAttribute("loaded")}),1e3)}),1e3))}))}))}),10)}globalThis.addEventListener("resize",(function(){clearTimeout(m),m=setTimeout((function(){globalThis.document.body.querySelectorAll("replace-tag,:not(:defined)").length>0?v():g.abort()}),100)}),{signal:g.signal});var b=t("ReplaceTag",function(t){function e(){var t;if(s(this,e),(t=u(this,e)).getAttribute("importing-text")&&(t.importingText=t.getAttribute("importing-text")),t.exists=!0,customElements.get(t.getAttribute("with"))){var n={};if(null!=t.getAttribute("import-only"))t.exists=!1,setTimeout((function(){t.remove()}),0);else{for(var i=0,r=t.attributes,o=r.length;i<o;i++)n[r[i].nodeName]=r[i].nodeValue;var a=document.createElement(n.with);for(var i in n)if(null!=n[i])try{a.setAttribute(i,n[i])}catch(t){console.warn("Invalid Attribute Name detected: "+i)}a.removeAttribute("laser-loader"),a.removeAttribute("with"),a.removeAttribute("import-method"),a.removeAttribute("importing-text"),a.innerHTML=t.innerHTML,t.replaceWith(a)}}else customElements.whenDefined(t.getAttribute("with")).then((function(e){var n={};if(null!=t.getAttribute("import-only"))t.exists=!1,setTimeout((function(){t.remove()}),0);else{for(var i=0,r=t.attributes,o=r.length;i<o;i++)n[r[i].nodeName]=r[i].nodeValue;var a=document.createElement(n.with);for(var i in a.setAttribute("popup-loader","popup-loader"),n)if(null!=n[i])try{a.setAttribute(i,n[i])}catch(t){console.warn("Invalid Attribute Name detected: "+i)}a.removeAttribute("laser-loader"),a.innerHTML=t.innerHTML,t.replaceWith(a),setTimeout((function(){a.removeAttribute("popup-loader"),a.removeAttribute("with"),a.removeAttribute("import-method"),a.removeAttribute("importing-text"),a.removeAttribute("laser-loader"),a.style.setProperty("--laserEdgeAni-width",null),a.style.setProperty("--laserEdgeAni-innerWidth",null),a.style.setProperty("--laserEdgeAni-height",null),a.style.setProperty("--laserEdgeAni-innerHeight",null)}),250)}setTimeout((function(){document.body.querySelectorAll('replace-tag[with="'+n.with+'"]').forEach((function(t){t.runReplacement()}))}),0)}));return t.exists&&(t.template=document.createElement("template"),t.attachShadow({mode:"open"})),t}return i(e,t),r(e,[{key:"html",get:function(){return'\n    <style>\n    :host {\n      display: block;\n      opacity: .3;\n      transition: .3s linear opacity,.3s linear outline,.3s linear visibility,.3s linear display;\n    }\n    :host([import]) {\n      opacity: .1 !important;\n      background-color: transparent !important;\n      color: transparent !important;\n      padding: 0 !important;\n      margin: 0 !important;\n      font-size: 2px !important;\n      line-height: 2px !important;\n      height:2px;\n    }\n    :host(:not([import-method="click"])) {\n      background-color: #EEEEEE;\n      color: #444444;\n      font-size: 16px;\n      opacity: .8;\n      margin: 16px;\n      padding: 16px;\n    }\n    :host(:not([import-method="click"]):hover) {\n      opacity: 1 !important;\n      outline: 1px solid black;\n      cursor: pointer;\n    }\n    :host([hidden]) {\n      display: none;\n    }\n    </style>\n<div>'.concat(this.importingText,"</div>")}},{key:"render",value:function(){this.exists&&(this.shadowRoot.innerHTML=null,this.template.innerHTML=this.html,window.ShadyCSS&&window.ShadyCSS.prepareTemplate(this.template,this.tag),this.shadowRoot.appendChild(this.template.content.cloneNode(!0)))}}],[{key:"tag",get:function(){return"replace-tag"}}])}(function(t){function n(){return s(this,n),u(this,n)}return i(n,t),r(n,[{key:"connectedCallback",value:function(){o(a(n.prototype),"connectedCallback",this)&&o(a(n.prototype),"connectedCallback",this).call(this),this.evaluateReplaceMethod()}},{key:"performanceBasedReplacement",value:function(){this.setAttribute("laser-loader","laser-loader"),this.importingText||(this.importingText="Loading..."),this.render(),this.runReplacement()}},{key:"evaluateReplaceMethod",value:(p=c(d().mark((function t(){var e;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(),t.next=3,h.badDevice();case 3:e=t.sent,"view"!=this.getAttribute("import-method")&&null==this.getAttribute("import-only")&&e&&(this.importingText||(this.importingText="Click to load"),this.addEventListener("click",this.performanceBasedReplacement)),e&&null==this.getAttribute("import-only")&&"view"!=this.getAttribute("import-method")||(this.setAttribute("laser-loader","laser-loader"),this.importingText||(this.importingText="Loading..."),this.intersectionObserver||(this.intersectionObserver=new IntersectionObserver(this.handleIntersectionCallback.bind(this),{rootMargin:"0px",threshold:[0,.25,.5,.75,1],delay:150}),this.intersectionObserver.observe(this))),this.render();case 7:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"handleIntersectionCallback",value:function(t){var e,n=l(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;Number(i.intersectionRatio).toFixed(2)>=.25&&(this.intersectionObserver&&this.intersectionObserver.disconnect(),this.intersectionObserver=null,this.runReplacement())}}catch(t){n.e(t)}finally{n.f()}}},{key:"runReplacement",value:function(){var t=this;this.getAttribute("with")?e.import("./420dc78d.js").then((function(){window.WCAutoload.process().then((function(){window.WCAutoload.requestAvailability().registry.loadDefinition(t.getAttribute("with"))}))})):console.warn("replace-tag requires use of with attribute for what to upgrade to")}}]);var p}(HTMLElement)));customElements.define(b.tag,b)}}}));
